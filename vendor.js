!function(e){function __webpack_require__(t){if(n[t])return n[t].exports;var r=n[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var t=window.webpackJsonp;window.webpackJsonp=function(i,o){for(var s,a,c=0,u=[];c<i.length;c++)a=i[c],r[a]&&u.push.apply(u,r[a]),r[a]=0;for(s in o){var l=o[s];switch(typeof l){case"object":e[s]=function(t){var n=t.slice(1),r=t[0];return function(t,i,o){e[r].apply(this,[t,i,o].concat(n))}}(l);break;case"function":e[s]=l;break;default:e[s]=e[l]}}for(t&&t(i,o);u.length;)u.shift().call(null,__webpack_require__);if(o[0])return n[0]=0,__webpack_require__(0)};var n={},r={1:0};return __webpack_require__.e=function(e,t){if(0===r[e])return t.call(null,__webpack_require__);if(void 0!==r[e])r[e].push(t);else{r[e]=[t];var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=__webpack_require__.p+""+({0:"app"}[e]||e)+".214e9a2b2e67d344ed91.js",n.appendChild(i)}},__webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.p="",__webpack_require__(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";n(1),n(7),n(4),n(5),n(14),n(67),n(83),n(84),n(85)},function(e,t,n){n(2),e.exports=angular},function(e,t){!function(e){"use strict";function minErr(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,s=o[0],a="["+(e?e+":":"")+s+"] ",c=o[1];for(a+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?toDebugString(o[n]):e}),a+="\nhttp://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+s,r=i,n="?";r<o.length;r++,n="&")a+=n+"p"+(r-i)+"="+encodeURIComponent(toDebugString(o[r]));return new t(a)}}function isArrayLike(e){if(null==e||isWindow(e))return!1;if($(e)||isString(e)||u&&e instanceof u)return!0;var t="length"in Object(e)&&e.length;return isNumber(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function forEach(e,t,n){var i,o;if(e)if(isFunction(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if($(e)||isArrayLike(e)){var s="object"!=typeof e;for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(t,n,e);else if(isBlankObject(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)r.call(e,i)&&t.call(n,e[i],i,e);return e}function forEachSorted(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function reverseParams(e){return function(t,n){e(n,t)}}function nextUid(){return++b}function setHashKey(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function baseExtend(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(isObject(s)||isFunction(s))for(var a=Object.keys(s),c=0,u=a.length;c<u;c++){var l=a[c],h=s[l];n&&isObject(h)?isDate(h)?e[l]=new Date(h.valueOf()):isRegExp(h)?e[l]=new RegExp(h):h.nodeName?e[l]=h.cloneNode(!0):isElement(h)?e[l]=h.clone():(isObject(e[l])||(e[l]=$(h)?[]:{}),baseExtend(e[l],[h],!0)):e[l]=h}}return setHashKey(e,r),e}function extend(e){return baseExtend(e,f.call(arguments,1),!1)}function merge(e){return baseExtend(e,f.call(arguments,1),!0)}function toInt(e){return parseInt(e,10)}function inherit(e,t){return extend(Object.create(e),t)}function noop(){}function identity(e){return e}function valueFn(e){return function(){return e}}function hasCustomToString(e){return isFunction(e.toString)&&e.toString!==m}function isUndefined(e){return"undefined"==typeof e}function isDefined(e){return"undefined"!=typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isBlankObject(e){return null!==e&&"object"==typeof e&&!g(e)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isDate(e){return"[object Date]"===m.call(e)}function isFunction(e){return"function"==typeof e}function isRegExp(e){return"[object RegExp]"===m.call(e)}function isWindow(e){return e&&e.window===e}function isScope(e){return e&&e.$evalAsync&&e.$watch}function isFile(e){return"[object File]"===m.call(e)}function isFormData(e){return"[object FormData]"===m.call(e)}function isBlob(e){return"[object Blob]"===m.call(e)}function isBoolean(e){return"boolean"==typeof e}function isPromiseLike(e){return e&&isFunction(e.then)}function isTypedArray(e){return e&&isNumber(e.length)&&w.test(m.call(e))}function isArrayBuffer(e){return"[object ArrayBuffer]"===m.call(e)}function isElement(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function makeMap(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function nodeName_(e){return i(e.nodeName||e[0]&&e[0].nodeName)}function arrayRemove(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function copy(e,t){function copyRecurse(e,t){var n,i=t.$$hashKey;if($(e))for(var o=0,s=e.length;o<s;o++)t.push(copyElement(e[o]));else if(isBlankObject(e))for(n in e)t[n]=copyElement(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=copyElement(e[n]));else for(n in e)r.call(e,n)&&(t[n]=copyElement(e[n]));return setHashKey(t,i),t}function copyElement(e){if(!isObject(e))return e;var t=n.indexOf(e);if(t!==-1)return i[t];if(isWindow(e)||isScope(e))throw v("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=copyType(e);return void 0===o&&(o=$(e)?[]:Object.create(g(e)),r=!0),n.push(e),i.push(o),r?copyRecurse(e,o):o}function copyType(e){switch(m.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(copyElement(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(isFunction(e.cloneNode))return e.cloneNode(!0)}var n=[],i=[];if(t){if(isTypedArray(t)||isArrayBuffer(t))throw v("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw v("cpi","Can't copy! Source and destination are identical.");return $(t)?t.length=0:forEach(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),n.push(e),i.push(t),copyRecurse(e,t)}return copyElement(e)}function equals(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!$(e)){if(isDate(e))return!!isDate(t)&&equals(e.getTime(),t.getTime());if(isRegExp(e))return!!isRegExp(t)&&e.toString()==t.toString();if(isScope(e)||isScope(t)||isWindow(e)||isWindow(t)||$(t)||isDate(t)||isRegExp(t))return!1;i=createMap();for(r in e)if("$"!==r.charAt(0)&&!isFunction(e[r])){if(!equals(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&isDefined(t[r])&&!isFunction(t[r]))return!1;return!0}if(!$(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!equals(e[r],t[r]))return!1;return!0}}return!1}function concat(e,t,n){return e.concat(f.call(t,n))}function sliceArgs(e,t){return f.call(e,t||0)}function bind(e,t){var n=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,concat(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function toJsonReplacer(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:isWindow(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":isScope(n)&&(r="$SCOPE"),r}function toJson(e,t){if(!isUndefined(e))return isNumber(t)||(t=t?2:null),JSON.stringify(e,toJsonReplacer,t)}function fromJson(e){return isString(e)?JSON.parse(e):e}function timezoneToOffset(e,t){e=e.replace(C,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function addDateMinutes(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function convertTimezoneToLocal(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=timezoneToOffset(t,r);return addDateMinutes(e,n*(i-r))}function startingTag(e){e=u(e).clone();try{e.empty()}catch(e){}var t=u("<div>").append(e).html();try{return e[0].nodeType===D?i(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+i(t)})}catch(e){return i(t)}}function tryDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(e){}}function parseKeyValue(e){var t={};return forEach((e||"").split("&"),function(e){var n,i,o;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(i=e.substring(0,n),o=e.substring(n+1)),i=tryDecodeURIComponent(i),isDefined(i)&&(o=!isDefined(o)||tryDecodeURIComponent(o),r.call(t,i)?$(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o))}),t}function toKeyValue(e){var t=[];return forEach(e,function(e,n){$(e)?forEach(e,function(e){t.push(encodeUriQuery(n,!0)+(e===!0?"":"="+encodeUriQuery(e,!0)))}):t.push(encodeUriQuery(n,!0)+(e===!0?"":"="+encodeUriQuery(e,!0)))}),t.length?t.join("&"):""}function encodeUriSegment(e){return encodeUriQuery(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function getNgAttribute(e,t){var n,r,i=A.length;for(r=0;r<i;++r)if(n=A[r]+t,isString(n=e.getAttribute(n)))return n;return null}function angularInit(e,t){var n,r,i={};forEach(A,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),forEach(A,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==getNgAttribute(n,"strict-di"),t(n,r?[r]:[],i))}function bootstrap(t,n,r){isObject(r)||(r={});var i={strictDi:!1};r=extend(i,r);var o=function(){if(t=u(t),t.injector()){var i=t[0]===e.document?"document":startingTag(t);throw v("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=createInjector(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!a.test(e.name)?o():(e.name=e.name.replace(a,""),y.resumeBootstrap=function(e){return forEach(e,function(e){n.push(e)}),o()},void(isFunction(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function getTestability(e){var t=y.element(e).injector();if(!t)throw v("test","no injector found for element argument to getTestability");return t.get("$$testability")}function snake_case(e,t){return t=t||"_",e.replace(T,function(e,n){return(n?t:"")+e.toLowerCase()})}function bindJQuery(){var t;if(!k){var n=x();l=isUndefined(n)?e.jQuery:n?e[n]:void 0,l&&l.fn.on?(u=l,extend(l.fn,{scope:Y.scope,isolateScope:Y.isolateScope,controller:Y.controller,injector:Y.injector,inheritedData:Y.inheritedData}),t=l.cleanData,l.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=l._data(r,"events"),n&&n.$destroy&&l(r).triggerHandler("$destroy");t(e)}):u=JQLite,y.element=u,k=!0}}function assertArg(e,t,n){if(!e)throw v("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function assertArgFn(e,t,n){return n&&$(e)&&(e=e[e.length-1]),assertArg(isFunction(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function assertNotHasOwnProperty(e,t){if("hasOwnProperty"===e)throw v("badname","hasOwnProperty is not a valid {0} name",t)}function getter(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e&&(e=(o=e)[r]);return!n&&isFunction(e)?bind(o,e):e}function getBlockNodes(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=u(f.call(e,0,i))),t.push(n));return t||e}function createMap(){return Object.create(null)}function setupModuleLoader(e){function ensure(e,t,n){return e[t]||(e[t]=n())}var t=minErr("$injector"),n=minErr("ng"),r=ensure(e,"angular",Object);return r.$$minErr=r.$$minErr||minErr,ensure(r,"module",function(){var e={};return function(r,i,o){var s=function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),i&&e.hasOwnProperty(r)&&(e[r]=null),ensure(e,r,function(){function invokeLater(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}function invokeLaterAndSetModuleName(t,n){return function(i,o){return o&&isFunction(o)&&(o.$$moduleName=r),e.push([t,n,arguments]),c}}if(!i)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],n=[],s=[],a=invokeLater("$injector","invoke","push",n),c={_invokeQueue:e,_configBlocks:n,_runBlocks:s,requires:i,name:r,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:a,run:function(e){return s.push(e),this}};return o&&a(o),c})}})}function shallowCopy(e,t){if($(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(isObject(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function serializeObject(e){var t=[];return JSON.stringify(e,function(e,n){if(n=toJsonReplacer(e,n),isObject(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function toDebugString(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):isUndefined(e)?"undefined":"string"!=typeof e?serializeObject(e):e}function publishExternalAPI(t){extend(t,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:u,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:$,version:M,isDate:isDate,lowercase:i,uppercase:o,callbacks:{$$counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:E,reloadWithDebugInfo:reloadWithDebugInfo}),(h=setupModuleLoader(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:$$SanitizeUriProvider}),e.provider("$compile",$CompileProvider).directive({a:ot,input:Et,textarea:Et,form:lt,script:$n,select:Sn,style:xn,option:En,ngBind:At,ngBindHtml:kt,ngBindTemplate:Tt,ngClass:Ot,ngClassEven:Rt,ngClassOdd:Dt,ngCloak:It,ngController:Pt,ngForm:ht,ngHide:pn,ngIf:jt,ngInclude:Ft,ngInit:Ut,ngNonBindable:rn,ngPluralize:cn,ngRepeat:un,ngShow:fn,ngStyle:dn,ngSwitch:mn,ngSwitchWhen:gn,ngSwitchDefault:vn,ngOptions:an,ngTransclude:bn,ngModel:en,ngList:qt,ngChange:Nt,pattern:An,ngPattern:An,required:Cn,ngRequired:Cn,minlength:kn,ngMinlength:kn,maxlength:Tn,ngMaxlength:Tn,ngValue:Ct,ngModelOptions:nn}).directive({ngInclude:Bt}).directive(st).directive(Mt),e.provider({$anchorScroll:$AnchorScrollProvider,$animate:pe,$animateCss:ge,$$animateJs:he,$$animateQueue:fe,$$AnimateRunner:me,$$animateAsyncRun:de,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:_e,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:Oe,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:te,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++j}function camelCase(e){return e.replace(U,function(e,t,n,r){return r?n.toUpperCase():n}).replace(q,"Moz$1")}function jqLiteIsTextNode(e){return!z.test(e)}function jqLiteAcceptsData(e){var t=e.nodeType;return t===N||!t||t===I}function jqLiteHasData(e){for(var t in L[e.ng339])return!0;return!1}function jqLiteCleanData(e){for(var t=0,n=e.length;t<n;t++)jqLiteRemoveData(e[t])}function jqLiteBuildFragment(e,t){var n,r,i,o,s=t.createDocumentFragment(),a=[];if(jqLiteIsTextNode(e))a.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(G.exec(e)||["",""])[1].toLowerCase(),i=J[r]||J._default,n.innerHTML=i[1]+e.replace(X,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;a=concat(a,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",forEach(a,function(e){s.appendChild(e)}),s}function jqLiteParseHTML(t,n){n=n||e.document;var r;return(r=W.exec(t))?[n.createElement(r[1])]:(r=jqLiteBuildFragment(t,n))?r.childNodes:[]}function jqLiteWrapNode(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function JQLite(e){if(e instanceof JQLite)return e;var t;if(isString(e)&&(e=_(e),t=!0),!(this instanceof JQLite)){if(t&&"<"!=e.charAt(0))throw V("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(e)}t?jqLiteAddNodes(this,jqLiteParseHTML(e)):jqLiteAddNodes(this,e)}function jqLiteClone(e){return e.cloneNode(!0)}function jqLiteDealoc(e,t){if(t||jqLiteRemoveData(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)jqLiteRemoveData(n[r])}function jqLiteOff(e,t,n,r){if(isDefined(r))throw V("offargs","jqLite#off() does not support the `selector` argument");var i=jqLiteExpandoStore(e),o=i&&i.events,s=i&&i.handle;if(s)if(t){var a=function(t){var r=o[t];isDefined(n)&&arrayRemove(r||[],n),isDefined(n)&&r&&r.length>0||(B(e,t,s),delete o[t])};forEach(t.split(" "),function(e){a(e),H[e]&&a(H[e])})}else for(t in o)"$destroy"!==t&&B(e,t,s),delete o[t]}function jqLiteRemoveData(e,t){var n=e.ng339,r=n&&L[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),jqLiteOff(e)),delete L[n],e.ng339=void 0}}function jqLiteExpandoStore(e,t){var n=e.ng339,r=n&&L[n];return t&&!r&&(e.ng339=n=jqNextId(),r=L[n]={events:{},data:{},handle:void 0}),r}function jqLiteData(e,t,n){if(jqLiteAcceptsData(e)){var r=isDefined(n),i=!r&&t&&!isObject(t),o=!t,s=jqLiteExpandoStore(e,!i),a=s&&s.data;if(r)a[t]=n;else{if(o)return a;if(i)return a&&a[t];extend(a,t)}}}function jqLiteHasClass(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function jqLiteRemoveClass(e,t){t&&e.setAttribute&&forEach(t.split(" "),function(t){e.setAttribute("class",_((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+_(t)+" "," ")))})}function jqLiteAddClass(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(t.split(" "),function(e){e=_(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",_(n))}}function jqLiteAddNodes(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function jqLiteController(e,t){return jqLiteInheritedData(e,"$"+(t||"ngController")+"Controller")}function jqLiteInheritedData(e,t,n){e.nodeType==I&&(e=e.documentElement);for(var r=$(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(isDefined(n=u.data(e,r[i])))return n;e=e.parentNode||e.nodeType===P&&e.host}}function jqLiteEmpty(e){for(jqLiteDealoc(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function jqLiteRemove(e,t){t||jqLiteDealoc(e);var n=e.parentNode;n&&n.removeChild(e)}function jqLiteDocumentLoaded(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):u(n).on("load",t)}function getBooleanAttrName(e,t){var n=Q[t.toLowerCase()];return n&&Z[nodeName_(e)]&&n}function getAliasedAttrName(e){return ee[e]}function createEventHandler(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(isUndefined(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var a=i.specialHandlerWrapper||defaultHandlerWrapper;o>1&&(i=shallowCopy(i));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||a(e,n,i[c])}};return n.elem=e,n}function defaultHandlerWrapper(e,t,n){n.call(e,t)}function specialMouseHandlerWrapper(e,t,n){var r=t.relatedTarget;r&&(r===e||K.call(e,r))||n.call(e,t)}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(e,t){return e.attr&&(e=e[0]),jqLiteHasClass(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),jqLiteAddClass(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),jqLiteRemoveClass(e,t)}})}}function hashKey(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||nextUid)():r+":"+e}function HashMap(e,t){if(t){var n=0;this.nextUid=function(){return++n}}forEach(e,this.put,this)}function stringifyFn(e){return Function.prototype.toString.call(e)+" "}function extractArgs(e){var t=stringifyFn(e).replace(se,""),n=t.match(ne)||t.match(re);return n}function anonFn(e){var t=extractArgs(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(e,t,n){var r,i,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw isString(n)&&n||(n=e.name||anonFn(e)),ae("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=extractArgs(e),forEach(i[1].split(ie),function(e){e.replace(oe,function(e,t,n){r.push(n)})})}e.$inject=r}}else $(e)?(o=e.length-1,assertArgFn(e[o],"fn"),r=e.slice(0,o)):assertArgFn(e,"fn",!0);return r}function createInjector(e,t){function supportObject(e){return function(t,n){return isObject(t)?void forEach(t,reverseParams(e)):e(t,n)}}function provider(e,t){if(assertNotHasOwnProperty(e,"service"),(isFunction(t)||$(t))&&(t=a.instantiate(t)),!t.$get)throw ae("pget","Provider '{0}' must define $get factory method.",e);return s[e+r]=t}function enforceReturnValue(e,t){return function(){var n=f.invoke(t,this);if(isUndefined(n))throw ae("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function factory(e,t,n){return provider(e,{$get:n!==!1?enforceReturnValue(e,t):t})}function service(e,t){return factory(e,["$injector",function(e){return e.instantiate(t)}])}function value(e,t){return factory(e,valueFn(t),!1)}function constant(e,t){assertNotHasOwnProperty(e,"constant"),s[e]=t,u[e]=t}function decorator(e,t){var n=a.get(e+r),i=n.$get;n.$get=function(){var e=f.invoke(i,n);return f.invoke(t,null,{$delegate:e})}}function loadModules(e){assertArg(isUndefined(e)||$(e),"modulesToLoad","not an array");var t,n=[];return forEach(e,function(e){function runInvokeQueue(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=a.get(r[0]);i[r[1]].apply(i,r[2])}}if(!o.get(e)){o.put(e,!0);try{isString(e)?(t=h(e),n=n.concat(loadModules(t.requires)).concat(t._runBlocks),runInvokeQueue(t._invokeQueue),runInvokeQueue(t._configBlocks)):isFunction(e)?n.push(a.invoke(e)):$(e)?n.push(a.invoke(e)):assertArgFn(e,"module")}catch(t){throw $(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)==-1&&(t=t.message+"\n"+t.stack),ae("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function createInternalInjector(e,o){function getService(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw ae("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=o(t,r)}catch(r){throw e[t]===n&&delete e[t],r}finally{i.shift()}}function injectionArgs(e,n,r){for(var i=[],o=createInjector.$$annotate(e,t,r),s=0,a=o.length;s<a;s++){var c=o[s];if("string"!=typeof c)throw ae("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:getService(c,r))}return i}function isClass(e){return!(c<=11)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(stringifyFn(e)))}function invoke(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=injectionArgs(e,n,r);return $(e)&&(e=e[e.length-1]),isClass(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)}function instantiate(e,t,n){var r=$(e)?e[e.length-1]:e,i=injectionArgs(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(t){return s.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}t=t===!0;var n={},r="Provider",i=[],o=new HashMap([],!0),s={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},a=s.$injector=createInternalInjector(s,function(e,t){throw y.isString(t)&&i.push(t),ae("unpr","Unknown provider: {0}",i.join(" <- "))}),u={},l=createInternalInjector(u,function(e,t){var n=a.get(e+r,t);return f.invoke(n.$get,n,void 0,e)}),f=l;s["$injector"+r]={$get:valueFn(l)};var p=loadModules(e);return f=l.get("$injector"),f.strictDi=t,forEach(p,function(e){e&&f.invoke(e)}),f}function $AnchorScrollProvider(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function getFirstAnchor(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===nodeName_(e))return t=e,!0}),t}function getYOffset(){var e=scroll.yOffset;if(isFunction(e))e=e();else if(isElement(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else isNumber(e)||(e=0);return e}function scrollTo(e){if(e){e.scrollIntoView();var n=getYOffset();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function scroll(e){e=isString(e)?e:n.hash();var t;e?(t=i.getElementById(e))?scrollTo(t):(t=getFirstAnchor(i.getElementsByName(e)))?scrollTo(t):"top"===e&&scrollTo(null):scrollTo(null)}var i=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||jqLiteDocumentLoaded(function(){r.$evalAsync(scroll)})}),scroll}]}function mergeClasses(e,t){return e||t?e?t?($(e)&&(e=e.join(" ")),$(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function extractElementNode(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===ue)return n}}function splitClasses(e){isString(e)&&(e=e.split(" "));var t=createMap();return forEach(e,function(e){e.length&&(t[e]=!0)}),t}function prepareAnimateOptions(e){return isObject(e)?e:{}}function Browser(e,t,n,r){function completeOutstandingRequest(e){try{e.apply(null,sliceArgs(arguments,1))}finally{if(h--,0===h)for(;f.length;)try{f.pop()()}catch(e){n.error(e)}}}function getHash(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function cacheStateAndFireUrlChange(){v=null,cacheState(),fireUrlChange()}function cacheState(){p=y(),p=isUndefined(p)?null:p,equals(p,w)&&(p=w),w=p}function fireUrlChange(){m===i.url()&&d===p||(m=i.url(),d=p,forEach(b,function(e){e(i.url(),p)}))}var i=this,o=e.location,s=e.history,a=e.setTimeout,c=e.clearTimeout,l={};i.isMock=!1;var h=0,f=[];i.$$completeOutstandingRequest=completeOutstandingRequest,i.$$incOutstandingRequestCount=function(){h++},i.notifyWhenNoOutstandingRequests=function(e){0===h?e():f.push(e)};var p,d,m=o.href,g=t.find("base"),v=null,y=r.history?function(){try{return s.state}catch(e){}}:noop;cacheState(),d=p,i.url=function(t,n,a){if(isUndefined(a)&&(a=null),o!==e.location&&(o=e.location),s!==e.history&&(s=e.history),t){var c=d===a;if(m===t&&(!r.history||c))return i;var u=m&&stripHash(m)===stripHash(t);return m=t,d=a,!r.history||u&&c?(u||(v=t),n?o.replace(t):u?o.hash=getHash(t):o.href=t,o.href!==t&&(v=t)):(s[n?"replaceState":"pushState"](a,"",t),cacheState(),d=p),v&&(v=t),i}return v||o.href.replace(/%27/g,"'")},i.state=function(){return p};var b=[],$=!1,w=null;i.onUrlChange=function(t){return $||(r.history&&u(e).on("popstate",cacheStateAndFireUrlChange),u(e).on("hashchange",cacheStateAndFireUrlChange),$=!0),b.push(t),t},i.$$applicationDestroyed=function(){u(e).off("hashchange popstate",cacheStateAndFireUrlChange)},i.$$checkUrlChange=fireUrlChange,i.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},i.defer=function(e,t){var n;return h++,n=a(function(){delete l[n],completeOutstandingRequest(e)},t||0),l[n]=!0,n},i.defer.cancel=function(e){return!!l[e]&&(delete l[e],c(e),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Browser(e,r,t,n)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(t,n){function refresh(e){e!=c&&(u?u==e&&(u=e.n):u=e,link(e.n,e.p),link(e,c),c=e,c.n=null)}function link(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,i=extend({},n,{id:t}),o=createMap(),s=n&&n.capacity||Number.MAX_VALUE,a=createMap(),c=null,u=null;return e[t]={put:function(e,t){if(!isUndefined(t)){if(s<Number.MAX_VALUE){var n=a[e]||(a[e]={key:e});refresh(n)}return e in o||r++,o[e]=t,r>s&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=a[e];if(!t)return;refresh(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=a[e];if(!t)return;t==c&&(c=t.p),t==u&&(u=t.n),link(t.n,t.p),delete a[e]}e in o&&(delete o[e],r--)},removeAll:function(){o=createMap(),r=0,a=createMap(),c=u=null},destroy:function(){o=null,i=null,a=null,delete e[t]},info:function(){return extend({},i,{size:r})}}}var e={};return cacheFactory.info=function(){var t={};return forEach(e,function(e,n){t[n]=e.info()}),t},cacheFactory.get=function(t){return e[t]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function UNINITIALIZED_VALUE(){}function $CompileProvider(t,n){function parseIsolateBindings(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,i=createMap();return forEach(e,function(e,o){if(e in d)return void(i[o]=d[e]);
var s=e.match(r);if(!s)throw ve("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(d[e]=i[o])}),i}function parseDirectiveBindings(e,t){var n={isolateScope:null,bindToController:null};if(isObject(e.scope)&&(e.bindToController===!0?(n.bindToController=parseIsolateBindings(e.scope,t,!0),n.isolateScope={}):n.isolateScope=parseIsolateBindings(e.scope,t,!1)),isObject(e.bindToController)&&(n.bindToController=parseIsolateBindings(e.bindToController,t,!0)),isObject(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw ve("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!identifierForController(r,i))throw ve("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function assertValidDirectiveName(e){var t=e.charAt(0);if(!t||t!==i(t))throw ve("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ve("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function getDirectiveRequire(e){var t=e.require||e.controller&&e.name;return!$(t)&&isObject(t)&&forEach(t,function(e,n){var r=e.match(f),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}var o={},s="Directive",a=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=makeMap("ngSrc,ngSrcset,src,srcset"),f=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,d=createMap();this.directive=function registerDirective(e,n){return assertNotHasOwnProperty(e,"directive"),isString(e)?(assertValidDirectiveName(e),assertArg(n,"directiveFactory"),o.hasOwnProperty(e)||(o[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return forEach(o[e],function(i,o){try{var s=t.invoke(i);isFunction(s)?s={compile:valueFn(s)}:!s.compile&&s.link&&(s.compile=valueFn(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=getDirectiveRequire(s),s.restrict=s.restrict||"EA",s.$$moduleName=i.$$moduleName,r.push(s)}catch(e){n(e)}}),r}])),o[e].push(n)):forEach(e,reverseParams(registerDirective)),this},this.component=function(e,t){function factory(e){function makeInjectable(t){return isFunction(t)||$(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var r=t.template||t.templateUrl?t.template:"",i={controller:n,controllerAs:identifierForController(t.controller)||t.controllerAs||"$ctrl",template:makeInjectable(r),templateUrl:makeInjectable(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return forEach(t,function(e,t){"$"===t.charAt(0)&&(i[t]=e)}),i}var n=t.controller||function(){};return forEach(t,function(e,t){"$"===t.charAt(0)&&(factory[t]=e,isFunction(n)&&(n[t]=e))}),factory.$inject=["$injector"],this.directive(e,factory)},this.aHrefSanitizationWhitelist=function(e){return isDefined(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var g=!0;this.debugInfoEnabled=function(e){return isDefined(e)?(g=e,this):g};var v=10;this.onChangesTtl=function(e){return arguments.length?(v=e,this):v},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,d,y,b,w,S,E,x,C){function flushOnChangesQueue(){try{if(!--O)throw A=void 0,ve("infchng","{0} $onChanges() iterations reached. Aborting!\n",v);S.$apply(function(){for(var e=[],t=0,n=A.length;t<n;++t)try{A[t]()}catch(t){e.push(t)}if(A=void 0,e.length)throw e})}finally{O++}}function Attributes(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function setSpecialAttr(e,t,n){k.innerHTML="<span "+t+">";var r=k.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function safeAddClass(e,t){try{e.addClass(t)}catch(e){}}function compile(t,n,r,i,o){t instanceof u||(t=u(t));for(var s=/\S+/,a=0,c=t.length;a<c;a++){var l=t[a];l.nodeType===D&&l.nodeValue.match(s)&&jqLiteWrapNode(l,t[a]=e.document.createElement("span"))}var h=compileNodes(t,n,t,r,i,o);compile.$$addScopeClass(t);var f=null;return function(e,n,r){assertArg(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,s=r.transcludeControllers,a=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),f||(f=detectNamespaceForChildElements(a));var c;if(c="html"!==f?u(wrapTemplate(f,u("<div>").append(t).html())):n?Y.clone.call(t):t,s)for(var l in s)c.data("$"+l+"Controller",s[l].instance);return compile.$$addScopeInfo(c,e),n&&n(c,e),h&&h(e,c,c,i),c}}function detectNamespaceForChildElements(e){var t=e&&e[0];return t&&"foreignobject"!==nodeName_(t)&&m.call(t).match(/SVG/)?"svg":"html"}function compileNodes(e,t,n,r,i,o){function compositeLinkFn(e,n,r,i){var o,s,a,c,l,h,f,m,g;if(p){var v=n.length;for(g=new Array(v),l=0;l<d.length;l+=3)f=d[l],g[f]=n[f]}else g=n;for(l=0,h=d.length;l<h;)a=g[d[l++]],o=d[l++],s=d[l++],o?(o.scope?(c=e.$new(),compile.$$addScopeInfo(u(a),c)):c=e,m=o.transcludeOnThisElement?createBoundTranscludeFn(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?createBoundTranscludeFn(e,t):null,o(s,c,a,r,m)):s&&s(e,a.childNodes,void 0,i)}for(var s,a,c,l,h,f,p,d=[],m=0;m<e.length;m++)s=new Attributes,a=collectDirectives(e[m],[],s,0===m?r:void 0,i),c=a.length?applyDirectivesToNode(a,e[m],s,t,n,null,[],[],o):null,c&&c.scope&&compile.$$addScopeClass(s.$$element),h=c&&c.terminal||!(l=e[m].childNodes)||!l.length?null:compileNodes(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||h)&&(d.push(m,c,h),f=!0,p=p||c),o=null;return f?compositeLinkFn:null}function createBoundTranscludeFn(e,t,n){function boundTranscludeFn(r,i,o,s,a){return r||(r=e.$new(!1,a),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var r=boundTranscludeFn.$$slots=createMap();for(var i in t.$$slots)t.$$slots[i]?r[i]=createBoundTranscludeFn(e,t.$$slots[i],n):r[i]=null;return boundTranscludeFn}function collectDirectives(e,t,n,r,i){var o,s,a=e.nodeType,u=n.$attr;switch(a){case N:addDirective(t,directiveNormalize(nodeName_(e)),"E",r,i);for(var h,f,p,d,m,g,v=e.attributes,y=0,b=v&&v.length;y<b;y++){var $=!1,w=!1;h=v[y],f=h.name,m=_(h.value),d=directiveNormalize(f),(g=L.test(d))&&(f=f.replace(be,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=d.match(j);S&&directiveIsMultiElement(S[1])&&($=f,w=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),p=directiveNormalize(f.toLowerCase()),u[p]=f,!g&&n.hasOwnProperty(p)||(n[p]=m,getBooleanAttrName(e,p)&&(n[p]=!0)),addAttrInterpolateDirective(e,t,m,p,g),addDirective(t,p,"A",r,i,$,w)}if(s=e.className,isObject(s)&&(s=s.animVal),isString(s)&&""!==s)for(;o=l.exec(s);)p=directiveNormalize(o[2]),addDirective(t,p,"C",r,i)&&(n[p]=_(o[3])),s=s.substr(o.index+o[0].length);break;case D:if(11===c)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===D;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);addTextInterpolateDirective(t,e.nodeValue);break;case R:collectCommentDirectives(e,t,n,r,i)}return t.sort(byPriority),t}function collectCommentDirectives(e,t,n,r,i){try{var o=a.exec(e.nodeValue);if(o){var s=directiveNormalize(o[1]);addDirective(t,s,"M",r,i)&&(n[s]=_(o[2]))}}catch(e){}}function groupScan(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ve("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==N&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return u(r)}function groupElementsLinkFnWrapper(e,t,n){return function(r,i,o,s,a){return i=groupScan(i[0],t,n),e(r,i,o,s,a)}}function compilationGenerator(e,t,n,r,i,o){var s;return e?compile(t,n,r,i,o):function(){return s||(s=compile(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function applyDirectivesToNode(e,t,n,r,i,o,s,a,c){function addLinkFns(e,t,n,r){e&&(n&&(e=groupElementsLinkFnWrapper(e,n,r)),e.require=l.require,e.directiveName=h,(b===l||l.$$isolateScope)&&(e=cloneAndAnnotateFn(e,{isolateScope:!0})),s.push(e)),t&&(n&&(t=groupElementsLinkFnWrapper(t,n,r)),t.require=l.require,t.directiveName=h,(b===l||l.$$isolateScope)&&(t=cloneAndAnnotateFn(t,{isolateScope:!0})),a.push(t))}function nodeLinkFn(e,r,i,o,c){function controllersBoundTransclude(e,t,n,r){var i;if(isScope(e)||(r=n,n=t,t=e,e=void 0),C&&(i=g),n||(n=C?S.parent():S),!r)return c(e,t,i,n,D);var o=c.$$slots[r];if(o)return o(e,t,i,n,D);if(isUndefined(o))throw ve("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,startingTag(S))}var l,h,f,p,m,g,_,S,E,x;t===i?(E=n,S=n.$$element):(S=u(i),E=new Attributes(S,n)),m=r,b?p=r.$new(!0):v&&(m=r.$parent),c&&(_=controllersBoundTransclude,_.$$boundTransclude=c,_.isSlotFilled=function(e){return!!c.$$slots[e]}),y&&(g=setupControllers(S,E,_,y,p,r,b)),b&&(compile.$$addScopeInfo(S,p,!0,!(w&&(w===b||w===b.$$originalDirective))),compile.$$addScopeClass(S,!0),p.$$isolateBindings=b.$$isolateBindings,x=initializeDirectiveBindings(r,E,p,p.$$isolateBindings,b),x.removeWatches&&p.$on("$destroy",x.removeWatches));for(var A in g){var T=y[A],k=g[A],N=T.$$bindings.bindToController;k.identifier&&N?k.bindingInfo=initializeDirectiveBindings(m,E,k.instance,N,T):k.bindingInfo={};var O=k();O!==k.instance&&(k.instance=O,S.data("$"+T.name+"Controller",O),k.bindingInfo.removeWatches&&k.bindingInfo.removeWatches(),k.bindingInfo=initializeDirectiveBindings(m,E,k.instance,N,T))}for(forEach(y,function(e,t){var n=e.require;e.bindToController&&!$(n)&&isObject(n)&&extend(g[t].instance,getControllers(t,n,S,g))}),forEach(g,function(e){var t=e.instance;if(isFunction(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){d(e)}if(isFunction(t.$onInit))try{t.$onInit()}catch(e){d(e)}isFunction(t.$doCheck)&&(m.$watch(function(){t.$doCheck()}),t.$doCheck()),isFunction(t.$onDestroy)&&m.$on("$destroy",function(){t.$onDestroy()})}),l=0,h=s.length;l<h;l++)f=s[l],invokeLinkFn(f,f.isolateScope?p:r,S,E,f.require&&getControllers(f.directiveName,f.require,S,g),_);var D=r;for(b&&(b.template||null===b.templateUrl)&&(D=p),e&&e(D,i.childNodes,void 0,c),l=a.length-1;l>=0;l--)f=a[l],invokeLinkFn(f,f.isolateScope?p:r,S,E,f.require&&getControllers(f.directiveName,f.require,S,g),_);forEach(g,function(e){var t=e.instance;isFunction(t.$postLink)&&t.$postLink()})}c=c||{};for(var l,h,f,p,m,g=-Number.MAX_VALUE,v=c.newScopeDirective,y=c.controllerDirectives,b=c.newIsolateScopeDirective,w=c.templateDirective,S=c.nonTlbTranscludeDirective,E=!1,x=!1,C=c.hasElementTranscludeDirective,A=n.$$element=u(t),T=o,k=r,O=!1,D=!1,R=0,I=e.length;R<I;R++){l=e[R];var P=l.$$start,L=l.$$end;if(P&&(A=groupScan(t,P,L)),f=void 0,g>l.priority)break;if((m=l.scope)&&(l.templateUrl||(isObject(m)?(assertNoDuplicate("new/isolated scope",b||v,l,A),b=l):assertNoDuplicate("new/isolated scope",b,l,A)),v=v||l),h=l.name,!O&&(l.replace&&(l.templateUrl||l.template)||l.transclude&&!l.$$tlb)){for(var j,F=R+1;j=e[F++];)if(j.transclude&&!j.$$tlb||j.replace&&(j.templateUrl||j.template)){D=!0;break}O=!0}if(!l.templateUrl&&l.controller&&(m=l.controller,y=y||createMap(),assertNoDuplicate("'"+h+"' controller",y[h],l,A),y[h]=l),m=l.transclude)if(E=!0,l.$$tlb||(assertNoDuplicate("transclusion",S,l,A),S=l),"element"==m)C=!0,g=l.priority,f=A,A=n.$$element=u(compile.$$createComment(h,n[h])),t=A[0],replaceWith(i,sliceArgs(f),t),f[0].$$parentNode=f[0].parentNode,k=compilationGenerator(D,f,r,g,T&&T.name,{nonTlbTranscludeDirective:S});else{var B=createMap();if(f=u(jqLiteClone(t)).contents(),isObject(m)){f=[];var U=createMap(),q=createMap();forEach(m,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,U[e]=t,B[t]=null,q[t]=n}),forEach(A.contents(),function(e){var t=U[directiveNormalize(nodeName_(e))];t?(q[t]=!0,B[t]=B[t]||[],B[t].push(e)):f.push(e)}),forEach(q,function(e,t){if(!e)throw ve("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var H in B)B[H]&&(B[H]=compilationGenerator(D,B[H],r))}A.empty(),k=compilationGenerator(D,f,r,void 0,void 0,{needsNewScope:l.$$isolateScope||l.$$newScope}),k.$$slots=B}if(l.template)if(x=!0,assertNoDuplicate("template",w,l,A),w=l,m=isFunction(l.template)?l.template(A,n):l.template,m=M(m),l.replace){if(T=l,f=jqLiteIsTextNode(m)?[]:removeComments(wrapTemplate(l.templateNamespace,_(m))),t=f[0],1!=f.length||t.nodeType!==N)throw ve("tplrt","Template for directive '{0}' must have exactly one root element. {1}",h,"");replaceWith(i,A,t);var V={$attr:{}},W=collectDirectives(t,[],V),z=e.splice(R+1,e.length-(R+1));(b||v)&&markDirectiveScope(W,b,v),e=e.concat(W).concat(z),mergeTemplateAttributes(n,V),I=e.length}else A.html(m);if(l.templateUrl)x=!0,assertNoDuplicate("template",w,l,A),w=l,l.replace&&(T=l),nodeLinkFn=compileTemplateUrl(e.splice(R,e.length-R),A,n,i,E&&k,s,a,{controllerDirectives:y,newScopeDirective:v!==l&&v,newIsolateScopeDirective:b,templateDirective:w,nonTlbTranscludeDirective:S}),I=e.length;else if(l.compile)try{p=l.compile(A,n,k);var G=l.$$originalDirective||l;isFunction(p)?addLinkFns(null,bind(G,p),P,L):p&&addLinkFns(bind(G,p.pre),bind(G,p.post),P,L)}catch(e){d(e,startingTag(A))}l.terminal&&(nodeLinkFn.terminal=!0,g=Math.max(g,l.priority))}return nodeLinkFn.scope=v&&v.scope===!0,nodeLinkFn.transcludeOnThisElement=E,nodeLinkFn.templateOnThisElement=x,nodeLinkFn.transclude=k,c.hasElementTranscludeDirective=C,nodeLinkFn}function getControllers(e,t,n,r){var i;if(isString(t)){var o=t.match(f),s=t.substring(o[0].length),a=o[1]||o[3],c="?"===o[2];if("^^"===a?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var u="$"+s+"Controller";i=a?n.inheritedData(u):n.data(u)}if(!i&&!c)throw ve("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if($(t)){i=[];for(var l=0,h=t.length;l<h;l++)i[l]=getControllers(e,t[l],n,r)}else isObject(t)&&(i={},forEach(t,function(t,o){i[o]=getControllers(e,t,n,r)}));return i||null}function setupControllers(e,t,n,r,i,o,s){var a=createMap();for(var c in r){var u=r[c],l={$scope:u===s||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},h=u.controller;"@"==h&&(h=t[u.name]);var f=w(h,l,!0,u.controllerAs);a[u.name]=f,e.data("$"+u.name+"Controller",f.instance)}return a}function markDirectiveScope(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=inherit(e[r],{$$isolateScope:t,$$newScope:n})}function addDirective(e,n,r,i,a,c,u){if(n===a)return null;var l=null;if(o.hasOwnProperty(n))for(var h,f=t.get(n+s),p=0,m=f.length;p<m;p++)try{if(h=f[p],(isUndefined(i)||i>h.priority)&&h.restrict.indexOf(r)!=-1){if(c&&(h=inherit(h,{$$start:c,$$end:u})),!h.$$bindings){var g=h.$$bindings=parseDirectiveBindings(h,h.name);isObject(g.isolateScope)&&(h.$$isolateBindings=g.isolateScope)}e.push(h),l=h}}catch(e){d(e)}return l}function directiveIsMultiElement(e){if(o.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,a=r.length;i<a;i++)if(n=r[i],n.multiElement)return!0;return!1}function mergeTemplateAttributes(e,t){var n=t.$attr,r=e.$attr;e.$$element;forEach(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),forEach(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function compileTemplateUrl(e,t,n,r,i,o,s,a){var c,l,h=[],f=t[0],p=e.shift(),d=inherit(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),m=isFunction(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,g=p.templateNamespace;return t.empty(),y(m).then(function(v){var y,b,$,w;if(v=M(v),p.replace){if($=jqLiteIsTextNode(v)?[]:removeComments(wrapTemplate(g,_(v))),y=$[0],1!=$.length||y.nodeType!==N)throw ve("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,m);b={$attr:{}},replaceWith(r,t,y);var S=collectDirectives(y,[],b);isObject(p.scope)&&markDirectiveScope(S,!0),e=S.concat(e),mergeTemplateAttributes(n,b)}else y=f,t.html(v);for(e.unshift(d),c=applyDirectivesToNode(e,y,n,i,t,p,o,s,a),forEach(r,function(e,n){e==y&&(r[n]=t[0])}),l=compileNodes(t[0].childNodes,i);h.length;){var E=h.shift(),x=h.shift(),C=h.shift(),A=h.shift(),T=t[0];if(!E.$$destroyed){if(x!==f){var k=x.className;a.hasElementTranscludeDirective&&p.replace||(T=jqLiteClone(y)),replaceWith(C,u(x),T),safeAddClass(u(T),k)}w=c.transcludeOnThisElement?createBoundTranscludeFn(E,c.transclude,A):A,c(l,E,T,r,w)}}h=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(h?h.push(t,n,r,o):(c.transcludeOnThisElement&&(o=createBoundTranscludeFn(t,c.transclude,i)),c(l,t,n,r,o)))}}function byPriority(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function assertNoDuplicate(e,t,n,r){function wrapModuleNameIfDefined(e){return e?" (module: "+e+")":""}if(t)throw ve("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,wrapModuleNameIfDefined(t.$$moduleName),n.name,wrapModuleNameIfDefined(n.$$moduleName),e,startingTag(r))}function addTextInterpolateDirective(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&compile.$$addBindingClass(t),function(e,t){var i=t.parent();n||compile.$$addBindingClass(i),compile.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function wrapTemplate(t,n){switch(t=i(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function getTrustedContext(e,t){if("srcdoc"==t)return E.HTML;var n=nodeName_(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?E.RESOURCE_URL:void 0}function addAttrInterpolateDirective(e,t,r,i,o){var s=getTrustedContext(e,i);o=h[i]||o;var a=n(r,!0,s,o);if(a){if("multiple"===i&&"select"===nodeName_(e))throw ve("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var u=c.$$observers||(c.$$observers=createMap());if(p.test(i))throw ve("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=c[i];l!==r&&(a=l&&n(l,!0,s,o),r=l),a&&(c[i]=a(e),(u[i]||(u[i]=[])).$$inter=!0,(c.$$observers&&c.$$observers[i].$$scope||e).$watch(a,function(e,t){"class"===i&&e!=t?c.$updateClass(e,t):c.$set(i,e)}))}}}})}}function replaceWith(t,n,r){var i,o,s=n[0],a=n.length,c=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==s){t[i++]=r;for(var l=i,h=l+a-1,f=t.length;l<f;l++,h++)h<f?t[l]=t[h]:delete t[l];t.length-=a-1,t.context===s&&(t.context=r);break}c&&c.replaceChild(r,s);var p=e.document.createDocumentFragment();for(i=0;i<a;i++)p.appendChild(n[i]);for(u.hasData(s)&&(u.data(r,u.data(s)),u(s).off("$destroy")),u.cleanData(p.querySelectorAll("*")),i=1;i<a;i++)delete n[i];n[0]=r,n.length=1}function cloneAndAnnotateFn(e,t){return extend(function(){return e.apply(null,arguments)},e,t)}function invokeLinkFn(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){d(e,startingTag(n))}}function initializeDirectiveBindings(e,t,i,o,s){function recordChanges(t,n,r){isFunction(i.$onChanges)&&n!==r&&(A||(e.$$postDigest(flushOnChangesQueue),A=[]),a||(a={},A.push(triggerOnChangesHook)),a[t]&&(r=a[t].previousValue),a[t]=new SimpleChange(r,n))}function triggerOnChangesHook(){i.$onChanges(a),a=void 0}var a,c=[],u={};return forEach(o,function(o,a){var l,h,f,p,d,m=o.attrName,g=o.optional,v=o.mode;switch(v){case"@":g||r.call(t,m)||(i[a]=t[m]=void 0),t.$observe(m,function(e){if(isString(e)||isBoolean(e)){var t=i[a];recordChanges(a,e,t),i[a]=e}}),t.$$observers[m].$$scope=e,l=t[m],isString(l)?i[a]=n(l)(e):isBoolean(l)&&(i[a]=l),u[a]=new SimpleChange(ye,i[a]);break;case"=":if(!r.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;h=b(t[m]),p=h.literal?equals:function(e,t){return e===t||e!==e&&t!==t},f=h.assign||function(){throw l=i[a]=h(e),ve("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,s.name)},l=i[a]=h(e);var y=function(t){return p(t,i[a])||(p(t,l)?f(e,t=i[a]):i[a]=t),l=t};y.$stateful=!0,d=o.collection?e.$watchCollection(t[m],y):e.$watch(b(t[m],y),null,h.literal),c.push(d);break;case"<":if(!r.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;h=b(t[m]);var $=i[a]=h(e);u[a]=new SimpleChange(ye,i[a]),d=e.$watch(h,function(e,t){if(t===e){if(t===$)return;t=$}recordChanges(a,e,t),i[a]=e},h.literal),c.push(d);break;case"&":if(h=t.hasOwnProperty(m)?b(t[m]):noop,h===noop&&g)break;i[a]=function(t){return h(e,t)}}}),{initialChanges:u,removeWatches:c.length&&function(){for(var e=0,t=c.length;e<t;++e)c[e]()}}}var A,T=/^\w/,k=e.document.createElement("div"),O=v;Attributes.prototype={$normalize:directiveNormalize,$addClass:function(e){e&&e.length>0&&x.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&x.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=tokenDifference(e,t);n&&n.length&&x.addClass(this.$$element,n);var r=tokenDifference(t,e);r&&r.length&&x.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i,o=this.$$element[0],s=getBooleanAttrName(o,e),a=getAliasedAttrName(e),c=e;if(s?(this.$$element.prop(e,t),r=s):a&&(this[a]=t,c=a),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=snake_case(e,"-"))),i=nodeName_(this.$$element),"a"===i&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=C(t,"src"===e);else if("img"===i&&"srcset"===e&&isDefined(t)){for(var u="",l=_(t),h=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,f=/\s/.test(l)?h:/(,)/,p=l.split(f),m=Math.floor(p.length/2),g=0;g<m;g++){var v=2*g;u+=C(_(p[v]),!0),u+=" "+_(p[v+1])}var y=_(p[2*g]).split(/\s/);u+=C(_(y[0]),!0),2===y.length&&(u+=" "+_(y[1])),this[e]=t=u}n!==!1&&(null===t||isUndefined(t)?this.$$element.removeAttr(r):T.test(r)?this.$$element.attr(r,t):setSpecialAttr(this.$$element[0],r,t));var b=this.$$observers;b&&forEach(b[c],function(e){try{e(t)}catch(e){d(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=createMap()),i=r[e]||(r[e]=[]);return i.push(t),S.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||isUndefined(n[e])||t(n[e])}),function(){arrayRemove(i,t)}}};var I=n.startSymbol(),P=n.endSymbol(),M="{{"==I&&"}}"==P?identity:function(e){return e.replace(/\{\{/g,I).replace(/}}/g,P)},L=/^ngAttr[A-Z]/,j=/^(.+)Start$/;return compile.$$addBindingInfo=g?function(e,t){var n=e.data("$binding")||[];$(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:noop,compile.$$addBindingClass=g?function(e){safeAddClass(e,"ng-binding")}:noop,compile.$$addScopeInfo=g?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:noop,compile.$$addScopeClass=g?function(e,t){safeAddClass(e,t?"ng-isolate-scope":"ng-scope")}:noop,compile.$$createComment=function(t,n){var r="";return g&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},compile}]}function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}function directiveNormalize(e){return camelCase(e.replace(be,""))}function tokenDifference(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue e;n+=(n.length>0?" ":"")+s}return n}function removeComments(e){e=u(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===R&&p.call(e,t,1)}return e}function identifierForController(e,t){if(t&&isString(t))return t;if(isString(e)){var n=we.exec(e);if(n)return n[3]}}function $ControllerProvider(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){assertNotHasOwnProperty(t,"controller"),isObject(t)?extend(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){function addIdentifier(e,t,n,r){if(!e||!isObject(e.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,o,s,a){var c,u,l,h;if(s=s===!0,a&&isString(a)&&(h=a),isString(i)){if(u=i.match(we),!u)throw $e("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);l=u[1],h=h||u[3],i=e.hasOwnProperty(l)?e[l]:getter(o.$scope,l,!0)||(t?getter(r,l,!0):void 0),assertArgFn(i,l,!0)}if(s){var f=($(i)?i[i.length-1]:i).prototype;c=Object.create(f||null),h&&addIdentifier(o,h,c,l||i.name);var p;return p=extend(function(){var e=n.invoke(i,c,o,l);return e!==c&&(isObject(e)||isFunction(e))&&(c=e,h&&addIdentifier(o,h,c,l||i.name)),c},{instance:c,identifier:h})}return c=n.instantiate(i,o,l),h&&addIdentifier(o,h,c,l||i.name),c}}]}function $DocumentProvider(){this.$get=["$window",function(e){return u(e.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function serializeValue(e){return isObject(e)?isDate(e)?e.toISOString():toJson(e):e}function $HttpParamSerializerProvider(){this.$get=function(){return function(e){if(!e)return"";var t=[];return forEachSorted(e,function(e,n){null===e||isUndefined(e)||($(e)?forEach(e,function(e){t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e)))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}),t.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(e){function serialize(e,n,r){null===e||isUndefined(e)||($(e)?forEach(e,function(e,t){serialize(e,n+"["+(isObject(e)?t:"")+"]")}):isObject(e)&&!isDate(e)?forEachSorted(e,function(e,t){serialize(e,n+(r?"":"[")+t+(r?"":"]"))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}if(!e)return"";var t=[];return serialize(e,"",!0),t.join("&")}}}function defaultHttpResponseTransform(e,t){if(isString(e)){var n=e.replace(Ae,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Se)||isJsonLike(n))&&(e=fromJson(n))}}return e}function isJsonLike(e){var t=e.match(xe);return t&&Ce[t[0]].test(e)}function parseHeaders(e){function fillInParsed(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var t,n=createMap();return isString(e)?forEach(e.split("\n"),function(e){t=e.indexOf(":"),fillInParsed(i(_(e.substr(0,t))),_(e.substr(t+1)))}):isObject(e)&&forEach(e,function(e,t){fillInParsed(i(t),_(e))}),n}function headersGetter(e){var t;return function(n){if(t||(t=parseHeaders(e)),n){var r=t[i(n)];return void 0===r&&(r=null),r}return t}}function transformData(e,t,n,r){return isFunction(r)?r(e,t,n):(forEach(r,function(r){e=r(e,t,n)}),e)}function isSuccess(e){return 200<=e&&e<300}function $HttpProvider(){var e=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(e){return!isObject(e)||isFile(e)||isBlob(e)||isFormData(e)?e:toJson(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(Ee),put:shallowCopy(Ee),patch:shallowCopy(Ee)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return isDefined(e)?(t=!!e,this):t};var n=!0;this.useLegacyPromiseExtensions=function(e){return isDefined(e)?(n=!!e,this):n};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,a,c,u,l,h){function $http(t){function chainInterceptors(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function executeHeaderFns(e,t){var n,r={};return forEach(e,function(e,i){isFunction(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function mergeHeaders(t){var n,r,o,s=e.headers,a=extend({},t.headers);s=extend({},s.common,s[i(t.method)]);e:for(n in s){r=i(n);for(o in a)if(i(o)===r)continue e;a[n]=s[n]}return executeHeaderFns(a,shallowCopy(t))}function serverRequest(t){var n=t.headers,r=transformData(t.data,headersGetter(n),void 0,t.transformRequest);return isUndefined(r)&&forEach(n,function(e,t){"content-type"===i(t)&&delete n[t]}),isUndefined(t.withCredentials)&&!isUndefined(e.withCredentials)&&(t.withCredentials=e.withCredentials),sendReq(t,r).then(transformResponse,transformResponse)}function transformResponse(e){var t=extend({},e);return t.data=transformData(e.data,e.headers,e.status,r.transformResponse),isSuccess(e.status)?t:l.reject(t)}if(!isObject(t))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!isString(t.url))throw minErr("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var r=extend({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);r.headers=mergeHeaders(t),r.method=o(r.method),r.paramSerializer=isString(r.paramSerializer)?h.get(r.paramSerializer):r.paramSerializer;var s=[],a=[],c=l.when(r);return forEach(p,function(e){(e.request||e.requestError)&&s.unshift(e.request,e.requestError),(e.response||e.responseError)&&a.push(e.response,e.responseError)}),c=chainInterceptors(c,s),c=c.then(serverRequest),c=chainInterceptors(c,a),n?(c.success=function(e){return assertArgFn(e,"fn"),c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return assertArgFn(e,"fn"),c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c}):(c.success=ke("success"),c.error=ke("error")),c}function createShortMethods(e){forEach(arguments,function(e){$http[e]=function(t,n){return $http(extend({},n||{},{method:e,url:t}))}})}function createShortMethodsWithData(e){forEach(arguments,function(e){$http[e]=function(t,n,r){return $http(extend({},r||{},{method:e,url:t,data:n}))}})}function sendReq(n,r){function createApplyHandlers(e){if(e){var n={};return forEach(e,function(e,r){n[r]=function(n){function callEventHandler(){e(n)}t?u.$applyAsync(callEventHandler):u.$$phase?callEventHandler():u.$apply(callEventHandler)}}),n}}function done(e,n,r,o){function resolveHttpPromise(){resolvePromise(n,e,r,o)}i&&(isSuccess(e)?i.put(d,[e,n,parseHeaders(r),o]):i.remove(d)),t?u.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),u.$$phase||u.$apply())}function resolvePromise(e,t,r,i){t=t>=-1?t:0,(isSuccess(t)?c.resolve:c.reject)({data:e,status:t,headers:headersGetter(r),config:n,statusText:i})}function resolvePromiseWithResult(e){resolvePromise(e.data,e.status,shallowCopy(e.headers()),e.statusText)}function removePendingReq(){var e=$http.pendingRequests.indexOf(n);e!==-1&&$http.pendingRequests.splice(e,1)}var i,o,c=l.defer(),h=c.promise,p=n.headers,d=buildUrl(n.url,n.paramSerializer(n.params));if($http.pendingRequests.push(n),h.then(removePendingReq,removePendingReq),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(i=isObject(n.cache)?n.cache:isObject(e.cache)?e.cache:f),i&&(o=i.get(d),isDefined(o)?isPromiseLike(o)?o.then(resolvePromiseWithResult,resolvePromiseWithResult):$(o)?resolvePromise(o[1],o[0],shallowCopy(o[2]),o[3]):resolvePromise(o,200,{},"OK"):i.put(d,h)),isUndefined(o)){var m=urlIsSameOrigin(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;m&&(p[n.xsrfHeaderName||e.xsrfHeaderName]=m),s(n.method,d,r,done,p,n.timeout,n.withCredentials,n.responseType,createApplyHandlers(n.eventHandlers),createApplyHandlers(n.uploadEventHandlers))}return h}function buildUrl(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var f=c("$http");e.paramSerializer=isString(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var p=[];return forEach(r,function(e){p.unshift(isString(e)?h.get(e):h.invoke(e))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=e,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new e.XMLHttpRequest;
}}}function $HttpBackendProvider(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return createHttpBackend(e,r,e.defer,t,n[0])}]}function createHttpBackend(e,t,n,r,o){function jsonpReq(e,t,n){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),s=null;return i.type="text/javascript",i.src=e,i.async=!0,s=function(e){B(i,"load",s),B(i,"error",s),o.body.removeChild(i),i=null;var a=-1,c="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),c=e.type,a="error"===e.type?404:200),n&&n(a,c)},F(i,"load",s),F(i,"error",s),o.body.appendChild(i),s}return function(o,s,a,c,u,l,h,f,p,d){function timeoutRequest(){g&&g(),v&&v.abort()}function completeRequest(t,r,i,o,s){isDefined(b)&&n.cancel(b),g=v=null,t(r,i,o,s),e.$$completeOutstandingRequest(noop)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===i(o))var m=r.createCallback(s),g=jsonpReq(s,m,function(e,t){var n=200===e&&r.getResponse(m);completeRequest(c,e,n,"",t),r.removeCallback(m)});else{var v=t(o,s);v.open(o,s,!0),forEach(u,function(e,t){isDefined(e)&&v.setRequestHeader(t,e)}),v.onload=function(){var e=v.statusText||"",t="response"in v?v.response:v.responseText,n=1223===v.status?204:v.status;0===n&&(n=t?200:"file"==urlResolve(s).protocol?404:0),completeRequest(c,n,t,v.getAllResponseHeaders(),e)};var y=function(){completeRequest(c,-1,null,null,"")};if(v.onerror=y,v.onabort=y,forEach(p,function(e,t){v.addEventListener(t,e)}),forEach(d,function(e,t){v.upload.addEventListener(t,e)}),h&&(v.withCredentials=!0),f)try{v.responseType=f}catch(e){if("json"!==f)throw e}v.send(isUndefined(a)?null:a)}if(l>0)var b=n(timeoutRequest,l);else isPromiseLike(l)&&l.then(timeoutRequest)}}function $InterpolateProvider(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function escape(e){return"\\\\\\"+e}function unescapeText(n){return n.replace(a,e).replace(c,t)}function stringify(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=toJson(e)}return e}function constantWatchDelegate(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function $interpolate(a,c,u,l){function parseStringifyInterceptor(e){try{return e=S(e),l&&!isDefined(e)?e:stringify(e)}catch(e){r(Ne.interr(a,e))}}if(!a.length||a.indexOf(e)===-1){var h;if(!c){var f=unescapeText(a);h=valueFn(f),h.exp=a,h.expressions=[],h.$$watchDelegate=constantWatchDelegate}return h}l=!!l;for(var p,d,m,g=0,v=[],y=[],b=a.length,$=[],w=[];g<b;){if((p=a.indexOf(e,g))==-1||(d=a.indexOf(t,p+o))==-1){g!==b&&$.push(unescapeText(a.substring(g)));break}g!==p&&$.push(unescapeText(a.substring(g,p))),m=a.substring(p+o,d),v.push(m),y.push(n(m,parseStringifyInterceptor)),g=d+s,w.push($.length),$.push("")}if(u&&$.length>1&&Ne.throwNoconcat(a),!c||v.length){var _=function(e){for(var t=0,n=v.length;t<n;t++){if(l&&isUndefined(e[t]))return;$[w[t]]=e[t]}return $.join("")},S=function(e){return u?i.getTrusted(u,e):i.valueOf(e)};return extend(function(e){var t=0,n=v.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return _(i)}catch(e){r(Ne.interr(a,e))}},{exp:a,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,function(r,i){var o=_(r);isFunction(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var o=e.length,s=t.length,a=new RegExp(e.replace(/./g,escape),"g"),c=new RegExp(t.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return e},$interpolate.endSymbol=function(){return t},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function interval(s,a,c,u){function callback(){l?s.apply(null,h):s(d)}var l=arguments.length>4,h=l?sliceArgs(arguments,4):[],f=t.setInterval,p=t.clearInterval,d=0,m=isDefined(u)&&!u,g=(m?r:n).defer(),v=g.promise;return c=isDefined(c)?c:0,v.$$intervalId=f(function(){m?i.defer(callback):e.$evalAsync(callback),g.notify(d++),c>0&&d>=c&&(g.resolve(d),p(v.$$intervalId),delete o[v.$$intervalId]),m||e.$apply()},a),o[v.$$intervalId]=g,v}var o={};return interval.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},interval}]}function encodePath(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=encodeUriSegment(t[n]);return t.join("/")}function parseAbsoluteUrl(e,t){var n=urlResolve(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=toInt(n.port)||Re[n.protocol]||null}function parseAppUrl(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=urlResolve(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=parseKeyValue(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function startsWith(e,t){return 0===e.lastIndexOf(t,0)}function stripBaseUrl(e,t){if(startsWith(t,e))return t.substr(e.length)}function stripHash(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function trimEmptyHash(e){return e.replace(/(#.+)|#$/,"$1")}function stripFile(e){return e.substr(0,stripHash(e).lastIndexOf("/")+1)}function serverBase(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function LocationHtml5Url(e,t,n){this.$$html5=!0,n=n||"",parseAbsoluteUrl(e,this),this.$$parse=function(e){var n=stripBaseUrl(t,e);if(!isString(n))throw Ie("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);parseAppUrl(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=toKeyValue(this.$$search),n=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s,a;return isDefined(o=stripBaseUrl(e,r))?(s=o,a=isDefined(o=stripBaseUrl(n,o))?t+(stripBaseUrl("/",o)||o):e+s):isDefined(o=stripBaseUrl(t,r))?a=t+o:t==r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function LocationHashbangUrl(e,t,n){parseAbsoluteUrl(e,this),this.$$parse=function(r){function removeWindowsDriveName(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return startsWith(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var i,o=stripBaseUrl(e,r)||stripBaseUrl(t,r);isUndefined(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",isUndefined(o)&&(e=r,this.replace())):(i=stripBaseUrl(n,o),isUndefined(i)&&(i=o)),parseAppUrl(i,this),this.$$path=removeWindowsDriveName(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=toKeyValue(this.$$search),r=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return stripHash(e)==stripHash(t)&&(this.$$parse(t),!0)}}function LocationHashbangInHtml5Url(e,t,n){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return e==stripHash(r)?o=r:(s=stripBaseUrl(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=toKeyValue(this.$$search),r=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function locationGetter(e){return function(){return this[e]}}function locationGetterSetter(e,t){return function(n){return isUndefined(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function $LocationProvider(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return isDefined(t)?(e=t,this):e},this.html5Mode=function(e){return isBoolean(e)?(t.enabled=e,this):isObject(e)?(isBoolean(e.enabled)&&(t.enabled=e.enabled),isBoolean(e.requireBase)&&(t.requireBase=e.requireBase),isBoolean(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){function setBrowserUrlWithFallback(e,t,n){var i=a.url(),o=a.$$state;try{r.url(e,t,n),a.$$state=r.state()}catch(e){throw a.url(i),a.$$state=o,e}}function afterLocationChange(e,t){n.$broadcast("$locationChangeSuccess",a.absUrl(),e,a.$$state,t)}var a,c,l,h=r.baseHref(),f=r.url();if(t.enabled){if(!h&&t.requireBase)throw Ie("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=serverBase(f)+(h||"/"),c=i.history?LocationHtml5Url:LocationHashbangInHtml5Url}else l=stripHash(f),c=LocationHashbangUrl;var p=stripFile(l);a=new c(l,p,"#"+e),a.$$parseLinkUrl(f,f),a.$$state=r.state();var d=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=u(e.target);"a"!==nodeName_(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var c=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");isObject(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=urlResolve(c.animVal).href),d.test(c)||!c||i.attr("target")||e.isDefaultPrevented()||a.$$parseLinkUrl(c,l)&&(e.preventDefault(),a.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash(a.absUrl())!=trimEmptyHash(f)&&r.url(a.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return isUndefined(stripBaseUrl(p,e))?void(s.location.href=e):(n.$evalAsync(function(){var r,i=a.absUrl(),o=a.$$state;e=trimEmptyHash(e),a.$$parse(e),a.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,a.absUrl()===e&&(r?(a.$$parse(i),a.$$state=o,setBrowserUrlWithFallback(i,!1,o)):(m=!1,afterLocationChange(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=trimEmptyHash(r.url()),t=trimEmptyHash(a.absUrl()),o=r.state(),s=a.$$replace,c=e!==t||a.$$html5&&i.history&&o!==a.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=a.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,a.$$state,o).defaultPrevented;a.absUrl()===t&&(r?(a.$$parse(e),a.$$state=o):(c&&setBrowserUrlWithFallback(t,s,o===a.$$state?null:a.$$state),afterLocationChange(e,o)))})),a.$$replace=!1}),a}]}function $LogProvider(){var e=!0,t=this;this.debugEnabled=function(t){return isDefined(t)?(e=t,this):e},this.$get=["$window",function(n){function formatError(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function consoleLog(e){var t=n.console||{},r=t[e]||t.log||noop,i=!1;try{i=!!r.apply}catch(e){}return i?function(){var e=[];return forEach(arguments,function(t){e.push(formatError(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var n=consoleLog("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function ensureSafeMemberName(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Me("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function getStringValue(e){return e+""}function ensureSafeObject(e,t){if(e){if(e.constructor===e)throw Me("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Me("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Me("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Me("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function ensureSafeFunction(e,t){if(e){if(e.constructor===e)throw Me("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Le||e===je||e===Fe)throw Me("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function ensureSafeAssignContext(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Me("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function ifDefined(e,t){return"undefined"!=typeof e?e:t}function plusFn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function isStateless(e,t){var n=e(t);return!n.$stateful}function findConstantAndWatchExpressions(e,t){var n,r;switch(e.type){case He.Program:n=!0,forEach(e.body,function(e){findConstantAndWatchExpressions(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case He.Literal:e.constant=!0,e.toWatch=[];break;case He.UnaryExpression:findConstantAndWatchExpressions(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case He.BinaryExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case He.LogicalExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case He.ConditionalExpression:findConstantAndWatchExpressions(e.test,t),findConstantAndWatchExpressions(e.alternate,t),findConstantAndWatchExpressions(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case He.Identifier:e.constant=!1,e.toWatch=[e];break;case He.MemberExpression:findConstantAndWatchExpressions(e.object,t),e.computed&&findConstantAndWatchExpressions(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case He.CallExpression:n=!!e.filter&&isStateless(t,e.callee.name),r=[],forEach(e.arguments,function(e){findConstantAndWatchExpressions(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&isStateless(t,e.callee.name)?r:[e];break;case He.AssignmentExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case He.ArrayExpression:n=!0,r=[],forEach(e.elements,function(e){findConstantAndWatchExpressions(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case He.ObjectExpression:n=!0,r=[],forEach(e.properties,function(e){findConstantAndWatchExpressions(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case He.ThisExpression:e.constant=!1,e.toWatch=[];break;case He.LocalsExpression:e.constant=!1,e.toWatch=[]}}function getInputs(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function isAssignable(e){return e.type===He.Identifier||e.type===He.MemberExpression}function assignableAST(e){if(1===e.body.length&&isAssignable(e.body[0].expression))return{type:He.AssignmentExpression,left:e.body[0].expression,right:{type:He.NGValueParameter},operator:"="}}function isLiteral(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===He.Literal||e.body[0].expression.type===He.ArrayExpression||e.body[0].expression.type===He.ObjectExpression)}function isConstant(e){return e.constant}function ASTCompiler(e,t){this.astBuilder=e,this.$filter=t}function ASTInterpreter(e,t){this.astBuilder=e,this.$filter=t}function isPossiblyDangerousMemberName(e){return"constructor"==e}function getValueOf(e){return isFunction(e.valueOf)?e.valueOf():We.call(e)}function $ParseProvider(){var e,t,n=createMap(),r=createMap(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(o){function $parse(e,t,i){var s,l,h;switch(i=i||u,typeof e){case"string":e=e.trim(),h=e;var f=i?r:n;if(s=f[h],!s){":"===e.charAt(0)&&":"===e.charAt(1)&&(l=!0,e=e.substring(2));var p=i?c:a,d=new qe(p),m=new Ve(d,o,p);s=m.parse(e),s.constant?s.$$watchDelegate=constantWatchDelegate:l?s.$$watchDelegate=s.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:s.inputs&&(s.$$watchDelegate=inputsWatchDelegate),i&&(s=expensiveChecksInterceptor(s)),f[h]=s}return addInterceptor(s,t);case"function":return addInterceptor(e,t);default:return addInterceptor(noop,t)}}function expensiveChecksInterceptor(e){function expensiveCheckFn(t,n,r,i){var o=u;u=!0;try{return e(t,n,r,i)}finally{u=o}}if(!e)return e;expensiveCheckFn.$$watchDelegate=e.$$watchDelegate,expensiveCheckFn.assign=expensiveChecksInterceptor(e.assign),expensiveCheckFn.constant=e.constant,expensiveCheckFn.literal=e.literal;for(var t=0;e.inputs&&t<e.inputs.length;++t)e.inputs[t]=expensiveChecksInterceptor(e.inputs[t]);return expensiveCheckFn.inputs=e.inputs,expensiveCheckFn}function expressionInputDirtyCheck(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=getValueOf(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function inputsWatchDelegate(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var a=expressionInputDirtyCheck;return s=s[0],e.$watch(function(e){var t=s(e);return expressionInputDirtyCheck(t,a)||(o=r(e,void 0,void 0,[t]),a=t&&getValueOf(t)),o},t,n,i)}for(var c=[],u=[],l=0,h=s.length;l<h;l++)c[l]=expressionInputDirtyCheck,u[l]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var a=s[n](e);(t||(t=!expressionInputDirtyCheck(a,c[n])))&&(u[n]=a,c[n]=a&&getValueOf(a))}return t&&(o=r(e,void 0,void 0,u)),o},t,n,i)}function oneTimeWatchDelegate(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,isFunction(t)&&t.apply(this,arguments),isDefined(e)&&r.$$postDigest(function(){isDefined(o)&&i()})},n)}function oneTimeLiteralWatchDelegate(e,t,n,r){function isAllDefined(e){var t=!0;return forEach(e,function(e){isDefined(e)||(t=!1)}),t}var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,isFunction(t)&&t.call(this,e,n,r),isAllDefined(e)&&r.$$postDigest(function(){isAllDefined(o)&&i()})},n)}function constantWatchDelegate(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function addInterceptor(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==oneTimeLiteralWatchDelegate&&n!==oneTimeWatchDelegate,o=i?function(n,i,o,s){var a=r&&s?s[0]:e(n,i,o,s);return t(a,n,i)}:function(n,r,i,o){var s=e(n,r,i,o),a=t(s,n,r);return isDefined(s)?a:s};return e.$$watchDelegate&&e.$$watchDelegate!==inputsWatchDelegate?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=inputsWatchDelegate,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var s=E().noUnsafeEval,a={csp:s,expensiveChecks:!1,literals:copy(i),isIdentifierStart:isFunction(e)&&e,isIdentifierContinue:isFunction(t)&&t},c={csp:s,expensiveChecks:!0,literals:copy(i),isIdentifierStart:isFunction(e)&&e,isIdentifierContinue:isFunction(t)&&t},u=!1;return $parse.$$runningExpensiveChecks=function(){return u},$parse}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return qFactory(function(t){e.$evalAsync(t)},t)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function(e,t){return qFactory(function(t){e.defer(t)},t)}]}function qFactory(e,t){function Promise(){this.$$state={status:0}}function simpleBind(e,t){return function(n){t.call(e,n)}}function processQueue(e){var n,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,s=i.length;o<s;++o){r=i[o][0],n=i[o][e.status];try{isFunction(n)?r.resolve(n(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(e){r.reject(e),t(e)}}}function scheduleProcessQueue(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){processQueue(t)}))}function Deferred(){this.promise=new Promise}function all(e){var t=new Deferred,n=0,r=$(e)?[]:{};return forEach(e,function(e,i){n++,a(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}function race(e){var t=r();return forEach(e,function(e){a(e).then(t.resolve,t.reject)}),t.promise}var n=minErr("$q",TypeError),r=function(){var e=new Deferred;return e.resolve=simpleBind(e,e.resolve),e.reject=simpleBind(e,e.reject),e.notify=simpleBind(e,e.notify),e};extend(Promise.prototype,{then:function(e,t,n){if(isUndefined(e)&&isUndefined(t)&&isUndefined(n))return this;var r=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),r.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return s(t,!0,e)},function(t){return s(t,!1,e)},t)}}),extend(Deferred.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function resolvePromise(e){i||(i=!0,r.$$resolve(e))}function rejectPromise(e){i||(i=!0,r.$$reject(e))}var n,r=this,i=!1;try{(isObject(e)||isFunction(e))&&(n=e&&e.then),isFunction(n)?(this.promise.$$state.status=-1,n.call(e,resolvePromise,rejectPromise,simpleBind(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){rejectPromise(e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,s=r.length;o<s;o++){i=r[o][0],e=r[o][3];try{i.notify(isFunction(e)?e(n):n)}catch(e){t(e)}}})}});var i=function(e){var t=new Deferred;return t.reject(e),t.promise},o=function(e,t){var n=new Deferred;return t?n.resolve(e):n.reject(e),n.promise},s=function(e,t,n){var r=null;try{isFunction(n)&&(r=n())}catch(e){return o(e,!1)}return isPromiseLike(r)?r.then(function(){return o(e,t)},function(e){return o(e,!1)}):o(e,t)},a=function(e,t,n,r){var i=new Deferred;return i.resolve(e),i.promise.then(t,n,r)},c=a,u=function(e){function resolveFn(e){t.resolve(e)}function rejectFn(e){t.reject(e)}if(!isFunction(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new Deferred;return e(resolveFn,rejectFn),t.promise};return u.prototype=Promise.prototype,u.defer=r,u.reject=i,u.when=a,u.resolve=c,u.all=all,u.race=race,u}function $$RAFProvider(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function $RootScopeProvider(){function createChildScopeClass(e){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=e,ChildScope}var e=10,t=minErr("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(o,s,a){function destroyChildScope(e){e.currentScope.$$destroyed=!0}function cleanUpScope(e){9===c&&(e.$$childHead&&cleanUpScope(e.$$childHead),e.$$nextSibling&&cleanUpScope(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(e){if(u.$$phase)throw t("inprog","{0} already in progress",u.$$phase);u.$$phase=e}function clearPhase(){u.$$phase=null}function incrementWatchersCount(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function decrementListenerCount(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;f.length;)try{f.shift()()}catch(e){o(e)}i=null}function scheduleApplyAsync(){null===i&&(i=a.defer(function(){u.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(e,t){var n;return t=t||this,e?(n=new Scope,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",destroyChildScope),n},$watch:function(e,t,r,i){var o=s(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,r,o,e);var a=this,c=a.$$watchers,u={fn:t,last:initWatchVal,get:o,exp:i||e,eq:!!r};return n=null,isFunction(t)||(u.fn=noop),c||(c=a.$$watchers=[]),c.unshift(u),incrementWatchersCount(this,1),function(){arrayRemove(c,u)>=0&&incrementWatchersCount(a,-1),n=null}},$watchGroup:function(e,t){function watchGroupAction(){s=!1,a?(a=!1,t(r,r,o)):t(r,n,o)}var n=new Array(e.length),r=new Array(e.length),i=[],o=this,s=!1,a=!0;if(!e.length){var c=!0;return o.$evalAsync(function(){c&&t(r,r,o)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}):(forEach(e,function(e,t){var a=o.$watch(e,function(e,i){r[t]=e,n[t]=i,s||(s=!0,o.$evalAsync(watchGroupAction))});i.push(a)}),function(){for(;i.length;)i.shift()()})},$watchCollection:function(e,t){function $watchCollectionInterceptor(e){n=e;var t,o,s,a,c;if(!isUndefined(n)){if(isObject(n))if(isArrayLike(n)){i!==h&&(i=h,d=i.length=0,u++),t=n.length,d!==t&&(u++,i.length=d=t);for(var l=0;l<t;l++)c=i[l],a=n[l],s=c!==c&&a!==a,s||c===a||(u++,i[l]=a)}else{i!==f&&(i=f={},d=0,u++),t=0;for(o in n)r.call(n,o)&&(t++,a=n[o],c=i[o],o in i?(s=c!==c&&a!==a,s||c===a||(u++,i[o]=a)):(d++,i[o]=a,u++));if(d>t){u++;for(o in i)r.call(n,o)||(d--,delete i[o])}}else i!==n&&(i=n,u++);return u}}function $watchCollectionAction(){if(p?(p=!1,t(n,n,a)):t(n,o,a),c)if(isObject(n))if(isArrayLike(n)){o=new Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else{o={};for(var i in n)r.call(n,i)&&(o[i]=n[i])}else o=n}$watchCollectionInterceptor.$stateful=!0;var n,i,o,a=this,c=t.length>1,u=0,l=s(e,$watchCollectionInterceptor),h=[],f={},p=!0,d=0;return this.$watch(l,$watchCollectionAction)},$digest:function(){var r,s,c,f,d,m,g,v,y,b,$,w,_=e,S=this,E=[];beginPhase("$digest"),a.$$checkUrlChange(),this===u&&null!==i&&(a.defer.cancel(i),flushApplyAsync()),n=null;do{v=!1,b=S;for(var x=0;x<l.length;x++){try{w=l[x],w.scope.$eval(w.expression,w.locals)}catch(e){o(e)}n=null}l.length=0;e:do{if(m=b.$$watchers)for(g=m.length;g--;)try{if(r=m[g])if(d=r.get,(s=d(b))===(c=r.last)||(r.eq?equals(s,c):"number"==typeof s&&"number"==typeof c&&isNaN(s)&&isNaN(c))){if(r===n){v=!1;break e}}else v=!0,n=r,r.last=r.eq?copy(s,null):s,f=r.fn,f(s,c===initWatchVal?s:c,b),_<5&&($=4-_,E[$]||(E[$]=[]),E[$].push({msg:isFunction(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:s,oldVal:c}))}catch(e){o(e)}if(!(y=b.$$watchersCount&&b.$$childHead||b!==S&&b.$$nextSibling))for(;b!==S&&!(y=b.$$nextSibling);)b=b.$parent}while(b=y);if((v||l.length)&&!_--)throw clearPhase(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,E)}while(v||l.length);for(clearPhase();p<h.length;)try{h[p++]()}catch(e){o(e)}h.length=p=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===u&&a.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var t in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e,t){u.$$phase||l.length||a.defer(function(){l.length&&u.$digest()}),l.push({scope:this,expression:s(e),locals:t})},$$postDigest:function(e){h.push(e)},$apply:function(e){try{beginPhase("$apply");try{return this.$eval(e)}finally{clearPhase()}}catch(e){o(e)}finally{try{u.$digest()}catch(e){throw o(e),e}}},$applyAsync:function(e){function $applyAsyncExpression(){t.$eval(e)}var t=this;e&&f.push($applyAsyncExpression),e=s(e),scheduleApplyAsync()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,decrementListenerCount(i,1,e))}},$emit:function(e,t){var n,r,i,s=[],a=this,c=!1,u={name:e,targetScope:a,stopPropagation:function(){c=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=concat([u],arguments,1);do{for(n=a.$$listeners[e]||s,u.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,l)}catch(e){o(e)}else n.splice(r,1),r--,i--;if(c)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=n,i=n,s={name:e,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return s;for(var a,c,u,l=concat([s],arguments,1);r=i;){for(s.currentScope=r,a=r.$$listeners[e]||[],c=0,u=a.length;c<u;c++)if(a[c])try{a[c].apply(null,l)}catch(e){o(e)}else a.splice(c,1),c--,u--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var u=new Scope,l=u.$$asyncQueue=[],h=u.$$postDigestQueue=[],f=u.$$applyAsyncQueue=[],p=0;return u}]}function $$SanitizeUriProvider(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return isDefined(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=urlResolve(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function adjustMatcher(e){if("self"===e)return e;if(isString(e)){if(e.indexOf("***")>-1)throw ze("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=S(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(isRegExp(e))return new RegExp("^"+e.source+"$");throw ze("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(e){var t=[];return isDefined(e)&&forEach(e,function(e){t.push(adjustMatcher(e))}),t}function $SceDelegateProvider(){this.SCE_CONTEXTS=Ge;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=adjustMatchers(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=adjustMatchers(e)),t},this.$get=["$injector",function(n){function matchUrl(e,t){return"self"===e?urlIsSameOrigin(t):!!e.exec(t.href)}function isResourceUrlAllowedByPolicy(n){var r,i,o=urlResolve(n.toString()),s=!1;for(r=0,i=e.length;r<i;r++)if(matchUrl(e[r],o)){s=!0;break}if(s)for(r=0,i=t.length;r<i;r++)if(matchUrl(t[r],o)){s=!1;break}return s}function generateHolderType(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString();
},t}function trustAs(e,t){var n=o.hasOwnProperty(e)?o[e]:null;if(!n)throw ze("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||isUndefined(t)||""===t)return t;if("string"!=typeof t)throw ze("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function valueOf(e){return e instanceof i?e.$$unwrapTrustedValue():e}function getTrusted(e,t){if(null===t||isUndefined(t)||""===t)return t;var n=o.hasOwnProperty(e)?o[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Ge.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(t))return t;throw ze("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Ge.HTML)return r(t);throw ze("unsafe","Attempting to use an unsafe value in a safe context.")}var r=function(e){throw ze("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(r=n.get("$sanitize"));var i=generateHolderType(),o={};return o[Ge.HTML]=generateHolderType(i),o[Ge.CSS]=generateHolderType(i),o[Ge.URL]=generateHolderType(i),o[Ge.JS]=generateHolderType(i),o[Ge.RESOURCE_URL]=generateHolderType(o[Ge.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&c<8)throw ze("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=shallowCopy(Ge);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=identity),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,s=r.getTrusted,a=r.trustAs;return forEach(Ge,function(e,t){var n=i(t);r[camelCase("parse_as_"+n)]=function(t){return o(e,t)},r[camelCase("get_trusted_"+n)]=function(t){return s(e,t)},r[camelCase("trust_as_"+n)]=function(t){return a(e,t)}}),r}]}function $SnifferProvider(){this.$get=["$window","$document",function(e,t){var n,r,o={},s=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!s&&e.history&&e.history.pushState,u=toInt((/android (\d+)/.exec(i((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),h=t[0]||{},f=/^(Moz|webkit|ms)(?=[A-Z])/,p=h.body&&h.body.style,d=!1,m=!1;if(p){for(var g in p)if(r=f.exec(g)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),d=!!("transition"in p||n+"Transition"in p),m=!!("animation"in p||n+"Animation"in p),!u||d&&m||(d=isString(p.webkitTransition),m=isString(p.webkitAnimation))}return{history:!(!a||u<4||l),hasEvent:function(e){if("input"===e&&c<=11)return!1;if(isUndefined(o[e])){var t=h.createElement("div");o[e]="on"+e in t}return o[e]},csp:E(),vendorPrefix:n,transitions:d,animations:m,android:u}}]}function $TemplateRequestProvider(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function handleRequestFn(o,s){function handleError(e){if(!s)throw Xe("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return r.reject(e)}handleRequestFn.totalPendingRequests++,isString(o)&&!isUndefined(t.get(o))||(o=i.getTrustedResourceUrl(o));var a=n.defaults&&n.defaults.transformResponse;return $(a)?a=a.filter(function(e){return e!==defaultHttpResponseTransform}):a===defaultHttpResponseTransform&&(a=null),n.get(o,extend({cache:t,transformResponse:a},e)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return forEach(r,function(e){var r=y.element(e).data("$binding");r&&forEach(r,function(r){if(n){var o=new RegExp("(^|\\s)"+S(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else r.indexOf(t)!=-1&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",s="["+r[i]+"model"+o+'"'+t+'"]',a=e.querySelectorAll(s);if(a.length)return a}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function timeout(s,a,c){isFunction(s)||(c=a,a=s,s=noop);var u,l=sliceArgs(arguments,3),h=isDefined(c)&&!c,f=(h?r:n).defer(),p=f.promise;return u=t.defer(function(){try{f.resolve(s.apply(null,l))}catch(e){f.reject(e),i(e)}finally{delete o[p.$$timeoutId]}h||e.$apply()},a),p.$$timeoutId=u,o[u]=f,p}var o={};return timeout.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},timeout}]}function urlResolve(e){var t=e;return c&&(Je.setAttribute("href",t),t=Je.href),Je.setAttribute("href",t),{href:Je.href,protocol:Je.protocol?Je.protocol.replace(/:$/,""):"",host:Je.host,search:Je.search?Je.search.replace(/^\?/,""):"",hash:Je.hash?Je.hash.replace(/^#/,""):"",hostname:Je.hostname,port:Je.port,pathname:"/"===Je.pathname.charAt(0)?Je.pathname:"/"+Je.pathname}}function urlIsSameOrigin(e){var t=isString(e)?urlResolve(e):e;return t.protocol===Ke.protocol&&t.host===Ke.host}function $WindowProvider(){this.$get=valueFn(e)}function $$CookieReader(e){function safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}var t=e[0]||{},n={},r="";return function(){var e,i,o,s,a,c=t.cookie||"";if(c!==r)for(r=c,e=r.split("; "),n={},o=0;o<e.length;o++)i=e[o],s=i.indexOf("="),s>0&&(a=safeDecodeURIComponent(i.substring(0,s)),isUndefined(n[a])&&(n[a]=safeDecodeURIComponent(i.substring(s+1))));return n}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider(e){function register(n,r){if(isObject(n)){var i={};return forEach(n,function(e,t){i[t]=register(t,e)}),i}return e.factory(n+t,r)}var t="Filter";this.register=register,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",rt),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",it)}function filterFilter(){return function(e,t,n,r){if(!isArrayLike(e)){if(null==e)return e;throw minErr("filter")("notarray","Expected array but received: {0}",e)}r=r||"$";var i,o,s=getTypeForFilter(t);switch(s){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=createPredicateFn(t,n,r,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function createPredicateFn(e,t,n,r){var o,s=isObject(e)&&n in e;return t===!0?t=equals:isFunction(t)||(t=function(e,t){return!isUndefined(e)&&(null===e||null===t?e===t:!(isObject(t)||isObject(e)&&!hasCustomToString(e))&&(e=i(""+e),t=i(""+t),e.indexOf(t)!==-1))}),o=function(i){return s&&!isObject(i)?deepCompare(i,e[n],t,n,!1):deepCompare(i,e,t,n,r)}}function deepCompare(e,t,n,r,i,o){var s=getTypeForFilter(e),a=getTypeForFilter(t);if("string"===a&&"!"===t.charAt(0))return!deepCompare(e,t.substring(1),n,r,i);if($(e))return e.some(function(e){return deepCompare(e,t,n,r,i)});switch(s){case"object":var c;if(i){for(c in e)if("$"!==c.charAt(0)&&deepCompare(e[c],t,n,r,!0))return!0;return!o&&deepCompare(e,t,n,r,!1)}if("object"===a){for(c in t){var u=t[c];if(!isFunction(u)&&!isUndefined(u)){var l=c===r,h=l?e:e[c];if(!deepCompare(h,u,n,r,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function getTypeForFilter(e){return null===e?"null":typeof e}function currencyFilter(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return isUndefined(n)&&(n=t.CURRENCY_SYM),isUndefined(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:formatNumber(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function numberFilter(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:formatNumber(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function parse(e){var t,n,r,i,o,s=0;for((n=e.indexOf(Qe))>-1&&(e=e.replace(Qe,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==Ze;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==Ze;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>Ye&&(t=t.splice(0,Ye-1),s=n-1,n=1),{d:t,e:s,i:n}}function roundNumber(e,t,n,r){var i=e.d,o=i.length-e.i;t=isUndefined(t)?Math.min(Math.max(n,o),r):+t;var s=t+e.i,a=i[s];if(s>0){i.splice(Math.max(e.i,s));for(var c=s;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);var h=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);h&&(i.unshift(h),e.i++)}function formatNumber(e,t,n,r,i){if(!isString(e)&&!isNumber(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,c=Math.abs(e)+"",u="";if(s)u="";else{o=parse(c),roundNumber(o,i,t.minFrac,t.maxFrac);var l=o.d,h=o.i,f=o.e,p=[];for(a=l.reduce(function(e,t){return e&&!t},!0);h<0;)l.unshift(0),h++;h>0?p=l.splice(h,l.length):(p=l,l=[0]);var d=[];for(l.length>=t.lgSize&&d.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)d.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),u=d.join(n),p.length&&(u+=r+p.join("")),f&&(u+="e+"+f)}return e<0&&!a?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function padNumber(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=Ze+e;return n&&(e=e.substr(e.length-t)),i+e}function dateGetter(e,t,n,r,i){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&n==-12&&(s=12),padNumber(s,t,r,i)}}function dateStrGetter(e,t,n){return function(r,i){var s=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),c=o(a+e);return i[c][s]}}function timeZoneGetter(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=padNumber(Math[r>0?"floor":"ceil"](r/60),2)+padNumber(Math.abs(r%60),2)}function getFirstThursdayOfYear(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function getThursdayThisWeek(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function weekGetter(e){return function(t){var n=getFirstThursdayOfYear(t.getFullYear()),r=getThursdayThisWeek(t),i=+r-+n,o=1+Math.round(i/6048e5);return padNumber(o,e)}}function ampmGetter(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function eraGetter(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function longEraGetter(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function dateFilter(e){function jsonStringToDate(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,s=n[8]?r.setUTCFullYear:r.setFullYear,a=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=toInt(n[9]+n[10]),o=toInt(n[9]+n[11])),s.call(r,toInt(n[1]),toInt(n[2])-1,toInt(n[3]));var c=toInt(n[4]||0)-i,u=toInt(n[5]||0)-o,l=toInt(n[6]||0),h=Math.round(1e3*parseFloat("0."+(n[7]||0)));return a.call(r,c,u,l,h),r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,n,r){var i,o,s="",a=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,isString(t)&&(t=nt.test(t)?toInt(t):jsonStringToDate(t)),isNumber(t)&&(t=new Date(t)),!isDate(t)||!isFinite(t.getTime()))return t;for(;n;)o=tt.exec(n),o?(a=concat(a,o,1),n=a.pop()):(a.push(n),n=null);var c=t.getTimezoneOffset();return r&&(c=timezoneToOffset(r,c),t=convertTimezoneToLocal(t,r,!0)),forEach(a,function(n){i=et[n],s+=i?i(t,e.DATETIME_FORMATS,c):"''"===n?"'":n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function jsonFilter(){return function(e,t){return isUndefined(t)&&(t=2),toJson(e,t)}}function limitToFilter(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):toInt(t),isNaN(t)?e:(isNumber(e)&&(e=e.toString()),isArrayLike(e)?(n=!n||isNaN(n)?0:toInt(n),n=n<0?Math.max(0,e.length+n):n,t>=0?sliceFn(e,n,n+t):0===n?sliceFn(e,t,e.length):sliceFn(e,Math.max(0,n+t),n)):e)}}function sliceFn(e,t,n){return isString(e)?e.slice(t,n):f.call(e,t,n)}function orderByFilter(e){function processPredicates(t){return t.map(function(t){var n=1,r=identity;if(isFunction(t))r=t;else if(isString(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function isPrimitive(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(e){return isFunction(e.valueOf)&&(e=e.valueOf(),isPrimitive(e))?e:hasCustomToString(e)&&(e=e.toString(),isPrimitive(e))?e:e}function getPredicateValue(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=objectValue(e)),{value:e,type:n,index:t}}function defaultCompare(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,s=t.value;"string"===r?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===r&&(isObject(o)&&(o=e.index),isObject(s)&&(s=t.index)),o!==s&&(n=o<s?-1:1)}else n=r<i?-1:1;return n}return function(e,t,n,r){function getComparisonObject(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:i.map(function(n){return getPredicateValue(n.get(e),t)})}}function doComparison(e,t){for(var n=0,r=i.length;n<r;n++){var a=s(e.predicateValues[n],t.predicateValues[n]);if(a)return a*i[n].descending*o}return s(e.tieBreaker,t.tieBreaker)*o}if(null==e)return e;if(!isArrayLike(e))throw minErr("orderBy")("notarray","Expected array but received: {0}",e);$(t)||(t=[t]),0===t.length&&(t=["+"]);var i=processPredicates(t),o=n?-1:1,s=isFunction(r)?r:defaultCompare,a=Array.prototype.map.call(e,getComparisonObject);return a.sort(doComparison),e=a.map(function(e){return e.value})}}function ngDirective(e){return isFunction(e)&&(e={link:e}),e.restrict=e.restrict||"AC",valueFn(e)}function nullFormRenameControl(e,t){e.$name=t}function FormController(e,t,n,r,i){var o=this,s=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=i(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=at,o.$rollbackViewValue=function(){forEach(s,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){forEach(s,function(e){e.$commitViewValue()})},o.$addControl=function(e){assertNotHasOwnProperty(e.$name,"input"),s.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],forEach(o.$pending,function(t,n){o.$setValidity(n,null,e)}),forEach(o.$error,function(t,n){o.$setValidity(n,null,e)}),forEach(o.$$success,function(t,n){o.$setValidity(n,null,e)}),arrayRemove(s,e),e.$$parentForm=at},addSetValidityMethod({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(arrayRemove(r,n),0===r.length&&delete e[t])},$animate:r}),o.$setDirty=function(){r.removeClass(e,Wt),r.addClass(e,zt),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){r.setClass(e,Wt,zt+" "+ct),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,forEach(s,function(e){e.$setPristine()})},o.$setUntouched=function(){forEach(s,function(e){e.$setUntouched()})},o.$setSubmitted=function(){r.addClass(e,ct),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function stringBasedInputType(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function textInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r)}function baseInputType(e,t,r,o,s,a){var c=i(t[0].type);if(!s.android){var u=!1;t.on("compositionstart",function(){u=!0}),t.on("compositionend",function(){u=!1,h()})}var l,h=function(e){if(l&&(a.defer.cancel(l),l=null),!u){var n=t.val(),i=e&&e.type;"password"===c||r.ngTrim&&"false"===r.ngTrim||(n=_(n)),(o.$viewValue!==n||""===n&&o.$$hasNativeValidators)&&o.$setViewValue(n,i)}};if(s.hasEvent("input"))t.on("input",h);else{var f=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||h(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||f(e,this,this.value)}),s.hasEvent("paste")&&t.on("paste cut",f)}t.on("change",h),_t[c]&&o.$$hasNativeValidators&&c===r.type&&t.on(wt,function(e){if(!l){var t=this[n],r=t.badInput,i=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===r&&t.typeMismatch===i||h(e)})}}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;t.val()!==e&&t.val(e)}}function weekParser(e,t){if(isDate(e))return e;if(isString(e)){yt.lastIndex=0;var n=yt.exec(e);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,c=0,u=getFirstThursdayOfYear(r),l=7*(i-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,u.getDate()+l,o,s,a,c)}}return NaN}function createDateParser(e,t){return function(n,r){var i,o;if(isDate(n))return n;if(isString(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ft.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function createDateInputType(e,t,n,r){return function(i,o,s,a,c,u,l){function isValidDate(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function parseObservedDateValue(e){return isDefined(e)&&!isDate(e)?n(e)||void 0:e}badInputChecker(i,o,s,a),baseInputType(i,o,s,a,c,u);var h,f=a&&a.$options&&a.$options.timezone;if(a.$$parserName=e,a.$parsers.push(function(e){if(a.$isEmpty(e))return null;if(t.test(e)){var r=n(e,h);return f&&(r=convertTimezoneToLocal(r,f)),r}}),a.$formatters.push(function(e){if(e&&!isDate(e))throw Qt("datefmt","Expected `{0}` to be a date",e);return isValidDate(e)?(h=e,h&&f&&(h=convertTimezoneToLocal(h,f,!0)),l("date")(e,r,f)):(h=null,"")}),isDefined(s.min)||s.ngMin){var p;a.$validators.min=function(e){return!isValidDate(e)||isUndefined(p)||n(e)>=p},s.$observe("min",function(e){p=parseObservedDateValue(e),a.$validate()})}if(isDefined(s.max)||s.ngMax){var d;a.$validators.max=function(e){return!isValidDate(e)||isUndefined(d)||n(e)<=d},s.$observe("max",function(e){d=parseObservedDateValue(e),a.$validate()})}}}function badInputChecker(e,t,r,i){var o=t[0],s=i.$$hasNativeValidators=isObject(o.validity);s&&i.$parsers.push(function(e){var r=t.prop(n)||{};return r.badInput||r.typeMismatch?void 0:e})}function numberInputType(e,t,n,r,i,o){if(badInputChecker(e,t,n,r),baseInputType(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:mt.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!isNumber(e))throw Qt("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),isDefined(n.min)||n.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||isUndefined(s)||e>=s},n.$observe("min",function(e){isDefined(e)&&!isNumber(e)&&(e=parseFloat(e)),s=isNumber(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(isDefined(n.max)||n.ngMax){var a;r.$validators.max=function(e){return r.$isEmpty(e)||isUndefined(a)||e<=a},n.$observe("max",function(e){isDefined(e)&&!isNumber(e)&&(e=parseFloat(e)),a=isNumber(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function urlInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||pt.test(n)}}function emailInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||dt.test(n)}}function radioInputType(e,t,n,r){isUndefined(n.name)&&t.attr("name",nextUid());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function parseConstantExpr(e,t,n,r,i){var o;if(isDefined(r)){if(o=e(r),!o.constant)throw Qt("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function checkboxInputType(e,t,n,r,i,o,s,a){var c=parseConstantExpr(a,e,"ngTrueValue",n.ngTrueValue,!0),u=parseConstantExpr(a,e,"ngFalseValue",n.ngFalseValue,!1),l=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",l),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return equals(e,c)}),r.$parsers.push(function(e){return e?c:u})}function classDirective(e,t){return e="ngClass"+e,["$animate",function(n){function arrayDifference(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function arrayClasses(e){var t=[];return $(e)?(forEach(e,function(e){t=t.concat(arrayClasses(e))}),t):isString(e)?e.split(" "):isObject(e)?(forEach(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(r,i,o){function addClasses(e){var t=digestClassCounts(e,1);o.$addClass(t)}function removeClasses(e){var t=digestClassCounts(e,-1);o.$removeClass(t)}function digestClassCounts(e,t){var n=i.data("$classCounts")||createMap(),r=[];return forEach(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),i.data("$classCounts",n),r.join(" ")}function updateClasses(e,t){var r=arrayDifference(t,e),o=arrayDifference(e,t);r=digestClassCounts(r,1),o=digestClassCounts(o,-1),r&&r.length&&n.addClass(i,r),o&&o.length&&n.removeClass(i,o)}function ngClassWatchAction(e){if(t===!0||(1&r.$index)===t){var n=arrayClasses(e||[]);if(s){if(!equals(e,s)){var i=arrayClasses(s);updateClasses(i,n)}}else addClasses(n)}s=$(e)?e.map(function(e){return shallowCopy(e)}):shallowCopy(e)}var s;r.$watch(o[e],ngClassWatchAction,!0),o.$observe("class",function(t){ngClassWatchAction(r.$eval(o[e]))}),"ngClass"!==e&&r.$watch("$index",function(n,i){var s=1&n;if(s!==(1&i)){var a=arrayClasses(r.$eval(o[e]));s===t?addClasses(a):removeClasses(a)}})}}}]}function addSetValidityMethod(e){function setValidity(e,n,r){isUndefined(n)?createAndSet("$pending",e,r):unsetAndCleanup("$pending",e,r),isBoolean(n)?n?(o(t.$error,e,r),i(t.$$success,e,r)):(i(t.$error,e,r),o(t.$$success,e,r)):(o(t.$error,e,r),o(t.$$success,e,r)),t.$pending?(cachedToggleClass(Jt,!0),t.$valid=t.$invalid=void 0,toggleValidationCss("",null)):(cachedToggleClass(Jt,!1),t.$valid=isObjectEmpty(t.$error),t.$invalid=!t.$valid,toggleValidationCss("",t.$valid));var s;s=t.$pending&&t.$pending[e]?void 0:!t.$error[e]&&(!!t.$$success[e]||null),toggleValidationCss(e,s),t.$$parentForm.$setValidity(e,s,t)}function createAndSet(e,n,r){t[e]||(t[e]={}),i(t[e],n,r)}function unsetAndCleanup(e,n,r){t[e]&&o(t[e],n,r),isObjectEmpty(t[e])&&(t[e]=void 0)}function cachedToggleClass(e,t){t&&!r[e]?(s.addClass(n,e),r[e]=!0):!t&&r[e]&&(s.removeClass(n,e),r[e]=!1)}function toggleValidationCss(e,t){e=e?"-"+snake_case(e,"-"):"",cachedToggleClass(Ht+e,t===!0),cachedToggleClass(Vt+e,t===!1)}var t=e.ctrl,n=e.$element,r={},i=e.set,o=e.unset,s=e.$animate;r[Vt]=!(r[Ht]=n.hasClass(Ht)),t.$setValidity=setValidity}function isObjectEmpty(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function chromeHack(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var t=/^\/(.+)\/([a-z]*)$/,n="validity",r=Object.prototype.hasOwnProperty,i=function(e){return isString(e)?e.toLowerCase():e},o=function(e){return isString(e)?e.toUpperCase():e},s=function(e){return isString(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},a=function(e){return isString(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(i=s,o=a);var c,u,l,h,f=[].slice,p=[].splice,d=[].push,m=Object.prototype.toString,g=Object.getPrototypeOf,v=minErr("ng"),y=e.angular||(e.angular={}),b=0;c=e.document.documentMode,noop.$inject=[],identity.$inject=[];var $=Array.isArray,w=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,_=function(e){return isString(e)?e.trim():e},S=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},E=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(E.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");E.rules={noUnsafeEval:!n||n.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!n||n.indexOf("no-inline-style")!==-1}}else E.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return E.rules},x=function(){if(isDefined(x.name_))return x.name_;var t,n,r,i,o=A.length;for(n=0;n<o;++n)if(r=A[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return x.name_=i},C=/:/g,A=["ng-","data-ng-","ng:","x-ng-"],T=/[A-Z]/g,k=!1,N=1,O=2,D=3,R=8,I=9,P=11,M={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};JQLite.expando="ng339";var L=JQLite.cache={},j=1,F=function(e,t,n){e.addEventListener(t,n,!1)},B=function(e,t,n){e.removeEventListener(t,n,!1)};JQLite._data=function(e){return this.cache[e[this.expando]]||{}};var U=/([\:\-\_]+(.))/g,q=/^moz([A-Z])/,H={mouseleave:"mouseout",mouseenter:"mouseover"},V=minErr("jqLite"),W=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,z=/<|&#?\w+;/,G=/<([\w:-]+)/,X=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,J={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var K=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},Y=JQLite.prototype={ready:function(t){function trigger(){n||(n=!0,t())}var n=!1;"complete"===e.document.readyState?e.setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(e).on("load",trigger))},toString:function(){var e=[];return forEach(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return u(e>=0?this[e]:this[this.length+e])},length:0,push:d,sort:[].sort,splice:[].splice},Q={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Q[i(e)]=e});var Z={};forEach("input,select,option,textarea,button,form,details".split(","),function(e){Z[e]=!0});var ee={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:jqLiteCleanData},function(e,t){JQLite[t]=e}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(e){return u.data(e,"$scope")||jqLiteInheritedData(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return u.data(e,"$isolateScope")||u.data(e,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(e){return jqLiteInheritedData(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:jqLiteHasClass,css:function(e,t,n){return t=camelCase(t),isDefined(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==D&&r!==O&&r!==R){var o=i(t);if(Q[o]){if(!isDefined(n))return e[t]||(e.attributes.getNamedItem(t)||noop).specified?o:void 0;n?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(isDefined(n))e.setAttribute(t,n);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?void 0:s}}},prop:function(e,t,n){return isDefined(n)?void(e[t]=n):e[t]},text:function(){function getText(e,t){if(isUndefined(t)){var n=e.nodeType;return n===N||n===D?e.textContent:""}e.textContent=t}return getText.$dv="",getText}(),val:function(e,t){if(isUndefined(t)){if(e.multiple&&"select"===nodeName_(e)){var n=[];return forEach(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return isUndefined(t)?e.innerHTML:(jqLiteDealoc(e,!0),void(e.innerHTML=t))},empty:jqLiteEmpty},function(e,t){JQLite.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==jqLiteEmpty&&isUndefined(2==e.length&&e!==jqLiteHasClass&&e!==jqLiteController?t:n)){if(isObject(t)){for(r=0;r<o;r++)if(e===jqLiteData)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=e.$dv,a=isUndefined(s)?Math.min(o,1):o,c=0;c<a;c++){var u=e(this[c],t,n);s=s?s+u:u}return s}for(r=0;r<o;r++)e(this[r],t,n);return this}}),forEach({removeData:jqLiteRemoveData,on:function(e,t,n,r){if(isDefined(r))throw V("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(e)){var i=jqLiteExpandoStore(e,!0),o=i.events,s=i.handle;s||(s=i.handle=createEventHandler(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],c=a.length,u=function(t,r,i){var a=o[t];a||(a=o[t]=[],a.specialHandlerWrapper=r,"$destroy"===t||i||F(e,t,s)),a.push(n)};c--;)t=a[c],H[t]?(u(H[t],specialMouseHandlerWrapper),u(t,void 0,!0)):u(t)}},off:jqLiteOff,one:function(e,t,n){e=u(e),e.on(t,function onFn(){e.off(t,n),e.off(t,onFn)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;jqLiteDealoc(e),forEach(new JQLite(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return forEach(e.childNodes,function(e){e.nodeType===N&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===N||n===P){t=new JQLite(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===N){var n=e.firstChild;forEach(new JQLite(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){jqLiteWrapNode(e,u(t).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(e){jqLiteRemove(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new JQLite(t);for(var i=0,o=t.length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(e,t,n){t&&forEach(t.split(" "),function(t){var r=n;isUndefined(r)&&(r=!jqLiteHasClass(e,t)),(r?jqLiteAddClass:jqLiteRemoveClass)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==P?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:jqLiteClone,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,a=jqLiteExpandoStore(e),c=a&&a.events,u=c&&c[s];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:s,target:e},t.type&&(r=extend(r,t)),i=shallowCopy(u),o=n?[r].concat(n):[r],forEach(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){JQLite.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;o<s;o++)isUndefined(i)?(i=e(this[o],t,n,r),isDefined(i)&&(i=u(i))):jqLiteAddNodes(i,e(this[o],t,n,r));return isDefined(i)?i:this;
},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(e,t){this[hashKey(e,this.nextUid)]=t},get:function(e){return this[hashKey(e,this.nextUid)]},remove:function(e){var t=this[e=hashKey(e,this.nextUid)];return delete this[e],t}};var te=[function(){this.$get=[function(){return HashMap}]}],ne=/^([^\(]+?)=>/,re=/^[^\(]*\(\s*([^\)]*)\)/m,ie=/,/,oe=/^\s*(_?)(\S+?)\1\s*$/,se=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ae=minErr("$injector");createInjector.$$annotate=annotate;var ce=minErr("$animate"),ue=1,le="ng-animate",he=function(){this.$get=noop},fe=function(){var e=new HashMap,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function updateData(e,t,n){var r=!1;return t&&(t=isString(t)?t.split(" "):$(t)?t:[],forEach(t,function(t){t&&(r=!0,e[t]=n)})),r}function handleCSSClassChanges(){forEach(t,function(t){var n=e.get(t);if(n){var r=splitClasses(t.attr("class")),i="",o="";forEach(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),forEach(t,function(e){i&&jqLiteAddClass(e,i),o&&jqLiteRemoveClass(e,o)}),e.remove(t)}}),t.length=0}function addRemoveClassesPostDigest(n,i,o){var s=e.get(n)||{},a=updateData(s,i,!0),c=updateData(s,o,!1);(a||c)&&(e.put(n,s),t.push(n),1===t.length&&r.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&addRemoveClassesPostDigest(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},pe=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw ce("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+le+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw ce("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',le)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function domInsert(e,t,n){if(n){var r=extractElementNode(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(t,n,r,i){return n=n&&u(n),r=r&&u(r),n=n||r.parent(),domInsert(t,n,r),e.push(t,"enter",prepareAnimateOptions(i))},move:function(t,n,r,i){return n=n&&u(n),r=r&&u(r),n=n||r.parent(),domInsert(t,n,r),e.push(t,"move",prepareAnimateOptions(i))},leave:function(t,n){return e.push(t,"leave",prepareAnimateOptions(n),function(){t.remove()})},addClass:function(t,n,r){return r=prepareAnimateOptions(r),r.addClass=mergeClasses(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=prepareAnimateOptions(r),r.removeClass=mergeClasses(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=prepareAnimateOptions(i),i.addClass=mergeClasses(i.addClass,n),i.removeClass=mergeClasses(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=prepareAnimateOptions(o),o.from=o.from?extend(o.from,n):n,o.to=o.to?extend(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=mergeClasses(o.tempClasses,i),e.push(t,"animate",o)}}}]}],de=function(){this.$get=["$$rAF",function(e){function waitForTick(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}var t=[];return function(){var e=!1;return waitForTick(function(){e=!0}),function(t){e?t():waitForTick(t)}}}]},me=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function AnimateRunner(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?o(e):t(e)},this._state=0}var o=0,s=1,a=2;return AnimateRunner.chain=function(e,t){function next(){return n===e.length?void t(!0):void e[n](function(e){return e===!1?void t(!1):(n++,void next())})}var n=0;next()},AnimateRunner.all=function(e,t){function onProgress(i){r=r&&i,++n===e.length&&t(r)}var n=0,r=!0;forEach(e,function(e){e.done(onProgress)})},AnimateRunner.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===o&&(t._state=s,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==a&&(forEach(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=a)}},AnimateRunner}]},ge=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function run(){return e(function(){applyAnimationContents(),o||s.complete(),o=!0}),s}function applyAnimationContents(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null)}var i=r||{};i.$$prepared||(i=copy(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:run,end:run}}}]},ve=minErr("$compile"),ye=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"],SimpleChange.prototype.isFirstChange=function(){return this.previousValue===ye};var be=/^((?:x|data)[\:\-_])/i,$e=minErr("$controller"),we=/^(\S+)(\s+as\s+([\w$]+))?$/,_e=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof u&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Se="application/json",Ee={"Content-Type":Se+";charset=utf-8"},xe=/^\[|^\{(?!\{)/,Ce={"[":/]$/,"{":/}$/},Ae=/^\)\]\}',?\n/,Te=minErr("$http"),ke=function(e){return function(){throw Te("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Ne=y.$interpolateMinErr=minErr("$interpolate");Ne.throwNoconcat=function(e){throw Ne("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Ne.interr=function(e,t){return Ne("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Oe=function(){this.$get=["$window",function(e){function createCallback(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=e.angular.callbacks,n={};return{createCallback:function(e){var r="_"+(t.$$counter++).toString(36),i="angular.callbacks."+r,o=createCallback(r);return n[i]=t[r]=o,i},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var r=n[e];delete t[r.id],delete n[e]}}}]},De=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Re={http:80,https:443,ftp:21},Ie=minErr("$location"),Pe={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(e){if(isUndefined(e))return this.$$url;var t=De.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(e)||isNumber(e))e=e.toString(),this.$$search=parseKeyValue(e);else{if(!isObject(e))throw Ie("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=copy(e,{}),forEach(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:isUndefined(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(e){e.prototype=Object.create(Pe),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==LocationHtml5Url||!this.$$html5)throw Ie("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(t)?null:t,this}});var Me=minErr("$parse"),Le=Function.prototype.call,je=Function.prototype.apply,Fe=Function.prototype.bind,Be=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Be[e]=!0});var Ue={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},qe=function(e){this.options=e};qe.prototype={constructor:qe,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=Be[t],o=Be[n],s=Be[r];if(i||o||s){var a=s?r:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=isDefined(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Me("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=i(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=Ue[o];n+=a||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var He=function(e,t){this.lexer=e,this.options=t};He.Program="Program",He.ExpressionStatement="ExpressionStatement",He.AssignmentExpression="AssignmentExpression",He.ConditionalExpression="ConditionalExpression",He.LogicalExpression="LogicalExpression",He.BinaryExpression="BinaryExpression",He.UnaryExpression="UnaryExpression",He.CallExpression="CallExpression",He.MemberExpression="MemberExpression",He.Identifier="Identifier",He.Literal="Literal",He.ArrayExpression="ArrayExpression",He.Property="Property",He.ObjectExpression="ObjectExpression",He.ThisExpression="ThisExpression",He.LocalsExpression="LocalsExpression",He.NGValueParameter="NGValueParameter",He.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:He.Program,body:e}},expressionStatement:function(){return{type:He.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:He.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:He.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:He.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:He.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:He.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:He.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:He.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:He.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:He.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=copy(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:He.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:He.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:He.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:He.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:He.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:He.Identifier,name:e.text}},constant:function(){return{type:He.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:He.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:He.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:He.ObjectExpression,properties:t}},throwError:function(e,t){throw Me("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Me("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Me("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===r||s===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:He.ThisExpression},$locals:{type:He.LocalsExpression}}},ASTCompiler.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(r,n.$filter);var i,o="";if(this.stage="assign",i=assignableAST(r)){this.state.computing="assign";var s=this.nextId();this.recurse(i,s),this.return_(s),o="fn.assign="+this.generateFunction("assign","s,v,l")}var a=getInputs(r.body);n.stage="inputs",forEach(a,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,getStringValue,ensureSafeAssignContext,ifDefined,plusFn,e);return this.state=this.stage=void 0,u.literal=isLiteral(r),u.constant=isConstant(r),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return forEach(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return forEach(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var s,a,c,u,l,h=this;if(r=r||noop,!o&&isDefined(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case He.Program:forEach(e.body,function(t,n){h.recurse(t.expression,void 0,void 0,function(e){a=e}),n!==e.body.length-1?h.current().body.push(a,";"):h.return_(a)});break;case He.Literal:u=this.escape(e.value),this.assign(t,u),r(u);break;case He.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){a=e}),u=e.operator+"("+this.ifDefined(a,0)+")",this.assign(t,u),r(u);break;case He.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){a=e}),u="+"===e.operator?this.plus(s,a):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(a,0):"("+s+")"+e.operator+"("+a+")",this.assign(t,u),r(u);break;case He.LogicalExpression:t=t||this.nextId(),h.recurse(e.left,t),h.if_("&&"===e.operator?t:h.not(t),h.lazyRecurse(e.right,t)),r(t);break;case He.ConditionalExpression:t=t||this.nextId(),h.recurse(e.test,t),h.if_(t,h.lazyRecurse(e.alternate,t),h.lazyRecurse(e.consequent,t)),r(t);break;case He.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),ensureSafeMemberName(e.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",e.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.not(h.nonComputedMember("s",e.name)),h.lazyAssign(h.nonComputedMember("s",e.name),"{}")),h.assign(t,h.nonComputedMember("s",e.name))})},t&&h.lazyAssign(t,h.nonComputedMember("l",e.name))),(h.state.expensiveChecks||isPossiblyDangerousMemberName(e.name))&&h.addEnsureSafeObject(t),r(t);break;case He.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),h.recurse(e.object,s,void 0,function(){h.if_(h.notNull(s),function(){i&&1!==i&&h.addEnsureSafeAssignContext(s),e.computed?(a=h.nextId(),h.recurse(e.property,a),h.getStringValue(a),h.addEnsureSafeMemberName(a),i&&1!==i&&h.if_(h.not(h.computedMember(s,a)),h.lazyAssign(h.computedMember(s,a),"{}")),u=h.ensureSafeObject(h.computedMember(s,a)),h.assign(t,u),n&&(n.computed=!0,n.name=a)):(ensureSafeMemberName(e.property.name),i&&1!==i&&h.if_(h.not(h.nonComputedMember(s,e.property.name)),h.lazyAssign(h.nonComputedMember(s,e.property.name),"{}")),u=h.nonComputedMember(s,e.property.name),(h.state.expensiveChecks||isPossiblyDangerousMemberName(e.property.name))&&(u=h.ensureSafeObject(u)),h.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){h.assign(t,"undefined")}),r(t)},!!i);break;case He.CallExpression:t=t||this.nextId(),e.filter?(a=h.filter(e.callee.name),c=[],forEach(e.arguments,function(e){var t=h.nextId();h.recurse(e,t),c.push(t)}),u=a+"("+c.join(",")+")",h.assign(t,u),r(t)):(a=h.nextId(),s={},c=[],h.recurse(e.callee,a,s,function(){h.if_(h.notNull(a),function(){h.addEnsureSafeFunction(a),forEach(e.arguments,function(e){h.recurse(e,h.nextId(),void 0,function(e){c.push(h.ensureSafeObject(e))})}),s.name?(h.state.expensiveChecks||h.addEnsureSafeObject(s.context),u=h.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):u=a+"("+c.join(",")+")",u=h.ensureSafeObject(u),h.assign(t,u)},function(){h.assign(t,"undefined")}),r(t)}));break;case He.AssignmentExpression:if(a=this.nextId(),s={},!isAssignable(e.left))throw Me("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(e.right,a),h.addEnsureSafeObject(h.member(s.context,s.name,s.computed)),h.addEnsureSafeAssignContext(s.context),u=h.member(s.context,s.name,s.computed)+e.operator+a,h.assign(t,u),r(t||u)})},1);break;case He.ArrayExpression:c=[],forEach(e.elements,function(e){h.recurse(e,h.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),r(u);break;case He.ObjectExpression:c=[],l=!1,forEach(e.properties,function(e){e.computed&&(l=!0)}),l?(t=t||this.nextId(),this.assign(t,"{}"),forEach(e.properties,function(e){e.computed?(s=h.nextId(),h.recurse(e.key,s)):s=e.key.type===He.Identifier?e.key.name:""+e.key.value,a=h.nextId(),h.recurse(e.value,a),h.assign(h.member(t,s,e.computed),a)})):(forEach(e.properties,function(t){h.recurse(t.value,e.constant?void 0:h.nextId(),void 0,function(e){c.push(h.escape(t.key.type===He.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),r(t||u);break;case He.ThisExpression:this.assign(t,"s"),r("s");break;case He.LocalsExpression:this.assign(t,"l"),r("l");break;case He.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(isString(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Me("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,findConstantAndWatchExpressions(r,n.$filter);var i,o;(i=assignableAST(r))&&(o=this.recurse(i));var s,a=getInputs(r.body);a&&(s=[],forEach(a,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var c=[];forEach(r.body,function(e){c.push(n.recurse(e.expression))});var u=0===r.body.length?noop:1===r.body.length?c[0]:function(e,t){var n;return forEach(c,function(r){n=r(e,t)}),n};return o&&(u.assign=function(e,t,n){return o(e,n,t)}),s&&(u.inputs=s),u.literal=isLiteral(r),u.constant=isConstant(r),u},recurse:function(e,t,n){var r,i,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case He.Literal:return this.value(e.value,t);case He.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case He.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case He.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case He.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case He.Identifier:return ensureSafeMemberName(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||isPossiblyDangerousMemberName(e.name),t,n,s.expression);case He.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(ensureSafeMemberName(e.property.name,s.expression),i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n,s.expression):this.nonComputedMember(r,i,s.expensiveChecks,t,n,s.expression);case He.CallExpression:return o=[],forEach(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,s){for(var a=[],c=0;c<o.length;++c)a.push(o[c](e,n,r,s));var u=i.apply(void 0,a,s);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,a){var c,u=i(e,n,r,a);if(null!=u.value){ensureSafeObject(u.context,s.expression),ensureSafeFunction(u.value,s.expression);for(var l=[],h=0;h<o.length;++h)l.push(ensureSafeObject(o[h](e,n,r,a),s.expression));c=ensureSafeObject(u.value.apply(u.context,l),s.expression)}return t?{value:c}:c};case He.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var c=r(e,n,o,a),u=i(e,n,o,a);return ensureSafeObject(c.value,s.expression),ensureSafeAssignContext(c.context),c.context[c.name]=u,t?{value:u}:u};case He.ArrayExpression:return o=[],forEach(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,r,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](e,n,r,i));return t?{value:s}:s};case He.ObjectExpression:return o=[],forEach(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===He.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(e,n,r,i)]=o[a].value(e,n,r,i):s[o[a].key]=o[a].value(e,n,r,i);return t?{value:s}:s};case He.ThisExpression:return function(e){return t?{value:e}:e};case He.LocalsExpression:return function(e,n){return t?{value:n}:n};case He.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=isDefined(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=isDefined(s)?-s:0,t?{value:s}:s}},"unary!":function(e,t){return function(n,r,i,o){var s=!e(n,r,i,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),c=t(r,i,o,s),u=plusFn(a,c);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),c=t(r,i,o,s),u=(isDefined(a)?a:0)-(isDefined(c)?c:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)*t(r,i,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)/t(r,i,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)%t(r,i,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)===t(r,i,o,s);
return n?{value:a}:a}},"binary!==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!==t(r,i,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)==t(r,i,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!=t(r,i,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<t(r,i,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>t(r,i,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<=t(r,i,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>=t(r,i,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)&&t(r,i,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)||t(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){var c=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,s,a,c){var u=s&&e in s?s:o;r&&1!==r&&u&&!u[e]&&(u[e]={});var l=u?u[e]:void 0;return t&&ensureSafeObject(l,i),n?{context:u,name:e,value:l}:l}},computedMember:function(e,t,n,r,i){return function(o,s,a,c){var u,l,h=e(o,s,a,c);return null!=h&&(u=t(o,s,a,c),u=getStringValue(u),ensureSafeMemberName(u,i),r&&1!==r&&(ensureSafeAssignContext(h),h&&!h[u]&&(h[u]={})),l=h[u],ensureSafeObject(l,i)),n?{context:h,name:u,value:l}:l}},nonComputedMember:function(e,t,n,r,i,o){return function(s,a,c,u){var l=e(s,a,c,u);i&&1!==i&&(ensureSafeAssignContext(l),l&&!l[t]&&(l[t]={}));var h=null!=l?l[t]:void 0;return(n||isPossiblyDangerousMemberName(t))&&ensureSafeObject(h,o),r?{context:l,name:t,value:h}:h}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var Ve=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new He(e,n),this.astCompiler=n.csp?new ASTInterpreter(this.ast,t):new ASTCompiler(this.ast,t)};Ve.prototype={constructor:Ve,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var We=Object.prototype.valueOf,ze=minErr("$sce"),Ge={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Xe=minErr("$compile"),Je=e.document.createElement("a"),Ke=urlResolve(e.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var Ye=22,Qe=".",Ze="0";currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var et={yyyy:dateGetter("FullYear",4,0,!1,!0),yy:dateGetter("FullYear",2,0,!0,!0),y:dateGetter("FullYear",1,0,!1,!0),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",!1,!0),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},tt=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,nt=/^\-?\d+$/;dateFilter.$inject=["$locale"];var rt=valueFn(i),it=valueFn(o);orderByFilter.$inject=["$parse"];var ot=valueFn({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),st={};forEach(Q,function(e,t){function defaultLinkFn(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}if("multiple"!=e){var n=directiveNormalize("ng-"+t),r=defaultLinkFn;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&defaultLinkFn(e,t,r)}),st[n]=function(){return{restrict:"A",priority:100,link:r}}}}),forEach(ee,function(e,n){st[n]=function(){return{priority:100,link:function(e,r,i){if("ngPattern"===n&&"/"==i.ngPattern.charAt(0)){var o=i.ngPattern.match(t);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(i[n],function(e){i.$set(n,e)})}}}}),forEach(["src","srcset","href"],function(e){var t=directiveNormalize("ng-"+e);st[t]=function(){return{priority:99,link:function(n,r,i){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===m.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(s,t),void(c&&o&&r.prop(o,i[s]))):void("href"===e&&i.$set(s,null))})}}}});var at={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},ct="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ut=function(e){return["$timeout","$parse",function(t,n){function getSetter(e){return""===e?n('this[""]').assign:n(e).assign||noop}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(n,r){n.addClass(Wt).addClass(Ht);var i=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,o){var s=o[0];if(!("action"in r)){var a=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};F(n[0],"submit",a),n.on("$destroy",function(){t(function(){B(n[0],"submit",a)},0,!1)})}var c=o[1]||s.$$parentForm;c.$addControl(s);var u=i?getSetter(s.$name):noop;i&&(u(e,s),r.$observe(i,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=getSetter(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),extend(s,at)})}}}};return r}]},lt=ut(),ht=ut(!0),ft=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,pt=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,dt=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mt=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,gt=/^(\d{4,})-(\d{2})-(\d{2})$/,vt=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,yt=/^(\d{4,})-W(\d\d)$/,bt=/^(\d{4,})-(\d\d)$/,$t=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,wt="keydown wheel mousedown",_t=createMap();forEach("date,datetime-local,month,time,week".split(","),function(e){_t[e]=!0});var St={text:textInputType,date:createDateInputType("date",gt,createDateParser(gt,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",vt,createDateParser(vt,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",$t,createDateParser($t,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",yt,weekParser,"yyyy-Www"),month:createDateInputType("month",bt,createDateParser(bt,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},Et=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,s,a,c){c[0]&&(St[i(a.type)]||St.text)(o,s,a,c[0],t,e,n,r)}}}}],xt=/^(true|false|\d+)$/,Ct=function(){return{restrict:"A",priority:100,compile:function(e,t){return xt.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},At=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=isUndefined(e)?"":e})}}}}],Tt=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=isUndefined(e)?"":e})}}}}],kt=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Nt=valueFn({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Ot=classDirective("",!0),Dt=classDirective("Odd",0),Rt=classDirective("Even",1),It=ngDirective({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Pt=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Mt={},Lt={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=directiveNormalize("ng-"+e);Mt[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){s(t,{$event:n})};Lt[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var jt=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,c,u;n.$watch(i.ngIf,function(n){n?c||s(function(n,o){c=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),a&&(u=getBlockNodes(a.clone),e.leave(u).then(function(){u=null}),a=null))})}}}],Ft=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,c,u,l){var h,f,p,d=0,m=function(){f&&(f.remove(),f=null),h&&(h.$destroy(),h=null),p&&(n.leave(p).then(function(){f=null}),f=p,p=null)};r.$watch(o,function(o){var c=function(){!isDefined(a)||a&&!r.$eval(a)||t()},f=++d;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&f===d){var t=r.$new();u.template=e;var a=l(t,function(e){m(),n.enter(e,null,i).then(c)});h=t,p=a,h.$emit("$includeContentLoaded",o),r.$eval(s)}},function(){r.$$destroyed||f===d&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],Bt=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return m.call(r[0]).match(/SVG/)?(r.empty(),void t(jqLiteBuildFragment(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Ut=ngDirective({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),qt=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,s=o?_(i):i,a=function(e){if(!isUndefined(e)){var t=[];return e&&forEach(e.split(s),function(e){e&&t.push(o?_(e):e)}),t}};r.$parsers.push(a),r.$formatters.push(function(e){if($(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},Ht="ng-valid",Vt="ng-invalid",Wt="ng-pristine",zt="ng-dirty",Gt="ng-untouched",Xt="ng-touched",Jt="ng-pending",Kt="ng-empty",Yt="ng-not-empty",Qt=minErr("ngModel"),Zt=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,i,o,s,a,c,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=at;var l,h=i(n.ngModel),f=h.assign,p=h,d=f,m=null,g=this;this.$$setOptions=function(e){if(g.$options=e,e&&e.getterSetter){var t=i(n.ngModel+"()"),o=i(n.ngModel+"($$$p)");p=function(e){var n=h(e);return isFunction(n)&&(n=t(e)),n},d=function(e,t){isFunction(h(e))?o(e,{$$$p:t}):f(e,t)}}else if(!h.assign)throw Qt("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,startingTag(r))},this.$render=noop,this.$isEmpty=function(e){return isUndefined(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){g.$isEmpty(e)?(o.removeClass(r,Yt),o.addClass(r,Kt)):(o.removeClass(r,Kt),o.addClass(r,Yt))};var v=0;addSetValidityMethod({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){g.$dirty=!1,g.$pristine=!0,o.removeClass(r,zt),o.addClass(r,Wt)},this.$setDirty=function(){g.$dirty=!0,g.$pristine=!1,o.removeClass(r,Wt),o.addClass(r,zt),g.$$parentForm.$setDirty()},this.$setUntouched=function(){g.$touched=!1,g.$untouched=!0,o.setClass(r,Gt,Xt)},this.$setTouched=function(){g.$touched=!0,g.$untouched=!1,o.setClass(r,Xt,Gt)},this.$rollbackViewValue=function(){s.cancel(m),g.$viewValue=g.$$lastCommittedViewValue,g.$render()},this.$validate=function(){if(!isNumber(g.$modelValue)||!isNaN(g.$modelValue)){var e=g.$$lastCommittedViewValue,t=g.$$rawModelValue,n=g.$valid,r=g.$modelValue,i=g.$options&&g.$options.allowInvalid;g.$$runValidators(t,e,function(e){i||n===e||(g.$modelValue=e?t:void 0,g.$modelValue!==r&&g.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function processParseErrors(){var e=g.$$parserName||"parse";return isUndefined(l)?(setValidity(e,null),!0):(l||(forEach(g.$validators,function(e,t){setValidity(t,null)}),forEach(g.$asyncValidators,function(e,t){setValidity(t,null)})),setValidity(e,l),l)}function processSyncValidators(){var n=!0;return forEach(g.$validators,function(r,i){var o=r(e,t);n=n&&o,setValidity(i,o)}),!!n||(forEach(g.$asyncValidators,function(e,t){setValidity(t,null)}),!1)}function processAsyncValidators(){var n=[],r=!0;forEach(g.$asyncValidators,function(i,o){var s=i(e,t);if(!isPromiseLike(s))throw Qt("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);setValidity(o,void 0),n.push(s.then(function(){setValidity(o,!0)},function(){r=!1,setValidity(o,!1)}))}),n.length?c.all(n).then(function(){validationDone(r)},noop):validationDone(!0)}function setValidity(e,t){r===v&&g.$setValidity(e,t)}function validationDone(e){r===v&&n(e)}v++;var r=v;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var e=g.$viewValue;s.cancel(m),(g.$$lastCommittedViewValue!==e||""===e&&g.$$hasNativeValidators)&&(g.$$updateEmptyClasses(e),g.$$lastCommittedViewValue=e,g.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){g.$modelValue!==i&&g.$$writeModelToScope()}var t=g.$$lastCommittedViewValue,n=t;if(l=!isUndefined(n)||void 0)for(var r=0;r<g.$parsers.length;r++)if(n=g.$parsers[r](n),isUndefined(n)){l=!1;break}isNumber(g.$modelValue)&&isNaN(g.$modelValue)&&(g.$modelValue=p(e));var i=g.$modelValue,o=g.$options&&g.$options.allowInvalid;g.$$rawModelValue=n,o&&(g.$modelValue=n,writeToModelIfNeeded()),g.$$runValidators(n,g.$$lastCommittedViewValue,function(e){o||(g.$modelValue=e?n:void 0,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){d(e,g.$modelValue),forEach(g.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){g.$viewValue=e,g.$options&&!g.$options.updateOnDefault||g.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=g.$options;i&&isDefined(i.debounce)&&(n=i.debounce,isNumber(n)?r=n:isNumber(n[t])?r=n[t]:isNumber(n.default)&&(r=n.default)),s.cancel(m),r?m=s(function(){g.$commitViewValue()},r):a.$$phase?g.$commitViewValue():e.$apply(function(){g.$commitViewValue()})},e.$watch(function(){var t=p(e);if(t!==g.$modelValue&&(g.$modelValue===g.$modelValue||t===t)){g.$modelValue=g.$$rawModelValue=t,l=void 0;for(var n=g.$formatters,r=n.length,i=t;r--;)i=n[r](i);g.$viewValue!==i&&(g.$$updateEmptyClasses(i),g.$viewValue=g.$$lastCommittedViewValue=i,g.$render(),g.$$runValidators(t,i,noop))}return t})}],en=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Zt,priority:1,compile:function(t){return t.addClass(Wt).addClass(Gt).addClass(Ht),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],tn=/(\s+|^)default(\s+|$)/,nn=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=copy(e.$eval(t.ngModelOptions)),isDefined(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=_(this.$options.updateOn.replace(tn,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},rn=ngDirective({terminal:!0,priority:1e3}),on=minErr("ngOptions"),sn=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,an=["$compile","$document","$parse",function(t,n,r){function parseOptionsExpression(e,t,n){function Option(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function getOptionValuesKeys(e){var t;if(!s&&isArrayLike(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var i=e.match(sn);if(!i)throw on("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,startingTag(t));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],c=i[9],u=r(i[2]?i[1]:o),l=a&&r(a),h=l||u,f=c&&r(c),p=c?function(e,t){return f(n,t)}:function(e){return hashKey(e)},d=function(e,t){return p(e,w(e,t))},m=r(i[2]||i[1]),g=r(i[3]||""),v=r(i[4]||""),b=r(i[8]),$={},w=s?function(e,t){return $[s]=t,$[o]=e,$}:function(e){return $[o]=e,$};return{trackBy:c,getTrackByValue:d,getWatchables:r(b,function(e){var t=[];e=e||[];for(var r=getOptionValuesKeys(e),o=r.length,s=0;s<o;s++){var a=e===r?s:r[s],c=e[a],u=w(c,a),l=p(c,u);if(t.push(l),i[2]||i[1]){var h=m(n,u);t.push(h)}if(i[4]){var f=v(n,u);t.push(f)}}return t}),getOptions:function(){for(var e=[],t={},r=b(n)||[],i=getOptionValuesKeys(r),o=i.length,s=0;s<o;s++){var a=r===i?s:i[s],u=r[a],l=w(u,a),f=h(n,l),$=p(f,l),_=m(n,l),S=g(n,l),E=v(n,l),x=new Option($,f,_,S,E);e.push(x),t[$]=x}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[d(e)]},getViewValueFromOption:function(e){return c?y.copy(e.viewValue):e.viewValue}}}}}function ngOptionsPostLink(e,r,s,a){function addOptionElement(e,t){var n=i.cloneNode(!1);t.appendChild(n),updateOptionElement(e,n)}function updateOptionElement(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function updateOptions(){var e=y&&l.readValue();if(y)for(var t=y.items.length-1;t>=0;t--){var n=y.items[t];jqLiteRemove(isDefined(n.group)?n.element.parentNode:n.element)}y=b.getOptions();var i={};if(g&&r.prepend(c),y.items.forEach(function(e){var t;isDefined(e.group)?(t=i[e.group],t||(t=o.cloneNode(!1),w.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),addOptionElement(e,t)):addOptionElement(e,w)}),r[0].appendChild(w),h.$render(),!h.$isEmpty(e)){var s=l.readValue(),a=b.trackBy||f;(a?equals(e,s):e===s)||(h.$setViewValue(s),h.$render())}}for(var c,l=a[0],h=a[1],f=s.multiple,p=0,d=r.children(),m=d.length;p<m;p++)if(""===d[p].value){c=d.eq(p);break}var g=!!c,v=u(i.cloneNode(!1));v.val("?");var y,b=parseOptionsExpression(s.ngOptions,r,e),w=n[0].createDocumentFragment(),_=function(){g||r.prepend(c),r.val(""),c.prop("selected",!0),c.attr("selected",!0)},S=function(){g||c.remove()},E=function(){r.prepend(v),r.val("?"),v.prop("selected",!0),v.attr("selected",!0)},x=function(){v.remove()};f?(h.$isEmpty=function(e){return!e||0===e.length},l.writeValue=function(e){y.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=y.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},l.readValue=function(){var e=r.val()||[],t=[];return forEach(e,function(e){var n=y.selectValueMap[e];n&&!n.disabled&&t.push(y.getViewValueFromOption(n))}),t},b.trackBy&&e.$watchCollection(function(){if($(h.$viewValue))return h.$viewValue.map(function(e){return b.getTrackByValue(e)})},function(){h.$render()})):(l.writeValue=function(e){var t=y.getOptionFromViewValue(e);t?(r[0].value!==t.selectValue&&(x(),S(),r[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||g?(x(),_()):(S(),E())},l.readValue=function(){var e=y.selectValueMap[r.val()];return e&&!e.disabled?(S(),x(),y.getViewValueFromOption(e)):null},b.trackBy&&e.$watch(function(){return b.getTrackByValue(h.$viewValue)},function(){h.$render()})),g?(c.remove(),t(c)(e),c.removeClass("ng-scope")):c=u(i.cloneNode(!1)),r.empty(),updateOptions(),e.$watchCollection(b.getWatchables,updateOptions)}var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=noop},post:ngOptionsPostLink}}}],cn=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(s,a,c){function updateElementText(e){a.text(e||"")}var u,l=c.count,h=c.$attr.when&&a.attr(c.$attr.when),f=c.offset||0,p=s.$eval(h)||{},d={},m=t.startSymbol(),g=t.endSymbol(),v=m+l+"-"+f+g,b=y.noop;forEach(c,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+i(n[2]);p[r]=a.attr(c.$attr[t])}}),forEach(p,function(e,n){d[n]=t(e.replace(r,v))}),s.$watch(l,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in p||(r=e.pluralCat(r-f)),r!==u&&!(i&&isNumber(u)&&isNaN(u))){b();var o=d[r];isUndefined(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),b=noop,updateElementText()):b=s.$watch(o,updateElementText),u=r}})}}}],un=["$parse","$animate","$compile",function(e,t,n){var i="$$NG_REMOVED",o=minErr("ngRepeat"),s=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},a=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(u,l){var h=l.ngRepeat,f=n.$$createComment("end ngRepeat",h),p=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var d=p[1],m=p[2],g=p[3],v=p[4];if(p=d.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",d);var y=p[3]||p[1],b=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var $,w,_,S,E={$id:hashKey};return v?$=e(v):(_=function(e,t){return hashKey(t)},S=function(e){return e}),function(e,n,u,l,p){$&&(w=function(t,n,r){return b&&(E[b]=t),E[y]=n,E.$index=r,$(e,E)});var d=createMap();e.$watchCollection(m,function(u){var l,m,v,$,E,x,C,A,T,k,N,O,D=n[0],R=createMap();if(g&&(e[g]=u),isArrayLike(u))T=u,A=w||_;else{A=w||S,T=[];for(var I in u)r.call(u,I)&&"$"!==I.charAt(0)&&T.push(I)}for($=T.length,N=new Array($),l=0;l<$;l++)if(E=u===T?l:T[l],x=u[E],C=A(E,x,l),d[C])k=d[C],delete d[C],R[C]=k,N[l]=k;else{if(R[C])throw forEach(N,function(e){e&&e.scope&&(d[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,C,x);N[l]={id:C,scope:void 0,clone:void 0},R[C]=!0}for(var P in d){if(k=d[P],O=getBlockNodes(k.clone),t.leave(O),O[0].parentNode)for(l=0,m=O.length;l<m;l++)O[l][i]=!0;k.scope.$destroy()}for(l=0;l<$;l++)if(E=u===T?l:T[l],x=u[E],k=N[l],k.scope){v=D;do v=v.nextSibling;while(v&&v[i]);a(k)!=v&&t.move(getBlockNodes(k.clone),null,D),D=c(k),s(k.scope,l,y,x,b,E,$)}else p(function(e,n){k.scope=n;var r=f.cloneNode(!1);e[e.length++]=r,t.enter(e,null,D),D=r,k.clone=e,R[k.id]=k,s(k.scope,l,y,x,b,E,$)});d=R})}}}}],ln="ng-hide",hn="ng-hide-animate",fn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ln,{tempClasses:hn})})}}}],pn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ln,{tempClasses:hn})})}}}],dn=ngDirective(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&forEach(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),mn=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,a=[],c=[],u=[],l=[],h=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=u.length;r<i;++r)e.cancel(u[r]);for(u.length=0,r=0,i=l.length;r<i;++r){var s=getBlockNodes(c[r].clone);l[r].$destroy();var f=u[r]=e.leave(s);f.then(h(u,r))}c.length=0,l.length=0,(a=o.cases["!"+n]||o.cases["?"])&&forEach(a,function(n){n.transclude(function(r,i){l.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:r};c.push(s),e.enter(r,o.parent(),o)})})})}}}],gn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),vn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),yn=minErr("ngTransclude"),bn=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function ngTranscludeCloneAttachFn(e,n){e.length?t.append(e):(useFallbackContent(),n.$destroy())}function useFallbackContent(){n(e,function(e){t.append(e)})}if(!o)throw yn("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var s=r.ngTransclude||r.ngTranscludeSlot;o(ngTranscludeCloneAttachFn,null,s),s&&!o.isSlotFilled(s)&&useFallbackContent()}}}}],$n=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],wn={$setViewValue:noop,$render:noop},_n=["$element","$scope",function(t,n){var r=this,i=new HashMap;r.ngModelCtrl=wn,r.unknownOption=u(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+hashKey(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=noop}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==R){assertNotHasOwnProperty(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),chromeHack(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var s;n.$observe("value",function(e){isDefined(s)&&r.removeOption(s),s=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Sn=function(){function selectPreLink(e,t,n,r){var i=r[1];if(i){var o=r[0];if(o.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return forEach(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new HashMap(e);forEach(t.find("option"),function(e){e.selected=isDefined(n.get(e.value))})};var s,a=NaN;e.$watch(function(){a!==i.$viewValue||equals(s,i.$viewValue)||(s=shallowCopy(i.$viewValue),i.$render()),a=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}function selectPostLink(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:_n,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},En=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(isDefined(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",s=t.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(e,t,n,r,i)}}}}],xn=valueFn({restrict:"E",terminal:!1}),Cn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},An=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(isString(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,startingTag(t));i=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||isUndefined(i)||i.test(t)}}}}},Tn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=toInt(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},kn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=toInt(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(bindJQuery(),publishExternalAPI(y),y.module("ngLocale",[],["$provide",function(e){function getDecimals(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function getVF(e,t){var n=t;void 0===n&&(n=Math.min(getDecimals(e),3));var r=Math.pow(10,n),i=(e*r|0)%r;return{v:n,f:i}}var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=0|e,i=getVF(e,n);return 1==r&&0==i.v?t.ONE:t.OTHER}})}]),void u(e.document).ready(function(){angularInit(e.document,bootstrap)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},,function(e,t){"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function inherit(e,t){return u(new(u(function(){},{prototype:e})),t)}function merge(e){return c(arguments,function(t){t!==e&&c(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function ancestors(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function objectKeys(e){if(Object.keys)return Object.keys(e);var t=[];return c(e,function(e,n){t.push(n)}),t}function indexOf(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function inheritParams(e,t,n,r){var i,o=ancestors(n,r),s={},a=[];for(var c in o)if(o[c]&&o[c].params&&(i=objectKeys(o[c].params),i.length))for(var l in i)indexOf(a,i[l])>=0||(a.push(i[l]),s[i[l]]=e[i[l]]);return u({},s,t)}function equalForKeys(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function filterByKeys(e,t){var n={};return c(e,function(e){n[e]=t[e]}),n}function pick(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return c(n,function(n){n in e&&(t[n]=e[n])}),t}function omit(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)indexOf(n,r)==-1&&(t[r]=e[r]);return t}function filter(e,t){var n=a(e),r=n?[]:{};return c(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function map(e,t){var n=a(e)?[]:{};return c(e,function(e,r){n[r]=t(e,r)}),n}function silenceUncaughtInPromise(e){return e.then(n,function(){})&&e}function $Resolve(e,t){var i=1,a=2,l={},h=[],f=l,p=u(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function visit(e,n){if(v[n]!==a){if(g.push(n),v[n]===i)throw g.splice(0,indexOf(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(v[n]=i,o(e))m.push(n,[function(){return t.get(e)}],h);else{var r=t.annotate(e);c(r,function(e){e!==n&&l.hasOwnProperty(e)&&visit(l[e],e)}),m.push(n,e,r)}g.pop(),v[n]=a}}function isResolve(e){return s(e)&&e.then&&e.$$promises}if(!s(l))throw new Error("'invocables' must be an object");var d=objectKeys(l||{}),m=[],g=[],v={};return c(l,visit),l=g=v=null,function(i,o,a){function done(){--y||(b||merge(v,o.$$values),h.$$values=v,h.$$promises=h.$$promises||!0,delete h.$$inheritedValues,l.resolve(v))}function fail(e){h.$$failure=e,l.reject(e)}function invoke(n,o,s){function onfailure(e){u.reject(e),fail(e)}function proceed(){if(!r(h.$$failure))try{u.resolve(t.invoke(o,a,v)),u.promise.then(function(e){v[n]=e,done()},onfailure)}catch(e){onfailure(e)}}var u=e.defer(),l=0;c(s,function(e){g.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(l++,g[e].then(function(t){v[e]=t,--l||proceed()},onfailure))}),l||proceed(),g[n]=u.promise}if(isResolve(i)&&a===n&&(a=o,o=i,i=null),i){if(!s(i))throw new Error("'locals' must be an object")}else i=f;if(o){if(!isResolve(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=p;var l=e.defer(),h=l.promise,g=h.$$promises={},v=u({},i),y=1+m.length/3,b=!1;if(r(o.$$failure))return fail(o.$$failure),h;o.$$inheritedValues&&merge(v,omit(o.$$inheritedValues,d)),u(g,o.$$promises),o.$$values?(b=merge(v,omit(o.$$values,d)),h.$$inheritedValues=omit(o.$$values,d),done()):(o.$$inheritedValues&&(h.$$inheritedValues=omit(o.$$inheritedValues,d)),o.then(done,fail));for(var $=0,w=m.length;$<w;$+=3)i.hasOwnProperty(m[$])?done():invoke(m[$],m[$+1],m[$+2]);return h}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function $TemplateFactory(e,t,n){this.fromConfig=function(e,t,n){return r(e.template)?this.fromString(e.template,t):r(e.templateUrl)?this.fromUrl(e.templateUrl,t):r(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return i(e)?e(t):e},this.fromUrl=function(n,r){return i(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function UrlMatcher(e,t,r){function addParameter(t,n,r,i){if(m.push(t),p[t])return p[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(d[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return d[t]=new f.Param(t,n,r,i),d[t]}function quoteRegExp(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function matchDetails(r,i){var o,s,a,c,u;return o=r[2]||r[3],u=t.params[o],a=e.substring(l,r.index),s=i?r[4]:r[4]||("*"==r[1]?".*":null),s&&(c=f.type(s)||inherit(f.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:a,type:c,cfg:u}}t=u({params:{}},s(t)?t:{});var i,o=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,a=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c="^",l=0,h=this.segments=[],p=r?r.params:{},d=this.params=r?r.params.$$new():new f.ParamSet,m=[];this.source=e;for(var g,v,y;(i=o.exec(e))&&(g=matchDetails(i,!1),!(g.segment.indexOf("?")>=0));)v=addParameter(g.id,g.type,g.cfg,"path"),c+=quoteRegExp(g.segment,v.type.pattern.source,v.squash,v.isOptional),h.push(g.segment),l=o.lastIndex;y=e.substring(l);var b=y.indexOf("?");if(b>=0){var $=this.sourceSearch=y.substring(b);if(y=y.substring(0,b),this.sourcePath=e.substring(0,l+b),$.length>0)for(l=0;i=a.exec($);)g=matchDetails(i,!0),v=addParameter(g.id,g.type,g.cfg,"search"),l=o.lastIndex}else this.sourcePath=e,this.sourceSearch="";c+=quoteRegExp(y)+(t.strict===!1?"/?":"")+"$",h.push(y),this.regexp=new RegExp(c,t.caseInsensitive?"i":n),this.prefix=h[0],this.$$paramNames=m}function Type(e){u(this,e)}function $UrlMatcherFactory(){function valToString(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function valFromString(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function getDefaultConfig(){return{strict:h,caseInsensitive:l}}function isInjectable(e){return i(e)||a(e)&&i(e[e.length-1])}function flushTypeQueue(){for(;g.length;){var n=g.shift();if(n.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(d[n.name],e.invoke(n.def))}}function ParamSet(e){u(this,e||{})}f=this;var e,l=!1,h=!0,p=!1,d={},m=!0,g=[],v={string:{encode:valToString,decode:valFromString,is:function(e){return null==e||!r(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:valToString,decode:function(e){return parseInt(e,10)},is:function(e){return r(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(t){if(!isInjectable(t.value))return t.value;if(!e)throw new Error("Injectable functions cannot be called at configuration time");return e.invoke(t.value)},this.caseInsensitive=function(e){return r(e)&&(l=e),l},this.strictMode=function(e){return r(e)&&(h=e),h},this.defaultSquashPolicy=function(e){if(!r(e))return p;if(e!==!0&&e!==!1&&!o(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return p=e,e},this.compile=function(e,t){return new UrlMatcher(e,u(getDefaultConfig(),t))},this.isMatcher=function(e){if(!s(e))return!1;var t=!0;return c(UrlMatcher.prototype,function(n,o){i(n)&&(t=t&&r(e[o])&&i(e[o]))}),t},this.type=function(e,t,n){if(!r(t))return d[e];if(d.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return d[e]=new Type(u({name:e},t)),n&&(g.push({name:e,def:n}),m||flushTypeQueue()),this},c(v,function(e,t){d[t]=new Type(u({name:t},e))}),d=inherit(d,{}),this.$get=["$injector",function(t){return e=t,m=!1,flushTypeQueue(),c(v,function(e,t){d[t]||(d[t]=new Type(e))}),this}],this.Param=function(i,c,l,h){function unwrapShorthand(e){var t=s(e)?objectKeys(e):[],n=indexOf(t,"value")===-1&&indexOf(t,"type")===-1&&indexOf(t,"squash")===-1&&indexOf(t,"array")===-1;return n&&(e={value:e}),e.$$fn=isInjectable(e.value)?e.value:function(){return e.value},e}function getType(e,n,r){if(e.type&&n)throw new Error("Param '"+i+"' has two type configurations.");return n?n:e.type?t.isString(e.type)?d[e.type]:e.type instanceof Type?e.type:new Type(e.type):"config"===r?d.any:d.string}function getArrayMode(){var e={array:"search"===h&&"auto"},t=i.match(/\[\]$/)?{array:!0}:{};return u(e,t,l).array}function getSquashPolicy(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!r(n)||null==n)return p;if(n===!0||o(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function getReplace(e,t,r,i){var s,c,u=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return s=a(e.replace)?e.replace:[],o(i)&&s.push({from:i,to:n}),c=map(s,function(e){return e.from}),filter(u,function(e){return indexOf(c,e.from)===-1}).concat(s)}function $$getDefaultValue(){if(!e)throw new Error("Injectable functions cannot be called at configuration time");var t=e.invoke(l.$$fn);if(null!==t&&t!==n&&!f.type.is(t))throw new Error("Default value ("+t+") for parameter '"+f.id+"' is not an instance of Type ("+f.type.name+")");return t}function $value(e){function hasReplaceVal(e){return function(t){return t.from===e}}function $replace(e){var t=map(filter(f.replace,hasReplaceVal(e)),function(e){return e.to});return t.length?t[0]:e}return e=$replace(e),r(e)?f.type.$normalize(e):$$getDefaultValue()}function toString(){return"{Param:"+i+" "+c+" squash: '"+v+"' optional: "+g+"}"}var f=this;l=unwrapShorthand(l),c=getType(l,c,h);var m=getArrayMode();c=m?c.$asArray(m,"search"===h):c,"string"!==c.name||m||"path"!==h||l.value!==n||(l.value="");var g=l.value!==n,v=getSquashPolicy(l,g),y=getReplace(l,m,g,v);u(this,{id:i,type:c,location:h,array:m,squash:v,replace:y,isOptional:g,value:$value,dynamic:n,config:l,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,u(new ParamSet,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=objectKeys(ParamSet.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),c(t,function(t){c(objectKeys(t),function(t){indexOf(e,t)===-1&&indexOf(r,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return c(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return c(r.$$keys(),function(i){var o=e&&e[i],s=t&&t[i];r[i].type.equals(o,s)||(n=!1)}),n},$$validates:function(e){var r,i,o,s,a,c=this.$$keys();for(r=0;r<c.length&&(i=this[c[r]],o=e[c[r]],o!==n&&null!==o||!i.isOptional);r++){if(s=i.type.$normalize(o),!i.type.is(s))return!1;if(a=i.type.encode(s),t.isString(a)&&!i.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=ParamSet}function $UrlRouterProvider(e,s){function regExpPrefix(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function interpolate(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function handleIfMatch(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!r(i)||i}function $get(r,i,s,a,u){function appendBasePath(e,t,n){return"/"===d?e:t?d.slice(0,-1)+e:n?d.slice(1)+e:e}function update(e){function check(e){var t=e(s,r);return!!t&&(o(t)&&r.replace().url(t),!0)}if(!e||!e.defaultPrevented){p&&r.url()===p;p=n;var t,i=l.length;for(t=0;t<i;t++)if(check(l[t]))return;h&&check(h)}}function listen(){return c=c||i.$on("$locationChangeSuccess",update)}var p,d=a.baseHref(),m=r.url();return f||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(e){return e?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var s=e.html5Mode();t.isObject(s)&&(s=s.enabled),s=s&&u.history;var a=n.format(i);if(o=o||{},s||null===a||(a="#"+e.hashPrefix()+a),null!==a&&i&&i["#"]&&(a+="#"+i["#"]),a=appendBasePath(a,s,o.absolute),!o.absolute||!a)return a;var c=!s&&a?"/":"",l=r.port();return l=80===l||443===l?"":":"+l,[r.protocol(),"://",r.host(),l,c,a].join("")}}}var c,l=[],h=null,f=!1;this.rule=function(e){if(!i(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(o(e)){var t=e;e=function(){return t}}else if(!i(e))throw new Error("'rule' must be a function");return h=e,this},this.when=function(e,t){var n,r=o(t);if(o(e)&&(e=s.compile(e)),!r&&!i(t)&&!a(t))throw new Error("invalid 'handler' in when()");var c={matcher:function(e,t){return r&&(n=s.compile(t),t=["$match",function(e){return n.format(e)}]),u(function(n,r){return handleIfMatch(n,t,e.exec(r.path(),r.search()))},{prefix:o(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=t,t=["$match",function(e){return interpolate(n,e)}]),u(function(n,r){return handleIfMatch(n,t,e.exec(r.path()))},{prefix:regExpPrefix(e)})}},l={matcher:s.isMatcher(e),regex:e instanceof RegExp};for(var h in l)if(l[h])return this.rule(c[h](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),f=e},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $StateProvider(e,h){function isRelative(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function findState(e,t){if(!e)return n;var r=o(e),i=r?e:e.name,s=isRelative(i);if(s){if(!t)throw new Error("No reference point given for path '"+i+"'");t=findState(t);for(var a=i.split("."),c=0,u=a.length,l=t;c<u;c++)if(""!==a[c]||0!==c){if("^"!==a[c])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;a=a.slice(c).join("."),i=l.name+(l.name&&a?".":"")+a}var h=m[i];return!h||!r&&(r||h!==e&&h.self!==e)?n:h}function queueState(e,t){g[e]||(g[e]=[]),g[e].push(t)}function flushQueuedChildren(e){for(var t=g[e]||[];t.length;)registerState(t.shift())}function registerState(t){t=inherit(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!o(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(m.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):o(t.parent)?t.parent:s(t.parent)&&o(t.parent.name)?t.parent.name:"";if(r&&!m[r])return queueState(r,t.self);for(var a in y)i(y[a])&&(t[a]=y[a](t,y.$delegates[a]));return m[n]=t,!t[v]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){d.$current.navigable==t&&equalForKeys(e,n)||d.transitionTo(t,e,{inherit:!0,location:!1})}]),flushQueuedChildren(n),t}function isGlob(e){return e.indexOf("*")>-1}function doesStateMatchGlob(e){for(var t=e.split("."),n=d.$current.name.split("."),r=0,i=t.length;r<i;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(indexOf(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(indexOf(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function decorator(e,t){return o(e)&&!r(t)?y[e]:i(t)&&o(e)?(y[e]&&!y.$delegates[e]&&(y.$delegates[e]=y[e]),y[e]=t,this):this}function state(e,t){return s(e)?t=e:t.name=e,registerState(t),this}function $get(e,h,f,g,y,b,$,w,_){function handleRedirect(t,n,r,i){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return $.update(),C;if(!o.retry)return null;if(i.$retry)return $.update(),A;var s=d.transition=h.when(o.retry);return s.then(function(){return s!==d.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,r),E):(t.options.$retry=!0,d.transitionTo(t.to,t.toParams,t.options))},function(){return C}),$.update(),s}function resolveState(e,n,r,o,s,u){function resolveViews(){var n=[];return c(e.views,function(r,o){var c=r.resolve&&r.resolve!==e.resolve?r.resolve:{};c.$template=[function(){return f.load(o,{view:r,locals:s.globals,params:l,notify:u.notify})||""}],n.push(y.resolve(c,s.globals,s.resolve,e).then(function(n){if(i(r.controllerProvider)||a(r.controllerProvider)){var u=t.extend({},c,s.globals);n.$$controller=g.invoke(r.controllerProvider,null,u)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,n.$$resolveAs=r.resolveAs,s[o]=n}))}),h.all(n).then(function(){return s.globals})}var l=r?n:filterByKeys(e.params.$$keys(),n),p={$stateParams:l};s.resolve=y.resolve(e.resolve,p,s.resolve,e);var d=[s.resolve.then(function(e){s.globals=e})];return o&&d.push(o),h.all(d).then(resolveViews).then(function(e){return s})}var S=new Error("transition superseded"),E=silenceUncaughtInPromise(h.reject(S)),x=silenceUncaughtInPromise(h.reject(new Error("transition prevented"))),C=silenceUncaughtInPromise(h.reject(new Error("transition aborted"))),A=silenceUncaughtInPromise(h.reject(new Error("transition failed")));return p.locals={resolve:null,globals:{$stateParams:{}}},d={params:{},current:p.self,$current:p,transition:null},d.reload=function(e){return d.transitionTo(d.current,b,{reload:e||!0,inherit:!1,notify:!0})},d.go=function(e,t,n){return d.transitionTo(e,t,u({inherit:!0,relative:d.$current},n))},d.transitionTo=function(t,n,i){n=n||{},i=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var a,c=d.$current,f=d.params,m=c.path,y=findState(t,i.relative),w=n["#"];if(!r(y)){var _={to:t,toParams:n,options:i},C=handleRedirect(_,c.self,f,i);if(C)return C;if(t=_.to,n=_.toParams,i=_.options,y=findState(t,i.relative),!r(y)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(y[v])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(n=inheritParams(b,n||{},d.$current,y)),!y.params.$$validates(n))return A;n=y.params.$$values(n),t=y;var T=t.path,k=0,N=T[k],O=p.locals,D=[];if(i.reload){if(o(i.reload)||s(i.reload)){if(s(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var R=i.reload===!0?m[0]:findState(i.reload);if(i.reload&&!R)throw new Error("No such reload state '"+(o(i.reload)?i.reload:i.reload.name)+"'");for(;N&&N===m[k]&&N!==R;)O=D[k]=N.locals,k++,N=T[k]}}else for(;N&&N===m[k]&&N.ownParams.$$equals(n,f);)O=D[k]=N.locals,k++,N=T[k];if(shouldSkipReload(t,n,c,f,O,i))return w&&(n["#"]=w),d.params=n,l(d.params,b),l(filterByKeys(t.params.$$keys(),b),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&($.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===i.location}),$.update(!0)),d.transition=null,h.when(d.current);if(n=filterByKeys(t.params.$$keys(),n||{}),w&&(n["#"]=w),i.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,f,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),null==d.transition&&$.update(),x;for(var I=h.when(O),P=k;P<T.length;P++,N=T[P])O=D[P]=inherit(O),I=resolveState(N,n,N===t,I,O,i);var M=d.transition=I.then(function(){var r,o,s;if(d.transition!==M)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),E;for(r=m.length-1;r>=k;r--)s=m[r],s.self.onExit&&g.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(r=k;r<T.length;r++)o=T[r],o.locals=D[r],o.self.onEnter&&g.invoke(o.self.onEnter,o.self,o.locals.globals);return d.transition!==M?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),E):(d.$current=t,d.current=t.self,d.params=n,l(d.params,b),d.transition=null,i.location&&t.navigable&&$.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,f),$.update(!0),d.current)}).then(null,function(r){return r===S?E:d.transition!==M?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,f),E):(d.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,c.self,f,r),a.defaultPrevented||$.update(),h.reject(r))});return M},d.is=function(e,t,i){i=u({relative:d.$current},i||{});var o=findState(e,i.relative);return r(o)?d.$current===o&&(!t||equalForKeys(o.params.$$values(t),b)):n},d.includes=function(e,t,i){if(i=u({relative:d.$current},i||{}),o(e)&&isGlob(e)){if(!doesStateMatchGlob(e))return!1;e=d.$current.name}var s=findState(e,i.relative);if(!r(s))return n;if(!r(d.$current.includes[s.name]))return!1;if(!t)return!0;for(var a=objectKeys(t),c=0;c<a.length;c++){var l=a[c],h=s.params[l];if(h&&!h.type.equals(b[l],t[l]))return!1}return!0},d.href=function(e,t,i){i=u({lossy:!0,inherit:!0,absolute:!1,relative:d.$current},i||{});var o=findState(e,i.relative);if(!r(o))return null;i.inherit&&(t=inheritParams(b,t||{},d.$current,o));var s=o&&i.lossy?o.navigable:o;return s&&s.url!==n&&null!==s.url?$.href(s.url,filterByKeys(o.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},d.get=function(e,t){if(0===arguments.length)return map(objectKeys(m),function(e){return m[e].self});var n=findState(e,t||d.$current);return n&&n.self?n.self:null},d}function shouldSkipReload(e,t,n,r,i,o){function nonSearchParamsEqual(e,t,n){function notSearchParam(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(notSearchParam),i=pick.apply({},[e.params].concat(r)),o=new f.ParamSet(i);return o.$$equals(t,n)}if(!o.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&nonSearchParamsEqual(n,r,t)))return!0}var p,d,m={},g={},v="abstract",y={parent:function(e){if(r(e.parent)&&e.parent)return findState(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?findState(t[1]):p},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=inherit(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(o(t))return"^"==t.charAt(0)?h.compile(t.substring(1),n):(e.parent.navigable||p).url.concat(t,n);if(!t||h.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new f.ParamSet;return c(e.params||{},function(e,n){t[n]||(t[n]=new f.Param(n,null,e,"config"))}),t},params:function(e){var t=pick(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?u(e.parent.params.$$new(),t):new f.ParamSet},views:function(e){var t={};return c(r(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?u({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};p=registerState({name:"",url:"^",views:null,abstract:!0}),p.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get(e,t){return{load:function(e,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=u(i,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function $ViewDirective(e,n,r,i,o){function getService(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}function getRenderer(e,n){var r=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,n,r){t.version.minor>2?c.enter(e,null,n).then(r):c.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(a){var i=a&&a(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return r()}var s=getService(),a=s("$animator"),c=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,a){return function(n,s,c){function cleanupLastView(){if(u&&(u.remove(),u=null),h&&(h.$destroy(),h=null),l){var e=l.data("$uiViewAnim");m.leave(l,function(){e.$$animLeave.resolve(),u=null}),u=l,l=null}}function updateView(u){var g,v=getUiViewName(n,c,s,i),y=v&&e.$current&&e.$current.locals[v];if(u||y!==f){g=n.$new(),f=e.$current.locals[v],g.$emit("$viewContentLoading",v);var b=a(g,function(e){var i=o.defer(),a=o.defer(),c={$animEnter:i.promise,$animLeave:a.promise,$$animLeave:a};e.data("$uiViewAnim",c),m.enter(e,s,function(){i.resolve(),h&&h.$emit("$viewContentAnimationEnded"),(t.isDefined(d)&&!d||n.$eval(d))&&r(e)}),cleanupLastView()});l=b,h=g,h.$emit("$viewContentLoaded",v),h.$eval(p)}}var u,l,h,f,p=c.onload||"",d=c.autoscroll,m=getRenderer(c,n);s.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){updateView(!1)}),updateView(!0)}}};return u}function $ViewDirectiveFill(e,n,r,o){return{restrict:"ECA",priority:-400,compile:function(s){var a=s.html();return function(s,c,u){var l=r.$current,h=getUiViewName(s,u,c,o),f=l&&l.locals[h];if(f){c.data("$uiView",{name:h,state:f.$$state}),c.html(f.$template?f.$template:a);var p=t.extend({},f);s[f.$$resolveAs]=p;var d=e(c.contents());if(f.$$controller){f.$scope=s,f.$element=c;var m=n(f.$$controller,f);f.$$controllerAs&&(s[f.$$controllerAs]=m,s[f.$$controllerAs][f.$$resolveAs]=p),i(m.$onInit)&&m.$onInit(),c.data("$ngControllerController",m),c.children().data("$ngControllerController",m)}d(s)}}}}}function getUiViewName(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function parseStateRef(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function stateContext(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function getTypeInfo(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function clickHook(e,t,n,r,i){return function(o){var s=o.which||o.button,a=i();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var c=n(function(){t.go(a.state,a.params,a.options)});o.preventDefault();var u=r.isAnchor&&!a.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(c)}}}}function defaultOpts(e,t){return{relative:stateContext(e)||t.$current,inherit:!0}}function $StateRefDirective(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,s){var a,c=parseStateRef(o.uiSref,e.current.name),l={state:c.state,href:null,params:null},h=getTypeInfo(i),f=s[1]||s[0],p=null;l.options=u(defaultOpts(i,e),o.uiSrefOpts?r.$eval(o.uiSrefOpts):{});var d=function(n){n&&(l.params=t.copy(n)),l.href=e.href(c.state,l.params,l.options),p&&p(),f&&(p=f.$$addStateInfo(c.state,l.params)),null!==l.href&&o.$set(h.attr,l.href)};c.paramExpr&&(r.$watch(c.paramExpr,function(e){e!==l.params&&d(e)},!0),l.params=t.copy(r.$eval(c.paramExpr))),d(),h.clickable&&(a=clickHook(i,e,n,h,function(){return l}),i[i.on?"on":"bind"]("click",a),r.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",a)}))}}}function $StateRefDynamicDirective(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,o){function runStateRefLink(t){h.state=t[0],h.params=t[1],h.options=t[2],h.href=e.href(h.state,h.params,h.options),f&&f(),c&&(f=c.$$addStateInfo(h.state,h.params)),h.href&&i.$set(a.attr,h.href)}var s,a=getTypeInfo(r),c=o[1]||o[0],u=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],l="["+u.map(function(e){return e||"null"}).join(", ")+"]",h={state:null,params:null,options:null,href:null},f=null;n.$watch(l,runStateRefLink,!0),runStateRefLink(n.$eval(l)),a.clickable&&(s=clickHook(r,e,t,a,function(){return h}),r[r.on?"on":"bind"]("click",s),n.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function $StateRefActiveDirective(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,a){function addState(t,n,i){var o=e.get(t,stateContext(r)),s=createStateHash(t,n),a={state:o||{name:t},params:n,hash:s};return f.push(a),p[s]=i,function(){var e=f.indexOf(a);e!==-1&&f.splice(e,1)}}function createStateHash(e,n){if(!o(e))throw new Error("state should be a string");return s(n)?e+h(n):(n=t.$eval(n),s(n)?e+h(n):e)}function update(){for(var e=0;e<f.length;e++)anyMatch(f[e].state,f[e].params)?addClass(r,p[f[e].hash]):removeClass(r,p[f[e].hash]),exactMatch(f[e].state,f[e].params)?addClass(r,u):removeClass(r,u)}function addClass(e,t){a(function(){e.addClass(t)})}function removeClass(e,t){e.removeClass(t)}function anyMatch(t,n){return e.includes(t.name,n)}function exactMatch(t,n){return e.is(t.name,n)}var u,l,f=[],p={};u=n(i.uiSrefActiveEq||"",!1)(t);try{l=t.$eval(i.uiSrefActive)}catch(e){}l=l||n(i.uiSrefActive||"",!1)(t),s(l)&&c(l,function(n,r){if(o(n)){var i=parseStateRef(n,e.current.name);addState(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(s(l)&&f.length>0)){var n=addState(e,t,l);return update(),n}},t.$on("$stateChangeSuccess",update),update()}]}}function $IsStateFilter(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function $IncludedByStateFilter(e){var t=function(t,n,r){
return e.includes(t,n,r)};return t.$stateful=!0,t}var r=t.isDefined,i=t.isFunction,o=t.isString,s=t.isObject,a=t.isArray,c=t.forEach,u=t.extend,l=t.copy,h=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",$TemplateFactory);var f;UrlMatcher.prototype.concat=function(e,t){var n={caseInsensitive:f.caseInsensitive(),strict:f.strictMode(),squash:f.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+e+this.sourceSearch,u(n,t),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(e,t){function decodePathArray(e){function reverseString(e){return e.split("").reverse().join("")}function unquoteDashes(e){return e.replace(/\\-/g,"-")}var t=reverseString(e).split(/-(?!\\)/),n=map(t,reverseString);return map(n,unquoteDashes).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,o,s,a=this.parameters(),c=a.length,u=this.segments.length-1,l={};if(u!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var h,f;for(i=0;i<u;i++){for(s=a[i],h=this.params[s],f=n[i+1],o=0;o<h.replace.length;o++)h.replace[o].from===f&&(f=h.replace[o].to);f&&h.array===!0&&(f=decodePathArray(f)),r(f)&&(f=h.type.decode(f)),l[s]=h.value(f)}for(;i<c;i++){for(s=a[i],l[s]=this.params[s].value(t[s]),h=this.params[s],f=t[s],o=0;o<h.replace.length;o++)h.replace[o].from===f&&(f=h.replace[o].to);r(f)&&(f=h.type.decode(f)),l[s]=h.value(f)}return l},UrlMatcher.prototype.parameters=function(e){return r(e)?this.params[e]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(e){return this.params.$$validates(e)},UrlMatcher.prototype.format=function(e){function encodeDashes(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var t=this.segments,n=this.parameters(),r=this.params;if(!this.validates(e))return null;var i,s=!1,c=t.length-1,u=n.length,l=t[0];for(i=0;i<u;i++){var h=i<c,f=n[i],p=r[f],d=p.value(e[f]),m=p.isOptional&&p.type.equals(p.value(),d),g=!!m&&p.squash,v=p.type.encode(d);if(h){var y=t[i+1],b=i+1===c;if(g===!1)null!=v&&(l+=a(v)?map(v,encodeDashes).join("-"):encodeURIComponent(v)),l+=y;else if(g===!0){var $=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match($)[1]}else o(g)&&(l+=g+y);b&&p.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==v||m&&g!==!1)continue;if(a(v)||(v=[v]),0===v.length)continue;v=map(v,encodeURIComponent).join("&"+f+"="),l+=(s?"&":"?")+(f+"="+v),s=!0}}return l},Type.prototype.is=function(e,t){return!0},Type.prototype.encode=function(e,t){return e},Type.prototype.decode=function(e,t){return e},Type.prototype.equals=function(e,t){return e==t},Type.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},Type.prototype.$asArray=function(e,t){function ArrayType(e,t){function bindTo(e,t){return function(){return e[t].apply(e,arguments)}}function arrayWrap(e){return a(e)?e:r(e)?[e]:[]}function arrayUnwrap(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function falsey(e){return!e}function arrayHandler(e,t){return function(n){if(a(n)&&0===n.length)return n;n=arrayWrap(n);var r=map(n,e);return t===!0?0===filter(r,falsey).length:arrayUnwrap(r)}}function arrayEqualsHandler(e){return function(t,n){var r=arrayWrap(t),i=arrayWrap(n);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],i[o]))return!1;return!0}}this.encode=arrayHandler(bindTo(e,"encode")),this.decode=arrayHandler(bindTo(e,"decode")),this.is=arrayHandler(bindTo(e,"is"),!0),this.equals=arrayEqualsHandler(bindTo(e,"equals")),this.pattern=e.pattern,this.$normalize=arrayHandler(bindTo(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",$StateProvider).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),$ViewProvider.$inject=[],t.module("ui.router.state").provider("$view",$ViewProvider),t.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",$ViewDirective),t.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefDynamicDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],t.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular)},function(e,t,n){n(6),e.exports="angularCSS"},function(e,t){"use strict";!function(e){var t=e.module("angularCSS",[]);e.module("door3.css",[]).run(function(){console.error('AngularCSS: The module name "door3.css" is now deprecated. Please use "angularCSS" instead.')}),t.provider("$css",[function(){var t=this.defaults={element:"link",rel:"stylesheet",type:"text/css",container:"head",method:"append",weight:0},r=!1;this.debugMode=function(t){return e.isDefined(t)&&(r=t),r},this.$get=["$rootScope","$injector","$q","$window","$timeout","$compile","$http","$filter","$log","$interpolate",function(i,o,s,a,c,u,l,h,f,p){function $directiveAddEventListener(e,t,n){n&&t.hasOwnProperty("css")&&d.bind(t.css,n)}function $routeEventListener(e,t,n){n&&(d.remove(d.getFromRoute(n).concat(w)),w.length=0),t&&d.add(d.getFromRoute(t))}function $stateEventListener(e,t,n,r){r&&(d.remove(d.getFromState(r).concat(w)),w.length=0),t&&d.add(d.getFromState(t))}function mapBreakpointToMedia(t){e.isDefined(b.breakpoints)&&(t.breakpoint in b.breakpoints&&(t.media=b.breakpoints[t.breakpoint]),delete t.breakpoints)}function parse(t){if(t)return e.isFunction(t)&&(t=e.copy(o.invoke(t))),e.isString(t)&&(t=e.extend({href:t},b)),e.isArray(t)&&e.isString(t[0])&&e.forEach(t,function(n){t=e.extend({href:n},b)}),e.isObject(t)&&!e.isArray(t)&&(t=e.extend({},b,t)),e.isArray(t)&&e.isObject(t[0])&&e.forEach(t,function(n){t=e.extend(n,b)}),mapBreakpointToMedia(t),t}function bustCache(e){if(!e)return void(r&&f.error("No stylesheets provided"));var t="?cache=";e.href.indexOf(t)===-1&&(e.href=e.href+(e.bustCache?t+(new Date).getTime():""))}function filterBy(e,t){return e&&t?h("filter")(e,function(e){return e[t]}):void(r&&f.error("filterBy: missing array or property"))}function addViaMediaQuery(e){return e?(g[e.href]=a.matchMedia(e.media),v[e.href]=function(t){c(function(){if(t.matches)i.stylesheets.push(e);else{var n=i.stylesheets.indexOf(h("filter")(i.stylesheets,{href:e.href})[0]);n!==-1&&i.stylesheets.splice(n,1)}})},g[e.href].addListener(v[e.href]),void v[e.href](g[e.href])):void(r&&f.error("No stylesheet provided"))}function removeViaMediaQuery(t){return t?void(i&&e.isDefined(g)&&g[t.href]&&e.isDefined(v)&&g[t.href].removeListener(v[t.href])):void(r&&f.error("No stylesheet provided"))}function isMediaQuery(e){return e?!(!e.media||y.indexOf(e.media)!==-1||!a.matchMedia):void(r&&f.error("No stylesheet provided"))}var d={},m='<link ng-repeat="stylesheet in stylesheets | orderBy: \'weight\' track by $index " rel="{{ stylesheet.rel }}" type="{{ stylesheet.type }}" ng-href="{{ stylesheet.href }}" ng-attr-media="{{ stylesheet.media }}">';m=m.replace(/{{/g,p.startSymbol()).replace(/}}/g,p.endSymbol());var g={},v={},y=["print"],b=e.extend({},t),$=e.element(document.querySelector?document.querySelector(b.container):document.getElementsByTagName(b.container)[0]),w=[];return e.forEach(n,function(e,t){e.hasOwnProperty("css")&&(n[t]=parse(e.css))}),i.stylesheets=[],$[b.method](u(m)(i)),i.$on("$directiveAdd",$directiveAddEventListener),i.$on("$routeChangeSuccess",$routeEventListener),i.$on("$stateChangeSuccess",$stateEventListener),d.getFromRoute=function(t){if(!t)return void(r&&f.error("Get From Route: No route provided"));var n=null,i=[];return t.$$route&&t.$$route.css?n=t.$$route.css:t.css&&(n=t.css),n&&(e.isArray(n)?e.forEach(n,function(t){e.isFunction(t)&&w.push(parse(t)),i.push(parse(t))}):(e.isFunction(n)&&w.push(parse(n)),i.push(parse(n)))),i},d.getFromRoutes=function(t){if(!t)return void(r&&f.error("Get From Routes: No routes provided"));var n=[];return e.forEach(t,function(e){var t=d.getFromRoute(e);t.length&&n.push(t[0])}),n},d.getFromState=function(t){if(!t)return void(r&&f.error("Get From State: No state provided"));var n=[];if(e.isDefined(t.views)&&e.forEach(t.views,function(t){t.css&&(e.isFunction(t.css)&&w.push(parse(t.css)),n.push(parse(t.css)))}),e.isDefined(t.children)&&e.forEach(t.children,function(t){t.css&&(e.isFunction(t.css)&&w.push(parse(t.css)),n.push(parse(t.css))),e.isDefined(t.children)&&e.forEach(t.children,function(t){t.css&&(e.isFunction(t.css)&&w.push(parse(t.css)),n.push(parse(t.css)))})}),e.isDefined(t.css)||e.isDefined(t.data)&&e.isDefined(t.data.css)){var i=t.css||t.data.css;e.isArray(i)?e.forEach(i,function(t){e.isFunction(t)&&w.push(parse(t)),n.push(parse(t))}):(e.isFunction(i)&&w.push(parse(i)),n.push(parse(i)))}return n},d.getFromStates=function(t){if(!t)return void(r&&f.error("Get From States: No states provided"));var n=[];return e.forEach(t,function(t){var r=d.getFromState(t);e.isArray(r)?e.forEach(r,function(e){n.push(e)}):n.push(r)}),n},d.preload=function(t,i){t||(t=[],n.length&&Array.prototype.push.apply(t,n),o.has("$route")&&Array.prototype.push.apply(t,d.getFromRoutes(o.get("$route").routes)),o.has("$state")&&Array.prototype.push.apply(t,d.getFromStates(o.get("$state").get())),t=filterBy(t,"preload")),e.isArray(t)||(t=[t]);var a=[];e.forEach(t,function(e,n){e=t[n]=parse(e),a.push(l.get(e.href).error(function(t){r&&f.error("AngularCSS: Incorrect path for "+e.href)}))}),e.isFunction(i)&&s.all(a).then(function(){i(t)})},d.bind=function(t,n){if(!t||!n)return void(r&&f.error("No scope or stylesheets provided"));var i=[];e.isArray(t)?e.forEach(t,function(e){i.push(parse(e))}):i.push(parse(t)),d.add(i),r&&f.debug("$css.bind(): Added",i),n.$on("$destroy",function(){d.remove(i),r&&f.debug("$css.bind(): Removed",i)})},d.add=function(t,n){return t?(e.isArray(t)||(t=[t]),e.forEach(t,function(e){e=parse(e),e.href&&!h("filter")(i.stylesheets,{href:e.href}).length&&(bustCache(e),isMediaQuery(e)?addViaMediaQuery(e):i.stylesheets.push(e),r&&f.debug("$css.add(): "+e.href))}),void i.$broadcast("$cssAdd",t,i.stylesheets)):void(r&&f.error("No stylesheets provided"))},d.remove=function(t,n){return t?(e.isArray(t)||(t=[t]),t=h("filter")(t,function(e){return!e.persist}),e.forEach(t,function(e){e=parse(e);var t=i.stylesheets.indexOf(h("filter")(i.stylesheets,{href:e.href})[0]);t!==-1&&i.stylesheets.splice(t,1),removeViaMediaQuery(e),r&&f.debug("$css.remove(): "+e.href)}),void i.$broadcast("$cssRemove",t,i.stylesheets)):void(r&&f.error("No stylesheets provided"))},d.removeAll=function(){i&&i.hasOwnProperty("stylesheets")&&(i.stylesheets.length=0),r&&f.debug("all stylesheets removed")},d.preload(),d}]}]),t.filter("$cssLinks",function(){return function(t){if(!t||!e.isArray(t))return t;var n="";return e.forEach(t,function(e){n+='<link rel="'+e.rel+'" type="'+e.type+'" href="'+e.href+'"',n+=e.media?' media="'+e.media+'"':"",n+=">\n\n"}),n}}),t.run(["$css",function(e){}]);var n=[],r=e.module,i=function(e,t){return e.reduce(function(e,n){return e.push(t(n)),e},[])},o=function(e,t){return e.indexOf(t)>-1};e.module=function(){var t=r.apply(this,arguments),s=t.directive;t.directive=function(t,r){var a=e.isFunction(r)?r:r[r?r.length-1:0];try{var c=e.copy(a)();c.directiveName=t,c.hasOwnProperty("css")&&!o(i(n,function(e){return e.ddo.directiveName}),t)&&n.push({ddo:c,handled:!1})}catch(e){}return s.apply(this,arguments)};var a=t.component;return t.component=function(e,t){return t.directiveName=e,t.hasOwnProperty("css")&&!o(i(n,function(e){return e.ddo.directiveName}),e)&&n.push({ddo:t,handled:!1}),a.apply(this,arguments)},t.config(["$provide","$injector",function(t,r){e.forEach(n,function(e){if(!e.handled){var n=e.ddo,i=n.directiveName+"Directive";r.has(i)&&(e.handled=!0,t.decorator(i,["$delegate","$rootScope","$timeout",function(e,t,r){var i=e[0],o=i.compile;return i.css||(i.css=n.css),i.compile=function(){var e=!!o&&o.apply(this,arguments);return function(n){var o=arguments;r(function(){e&&e.apply(this,o)}),t.$broadcast("$directiveAdd",i,n)}},e}]))}})}]),t}}(angular)},function(e,t,n){n(8),e.exports="ngSanitize"},function(e,t){!function(e,t){"use strict";function $SanitizeProvider(){function toMap(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?s(i[n]):i[n]]=!0;return r}function htmlParserImpl(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),f.innerHTML=t;var r=5;do{if(0===r)throw l("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&stripCustomNsAttrs(f),t=f.innerHTML,f.innerHTML=t}while(t!==f.innerHTML);for(var i=f.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),attrToMap(i.attributes));break;case 3:n.chars(i.textContent)}var o;if(!(o=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),o=i.nextSibling,!o))for(;null==o&&(i=i.parentNode,i!==f);)o=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=o}for(;i=f.firstChild;)f.removeChild(i)}function attrToMap(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(p,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(d,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(e,t){var r=!1,o=n(e,e.push);return{start:function(e,n){e=s(e),!r&&_[e]&&(r=e),r||S[e]!==!0||(o("<"),o(e),i(n,function(n,r){var i=s(r),a="img"===e&&"src"===i||"background"===i;A[i]!==!0||E[i]===!0&&!t(n,a)||(o(" "),o(r),o('="'),o(encodeEntities(n)),o('"'))}),o(">"))},end:function(e){e=s(e),r||S[e]!==!0||m[e]===!0||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(encodeEntities(e))}}}function stripCustomNsAttrs(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var a=t.firstChild;a&&stripCustomNsAttrs(a),a=t.nextSibling,a&&stripCustomNsAttrs(a)}var h=!1;this.$get=["$$sanitizeUri",function(e){return h&&r(S,w),function(t){var n=[];return c(t,u(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(h=e,this):h},n=t.bind,r=t.extend,i=t.forEach,o=t.isDefined,s=t.lowercase,a=t.noop,c=htmlParserImpl,u=htmlSanitizeWriterImpl;var f,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=/([^\#-~ |!])/g,m=toMap("area,br,col,hr,img,wbr"),g=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=toMap("rp,rt"),y=r({},v,g),b=r({},g,toMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),$=r({},v,toMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),_=toMap("script,style"),S=r({},m,b,$,y),E=toMap("background,cite,href,longdesc,src,xlink:href"),x=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),C=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),A=r({},E,C,x);!function(e){var t;if(!e.document||!e.document.implementation)throw l("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)f=r[0];else{var i=t.createElement("html");f=t.createElement("body"),i.appendChild(f),t.appendChild(i)}}(e)}function sanitizeText(e){var t=[],n=u(t,a);return n.chars(e),t.join("")}var n,r,i,o,s,a,c,u,l=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,a=t.isObject,c=t.isString;return function(t,u,l){function addText(e){e&&g.push(sanitizeText(e))}function addLink(e,t){var n,r=d(e);g.push("<a ");for(n in r)g.push(n+'="'+r[n]+'" ');!o(u)||"target"in r||g.push('target="',u,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),addText(t),g.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var h,f,p,d=s(l)?l:a(l)?function(){return l}:function(){return{}},m=t,g=[];h=m.match(n);)f=h[0],h[2]||h[4]||(f=(h[3]?"http://":"mailto:")+f),p=h.index,addText(m.substr(0,p)),addLink(f,h[0].replace(r,"")),m=m.substring(p+h[0].length);return addText(m),e(g.join(""))}}])}(window,window.angular)},,,,,,function(e,t,n){function lookup(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,u=i.id,l=i.path,h=a[u]&&l in a[u].nsps,f=t.forceNew||t["force new connection"]||!1===t.multiplex||h;return f?(s("ignoring socket cache for %s",c),n=o(c,t)):(a[u]||(s("new io instance for %s",c),a[u]=o(c,t)),n=a[u]),i.query&&!t.query?t.query=i.query:t&&"object"==typeof t.query&&(t.query=encodeQueryString(t.query)),n.socket(i.path,t)}function encodeQueryString(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var r=n(15),i=n(20),o=n(28),s=n(17)("socket.io-client");e.exports=t=lookup;var a=t.managers={};t.protocol=i.protocol,t.connect=lookup,t.Manager=n(28),t.Socket=n(56)},function(e,t,n){(function(t){function url(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var s=o.host.indexOf(":")!==-1,a=s?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}var r=n(16),i=n(17)("socket.io-client:url");e.exports=url}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");i!=-1&&o!=-1&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=n.exec(e||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return i!=-1&&o!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function load(){var e;try{e=t.storage.debug}catch(e){}return e}function localstorage(){try{return window.localStorage}catch(e){}}t=e.exports=n(18),t.log=log,t.formatArgs=formatArgs,t.save=save,t.load=load,t.useColors=useColors,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(load())},function(e,t,n){function selectColor(){return t.colors[i++%t.colors.length]}function debug(e){function disabled(){}function enabled(){var e=enabled,n=+new Date,i=n-(r||n);e.diff=i,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var o=Array.prototype.slice.call(arguments);o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var s=0;o[0]=o[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(o=t.formatArgs.apply(e,o));var a=enabled.log||t.log||console.log.bind(console);a.apply(e,o)}disabled.enabled=!1,enabled.enabled=!0;var n=t.enabled(e)?enabled:disabled;return n.namespace=e,n}function enable(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function disable(){t.enable("")}function enabled(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=debug,t.coerce=coerce,t.disable=disable,t.enable=enable,t.enabled=enabled,t.humanize=n(19),t.names=[],t.skips=[],t.formatters={};var r,i=0},function(e,t){function parse(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a}}}}function short(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}function long(e){return plural(e,o,"day")||plural(e,i,"hour")||plural(e,r,"minute")||plural(e,n,"second")||e+" ms"}function plural(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;e.exports=function(e,t){return t=t||{},"string"==typeof e?parse(e):t.long?long(e):short(e)}},function(e,t,n){function Encoder(){}function encodeAsString(e){var n="",o=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,n+=e.nsp),null!=e.id&&(o&&(n+=",",o=!1),n+=e.id),null!=e.data&&(o&&(n+=","),n+=i.stringify(e.data)),r("encoded %j as %s",e,n),n}function encodeAsBinary(e,t){function writeEncoding(e){var n=s.deconstructPacket(e),r=encodeAsString(n.packet),i=n.buffers;i.unshift(r),t(i)}s.removeBlobs(e,writeEncoding)}function Decoder(){this.reconstructor=null}function decodeString(e){var n={},i=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return error();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var o="";"-"!=e.charAt(++i)&&(o+=e.charAt(i),i!=e.length););if(o!=Number(o)||"-"!=e.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"==e.charAt(i+1))for(n.nsp="";++i;){var s=e.charAt(i);if(","==s)break;if(n.nsp+=s,i==e.length)break}else n.nsp="/";var a=e.charAt(i+1);if(""!==a&&Number(a)==a){for(n.id="";++i;){var s=e.charAt(i);if(null==s||Number(s)!=s){--i;break}if(n.id+=e.charAt(i),i==e.length)break}n.id=Number(n.id)}return e.charAt(++i)&&(n=tryParse(n,e.substr(i))),r("decoded %s as %j",e,n),n}function tryParse(e,t){try{e.data=i.parse(t)}catch(e){return error()}return e}function BinaryReconstructor(e){this.reconPack=e,this.buffers=[]}function error(e){return{type:t.ERROR,data:"parser error"}}var r=n(17)("socket.io-parser"),i=n(21),o=n(24),s=n(25),a=n(27);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=Encoder,t.Decoder=Decoder,Encoder.prototype.encode=function(e,n){if(r("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)encodeAsBinary(e,n);else{var i=encodeAsString(e);n([i])}},o(Decoder.prototype),Decoder.prototype.add=function(e){var n;if("string"==typeof e)n=decodeString(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new BinaryReconstructor(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,this.emit("decoded",n))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r;(function(e,i){(function(){function runInContext(e,t){function has(e){if(has[e]!==d)return has[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=has("json-stringify")&&has("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,u="function"==typeof c&&v;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&c(g)===d&&c(d)===d&&c()===d&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([d])&&"null"==c(null)&&"[null,null,null]"==c([d,g,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(e){u=!1}}i=u}if("json-parse"==e){var l=t.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){s=l(a);var h=5==s.a.length&&1===s.a[0];if(h){try{h=!l('"\t"')}catch(e){}if(h)try{h=1!==l("01")}catch(e){}if(h)try{h=1!==l("1.")}catch(e){}}}}catch(e){h=!1}i=h}}return has[e]=!!i}e||(e=c.Object()),t||(t=c.Object());var n=e.Number||c.Number,r=e.String||c.String,i=e.Object||c.Object,o=e.Date||c.Date,a=e.SyntaxError||c.SyntaxError,u=e.TypeError||c.TypeError,l=e.Math||c.Math,h=e.JSON||c.JSON;"object"==typeof h&&h&&(t.stringify=h.stringify,t.parse=h.parse);var f,p,d,m=i.prototype,g=m.toString,v=new o(-0xc782b5b800cec);try{v=v.getUTCFullYear()==-109252&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(e){}if(!has("json")){var y="[object Function]",b="[object Date]",$="[object Number]",w="[object String]",_="[object Array]",S="[object Boolean]",E=has("bug-string-char-index");if(!v)var x=l.floor,C=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return C[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)};if((f=m.hasOwnProperty)||(f=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?f=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,f=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,f.call(this,e)}),p=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)f.call(r,i)&&o++;return n=r=null,o?p=2==o?function(e,t){var n,r={},i=g.call(e)==y;for(n in e)i&&"prototype"==n||f.call(r,n)||!(r[n]=1)||!f.call(e,n)||t(n)}:function(e,t){var n,r,i=g.call(e)==y;for(n in e)i&&"prototype"==n||!f.call(e,n)||(r="constructor"===n)||t(n);(r||f.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var n,i,o=g.call(e)==y,a=!o&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||f;for(n in e)o&&"prototype"==n||!a.call(e,n)||t(n);
for(i=r.length;n=r[--i];a.call(e,n)&&t(n));}),p(e,t)},!has("json-stringify")){var T={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k="000000",N=function(e,t){return(k+(t||0)).slice(-e)},O="\\u00",D=function(e){for(var t='"',n=0,r=e.length,i=!E||r>10,o=i&&(E?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=T[s];break;default:if(s<32){t+=O+N(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},R=function(e,t,n,r,i,o,s){var a,c,l,h,m,v,y,E,C,T,k,O,I,P,M,L;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(c=g.call(a),c!=b||f.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=$&&c!=w&&c!=_||f.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(A){for(m=x(a/864e5),l=x(m/365.2425)+1970-1;A(l+1,0)<=m;l++);for(h=x((m-A(l,0))/30.42);A(l,h+1)<=m;h++);m=1+m-A(l,h),v=(a%864e5+864e5)%864e5,y=x(v/36e5)%24,E=x(v/6e4)%60,C=x(v/1e3)%60,T=v%1e3}else l=a.getUTCFullYear(),h=a.getUTCMonth(),m=a.getUTCDate(),y=a.getUTCHours(),E=a.getUTCMinutes(),C=a.getUTCSeconds(),T=a.getUTCMilliseconds();a=(l<=0||l>=1e4?(l<0?"-":"+")+N(6,l<0?-l:l):N(4,l))+"-"+N(2,h+1)+"-"+N(2,m)+"T"+N(2,y)+":"+N(2,E)+":"+N(2,C)+"."+N(3,T)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(c=g.call(a),c==S)return""+a;if(c==$)return a>-1/0&&a<1/0?""+a:"null";if(c==w)return D(""+a);if("object"==typeof a){for(P=s.length;P--;)if(s[P]===a)throw u();if(s.push(a),k=[],M=o,o+=i,c==_){for(I=0,P=a.length;I<P;I++)O=R(I,a,n,r,i,o,s),k.push(O===d?"null":O);L=k.length?i?"[\n"+o+k.join(",\n"+o)+"\n"+M+"]":"["+k.join(",")+"]":"[]"}else p(r||a,function(e){var t=R(e,a,n,r,i,o,s);t!==d&&k.push(D(e)+":"+(i?" ":"")+t)}),L=k.length?i?"{\n"+o+k.join(",\n"+o)+"\n"+M+"}":"{"+k.join(",")+"}":"{}";return s.pop(),L}};t.stringify=function(e,t,n){var r,i,o,a;if(s[typeof t]&&t)if((a=g.call(t))==y)i=t;else if(a==_){o={};for(var c,u=0,l=t.length;u<l;c=t[u++],a=g.call(c),(a==w||a==$)&&(o[c]=1));}if(n)if((a=g.call(n))==$){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==w&&(r=n.length<=10?n:n.slice(0,10));return R("",(c={},c[""]=e,c),i,o,r,"",[])}}if(!has("json-parse")){var I,P,M=r.fromCharCode,L={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},j=function(){throw I=P=null,a()},F=function(){for(var e,t,n,r,i,o=P,s=o.length;I<s;)switch(i=o.charCodeAt(I)){case 9:case 10:case 13:case 32:I++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=E?o.charAt(I):o[I],I++,e;case 34:for(e="@",I++;I<s;)if(i=o.charCodeAt(I),i<32)j();else if(92==i)switch(i=o.charCodeAt(++I)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=L[i],I++;break;case 117:for(t=++I,n=I+4;I<n;I++)i=o.charCodeAt(I),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||j();e+=M("0x"+o.slice(t,I));break;default:j()}else{if(34==i)break;for(i=o.charCodeAt(I),t=I;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++I);e+=o.slice(t,I)}if(34==o.charCodeAt(I))return I++,e;j();default:if(t=I,45==i&&(r=!0,i=o.charCodeAt(++I)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(I+1),i>=48&&i<=57)&&j(),r=!1;I<s&&(i=o.charCodeAt(I),i>=48&&i<=57);I++);if(46==o.charCodeAt(I)){for(n=++I;n<s&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==I&&j(),I=n}if(i=o.charCodeAt(I),101==i||69==i){for(i=o.charCodeAt(++I),43!=i&&45!=i||I++,n=I;n<s&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==I&&j(),I=n}return+o.slice(t,I)}if(r&&j(),"true"==o.slice(I,I+4))return I+=4,!0;if("false"==o.slice(I,I+5))return I+=5,!1;if("null"==o.slice(I,I+4))return I+=4,null;j()}return"$"},B=function(e){var t,n;if("$"==e&&j(),"string"==typeof e){if("@"==(E?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;n||(n=!0))n&&(","==e?(e=F(),"]"==e&&j()):j()),","==e&&j(),t.push(B(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;n||(n=!0))n&&(","==e?(e=F(),"}"==e&&j()):j()),","!=e&&"string"==typeof e&&"@"==(E?e.charAt(0):e[0])&&":"==F()||j(),t[e.slice(1)]=B(F());return t}j()}return e},U=function(e,t,n){var r=q(e,t,n);r===d?delete e[t]:e[t]=r},q=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(g.call(i)==_)for(r=i.length;r--;)U(i,r,n);else p(i,function(e){U(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return I=0,P=""+e,n=B(F()),"$"!=F()&&j(),I=P=null,t&&g.call(t)==y?q((r={},r[""]=n,r),"",t):n}}}return t.runInContext=runInContext,t}var o=n(23),s={function:!0,object:!0},a=s[typeof t]&&t&&!t.nodeType&&t,c=s[typeof window]&&window||this,u=a&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)runInContext(c,a);else{var l=c.JSON,h=c.JSON3,f=!1,p=runInContext(c,c.JSON3={noConflict:function(){return f||(f=!0,c.JSON=l,c.JSON3=h,l=h=null),p}});c.JSON={parse:p.parse,stringify:p.stringify}}o&&(r=function(){return p}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)}).call(t,n(22)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){n.off(e,on),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(26),i=n(27);t.deconstructPacket=function(e){function _deconstructPacket(e){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=_deconstructPacket(e[s]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var a in e)o[a]=_deconstructPacket(e[a]);return o}return e}var t=[],n=e.data,o=e;return o.data=_deconstructPacket(n),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){function _reconstructPacket(e){if(e&&e._placeholder){var n=t[e.num];return n}if(r(e)){for(var i=0;i<e.length;i++)e[i]=_reconstructPacket(e[i]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=_reconstructPacket(e[o]);return e}return e}return e.data=_reconstructPacket(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function _removeBlobs(t,a,c){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){o++;var u=new FileReader;u.onload=function(){c?c[a]=this.result:s=this.result,--o||n(s)},u.readAsArrayBuffer(t)}else if(r(t))for(var l=0;l<t.length;l++)_removeBlobs(t[l],l,t);else if(t&&"object"==typeof t&&!i(t))for(var h in t)_removeBlobs(t[h],h,t)}var o=0,s=t;_removeBlobs(s),o||n(s)}}).call(t,function(){return this}())},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){(function(t){function isBuf(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=isBuf}).call(t,function(){return this}())},function(e,t,n){function Manager(e,t){return this instanceof Manager?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new h({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new Manager(e,t)}var r=n(29),i=n(56),o=n(57),s=n(20),a=n(59),c=n(60),u=n(17)("socket.io-client:manager"),l=n(54),h=n(63),f=Object.prototype.hasOwnProperty;e.exports=Manager,Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Manager.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(Manager.prototype),Manager.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){i.onopen(),e&&e()}),s=a(n,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},Manager.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",c(this,"ondata"))),this.subs.push(a(e,"ping",c(this,"onping"))),this.subs.push(a(e,"pong",c(this,"onpong"))),this.subs.push(a(e,"error",c(this,"onerror"))),this.subs.push(a(e,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(e){this.decoder.add(e)},Manager.prototype.ondecoded=function(e){this.emit("packet",e)},Manager.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},Manager.prototype.socket=function(e,t){function onConnecting(){~l(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",onConnecting),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&onConnecting()}return n},Manager.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Manager.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Manager.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Manager.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(30)},function(e,t,n){e.exports=n(31),e.exports.parser=n(38)},function(e,t,n){(function(t){function Socket(e,n){if(!(this instanceof Socket))return new Socket(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized;var r="object"==typeof t&&t;r.global===r&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function clone(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r=n(32),i=n(47),o=n(17)("engine.io-client:socket"),s=n(54),a=n(38),c=n(16),u=n(55),l=n(48);e.exports=Socket,Socket.priorWebsocketSuccess=!1,i(Socket.prototype),Socket.protocol=a.protocol,Socket.Socket=Socket,Socket.Transport=n(37),Socket.transports=n(32),Socket.parser=n(38),Socket.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=clone(this.query);t.EIO=a.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},Socket.prototype.open=function(){var e;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},Socket.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},Socket.prototype.probe=function(e){function onTransportOpen(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Socket.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),cleanup(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,r.emit("upgradeError",s)}}))}function freezeTransport(){n||(n=!0,cleanup(),t.close(),t=null)}function onerror(n){var i=new Error("probe error: "+n);i.transport=t.name,freezeTransport(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),freezeTransport())}function cleanup(){t.removeListener("open",onTransportOpen),t.removeListener("error",onerror),t.removeListener("close",onTransportClose),r.removeListener("close",onclose),r.removeListener("upgrading",onupgrade)}o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;Socket.priorWebsocketSuccess=!1,t.once("open",onTransportOpen),t.once("error",onerror),t.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),t.open()},Socket.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},Socket.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(u(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},Socket.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},Socket.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},Socket.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},Socket.prototype.close=function(){function close(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function cleanupAndClose(){e.removeListener("upgrade",cleanupAndClose),e.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){e.once("upgrade",cleanupAndClose),e.once("upgradeError",cleanupAndClose)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}return this},Socket.prototype.onError=function(e){o("socket error %j",e),Socket.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},Socket.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function polling(t){var n,s=!1,a=!1,c=!1!==t.jsonp;if(e.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),s=t.hostname!==location.hostname||l!==t.port,a=t.secure!==u}if(t.xdomain=s,t.xscheme=a,n=new r(t),"open"in n&&!t.forceJSONP)return new i(t);if(!c)throw new Error("JSONP disabled");return new o(t)}var r=n(33),i=n(35),o=n(51),s=n(52);t.polling=polling,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(34);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function empty(){}function XHR(e){if(i.call(this,e),t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function Request(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function unloadHandler(){for(var e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}var r=n(33),i=n(36),o=n(47),s=n(49),a=n(17)("engine.io-client:polling-xhr");e.exports=XHR,e.exports.Request=Request,s(XHR,i),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new Request(e)},XHR.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},XHR.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(Request.prototype),Request.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(e),i=this;try{a("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},a("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}t.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Request.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Request.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,e)try{this.xhr.abort()}catch(e){}t.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},Request.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",unloadHandler):t.addEventListener&&t.addEventListener("beforeunload",unloadHandler,!1))}).call(t,function(){return this}())},function(e,t,n){function Polling(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=n(37),i=n(48),o=n(38),s=n(49),a=n(50),c=n(17)("engine.io-client:polling");e.exports=Polling;var u=function(){var e=n(33),t=new e({xdomain:!1});return null!=t.responseType}();s(Polling,r),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(e){function pause(){c("paused"),t.readyState="paused",e()}var t=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||pause()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||pause()}))}else pause()},Polling.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){function close(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(c("transport open - closing"),close()):(c("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},Polling.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==this.port||"http"===t&&80!==this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function Transport(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,
this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var r=n(38),i=n(47);e.exports=Transport,i(Transport.prototype),Transport.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Transport.prototype.onPacket=function(e){this.emit("packet",e)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function encodeBase64Object(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}function encodeArrayBuffer(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=f[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}function encodeBlobAsArrayBuffer(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function encodeBlob(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(h)return encodeBlobAsArrayBuffer(e,n,r);var i=new Uint8Array(1);i[0]=f[e.type];var o=new m([i.buffer,e.data]);return r(o)}function tryDecode(e){try{e=c.decode(e)}catch(e){return!1}return e}function map(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},s=0;s<e.length;s++)o(s,e[s],i)}var r,i=n(39),o=n(40),s=n(42),a=n(43),c=n(44);e&&e.ArrayBuffer&&(r=n(45));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),h=u||l;t.protocol=3;var f=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(f),d={type:"error",data:"parser error"},m=n(46);t.encodePacket=function(t,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&o instanceof ArrayBuffer)return encodeArrayBuffer(t,n,i);if(m&&o instanceof e.Blob)return encodeBlob(t,n,i);if(o&&o.base64)return encodeBase64Object(t,i);var s=f[t.type];return void 0!==t.data&&(s+=r?c.encode(String(t.data)):String(t.data)),i(""+s)},t.encodeBase64Packet=function(n,r){var i="b"+t.packets[n.type];if(m&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var a=new Uint8Array(n.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),r(i)},t.decodePacket=function(e,n,r){if(void 0===e)return d;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&(e=tryDecode(e),e===!1))return d;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:d}var o=new Uint8Array(e),i=o[0],a=s(e,1);return m&&"blob"===n&&(a=new m([a])),{type:p[i],data:a}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){function setLengthHeader(e){return e.length+":"+e}function encodeOne(e,r){t.encodePacket(e,!!i&&n,!0,function(e){r(null,setLengthHeader(e))})}"function"==typeof n&&(r=n,n=null);var i=o(e);return n&&i?m&&!h?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void map(e,encodeOne,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==e)return r(d,0,1);for(var o,s,a="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(o=Number(a)))return r(d,0,1);if(s=e.substr(c+1,o),a!=s.length)return r(d,0,1);if(s.length){if(i=t.decodePacket(s,n,!0),d.type==i.type&&d.data==i.data)return r(d,0,1);var h=r(i,c+o,u);if(!1===h)return}c+=o,a=""}}return""!=a?r(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function encodeOne(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void map(e,encodeOne,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}t?i[o++]=0:i[o++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),n(i.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function encodeOne(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,s=o.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,m){var c=new m([t.buffer,a.buffer,e]);n(null,c)}})}map(e,encodeOne,function(e,t){return n(new m(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var c=new Uint8Array(i),u=0===c[0],l="",h=1;255!=c[h];h++){if(l.length>310){a=!0;break}l+=c[h]}if(a)return r(d,0,1);i=s(i,2+l.length),l=parseInt(l);var f=s(i,0,l);if(u)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(e){var p=new Uint8Array(f);f="";for(var h=0;h<p.length;h++)f+=String.fromCharCode(p[h])}o.push(f),i=s(i,l)}var m=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,m)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){function hasBinary(e){function _hasBinary(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(_hasBinary(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&_hasBinary(e[i]))return!0}return!1}return _hasBinary(e)}var r=n(41);e.exports=hasBinary}).call(t,function(){return this}())},26,function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(e,t){function after(e,t,n){function proxy(e,i){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,e?(r=!0,t(e),t=n):0!==proxy.count||r||t(null,i)}var r=!1;return n=n||noop,proxy.count=e,0===e?t():proxy}function noop(){}e.exports=after},function(e,t,n){var r;(function(e,i){!function(o){function ucs2decode(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function ucs2encode(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=h(t>>>10&1023|55296),t=56320|1023&t),i+=h(t);return i}function createByte(e,t){return h(e>>t&63|128)}function encodeCodePoint(e){if(0==(4294967168&e))return h(e);var t="";return 0==(4294965248&e)?t=h(e>>6&31|192):0==(4294901760&e)?(t=h(e>>12&15|224),t+=createByte(e,6)):0==(4292870144&e)&&(t=h(e>>18&7|240),t+=createByte(e,12),t+=createByte(e,6)),t+=h(63&e|128)}function wtf8encode(e){for(var t,n=ucs2decode(e),r=n.length,i=-1,o="";++i<r;)t=n[i],o+=encodeCodePoint(t);return o}function readContinuationByte(){if(l>=u)throw Error("Invalid byte index");var e=255&c[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function decodeSymbol(){var e,t,n,r,i;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(e=255&c[l],l++,0==(128&e))return e;if(192==(224&e)){var t=readContinuationByte();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=readContinuationByte(),n=readContinuationByte(),i=(15&e)<<12|t<<6|n,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=readContinuationByte(),n=readContinuationByte(),r=readContinuationByte(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid WTF-8 detected")}function wtf8decode(e){c=ucs2decode(e),u=c.length,l=0;for(var t,n=[];(t=decodeSymbol())!==!1;)n.push(t);return ucs2encode(n)}var s="object"==typeof t&&t,a=("object"==typeof e&&e&&e.exports==s&&e,"object"==typeof i&&i);a.global!==a&&a.window!==a||(o=a);var c,u,l,h=String.fromCharCode,f={version:"1.0.0",encode:wtf8encode,decode:wtf8decode};r=function(){return f}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(22)(e),function(){return this}())},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),h=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|o>>2,h[u++]=(3&o)<<6|63&s;return l}}()},function(e,t){(function(t){function mapArrayBufferViews(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function BlobBuilderConstructor(e,t){t=t||{};var r=new n;mapArrayBufferViews(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function BlobConstructor(e,t){return mapArrayBufferViews(e),new Blob(e,t||{})}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),i=r&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;e.exports=function(){return r?i?t.Blob:BlobConstructor:o?BlobBuilderConstructor:void 0}()}).call(t,function(){return this}())},24,function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function encode(e){var t="";do t=r[e%i]+t,e=Math.floor(e/i);while(e>0);return t}function decode(e){var t=0;for(a=0;a<e.length;a++)t=t*i+o[e.charAt(a)];return t}function yeast(){var e=encode(+new Date);return e!==n?(s=0,n=e):e+"."+encode(s++)}for(var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},s=0,a=0;a<i;a++)o[r[a]]=a;yeast.encode=encode,yeast.decode=decode,e.exports=yeast},function(e,t,n){(function(t){function empty(){}function JSONPPolling(e){r.call(this,e),this.query=this.query||{},o||(t.___eio||(t.___eio=[]),o=t.___eio),this.index=o.length;var n=this;o.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=empty)},!1)}var r=n(36),i=n(49);e.exports=JSONPPolling;var o,s=/\n/g,a=/\\n/g;i(JSONPPolling,r),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},JSONPPolling.prototype.doWrite=function(e,t){function complete(){initIframe(),t()}function initIframe(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){r=document.createElement("iframe"),r.name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}this.form.action=this.uri(),initIframe(),e=e.replace(a,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(t,function(){return this}())},function(e,t,n){(function(t){function WS(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,r.call(this,e)}var r=n(37),i=n(38),o=n(48),s=n(49),a=n(50),c=n(17)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket,l=u;if(!l&&"undefined"==typeof window)try{l=n(53)}catch(e){}e.exports=WS,s(WS,r),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders);try{this.ws=u?new l(e):new l(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},WS.prototype.write=function(e){function done(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var r=e.length,o=0,s=r;o<s;o++)!function(e){i.encodePacket(e,n.supportsBinary,function(i){if(!u){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate){var s="string"==typeof i?t.Buffer.byteLength(i):i.length;s<n.perMessageDeflate.threshold&&(o.compress=!1)}}try{u?n.ws.send(i):n.ws.send(i,o)}catch(e){c("websocket closed before onclose event")}--r||done()})}(e[o])},WS.prototype.onClose=function(){r.prototype.onClose.call(this)},WS.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},WS.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"===t&&443!==this.port||"ws"===t&&80!==this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},WS.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===WS.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){function Socket(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=n(20),i=n(57),o=n(58),s=n(59),a=n(60),c=n(17)("socket.io-client:socket"),u=n(61);e.exports=t=Socket;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;i(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},Socket.prototype.emit=function(e){if(l.hasOwnProperty(e))return h.apply(this,arguments),this;var t=o(arguments),n=r.EVENT;u(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},Socket.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},Socket.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},Socket.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},Socket.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},Socket.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},Socket.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i);var s=u(i)?r.BINARY_ACK:r.ACK;t.packet({type:s,id:e,data:i})}}},Socket.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){function toArray(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=toArray},function(e,t){function on(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=on},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(t){function hasBinary(e){function _hasBinary(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(_hasBinary(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&_hasBinary(e[i]))return!0}return!1}return _hasBinary(e)}var r=n(62);e.exports=hasBinary}).call(t,function(){return this}())},26,function(e,t){function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=Backoff,Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(e){this.ms=e},Backoff.prototype.setMax=function(e){this.max=e},Backoff.prototype.setJitter=function(e){this.jitter=e}},,,,function(e,t,n){"use strict";String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),Object.setPrototypeOf||(Object.setPrototypeOf=function(e,t){return e.__proto__=t,e}),e.exports={client:n(68)}},function(e,t,n){(function(t){"use strict";var r=n(69),i=n(73),o=n(74).EventEmitter,s=n(75),a=n(76),c=n(77),u=t.WebSocket||t.MozWebSocket||n(78),l=n(71),h=function client(e){if(this instanceof client==!1)return new client(e);this.setMaxListeners(0),this.opts=l.get(e,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=l.get(this.opts.options.clientId,null),this.maxReconnectAttempts=l.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=l.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=l.get(this.opts.connection.reconnect,!1),this.reconnectDecay=l.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=l.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=l.get(this.opts.connection.secure,!1),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;var t="error";this.opts.options.debug&&(t="info"),this.log=this.opts.logger||s;try{s.setLevel(t)}catch(e){}this.opts.channels.forEach(function(e,t,n){n[t]=l.channel(e)}),o.call(this)};l.inherits(h,o),h.prototype.api=r;for(var f in i)h.prototype[f]=i[f];h.prototype.handleMessage=function(e){var t=this;if(!l.isNull(e)){var n=l.channel(l.get(e.params[0],null)),r=l.get(e.params[1],null),i=l.get(e.tags["msg-id"],null);if(e.tags=a.badges(a.emotes(e.tags)),e.tags)for(var o in e.tags)"emote-sets"!==o&&"ban-duration"!==o&&"bits"!==o&&(l.isBoolean(e.tags[o])?e.tags[o]=null:"1"===e.tags[o]?e.tags[o]=!0:"0"===e.tags[o]&&(e.tags[o]=!1));if(l.isNull(e.prefix))switch(e.command){case"PING":this.emit("ping"),l.isNull(this.ws)||2===this.ws.readyState||3===this.ws.readyState||this.ws.send("PONG");break;case"PONG":var s=new Date;this.currentLatency=(s.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency],[this.currentLatency]]),clearTimeout(this.pingTimeout);break;default:this.log.warn("Could not parse message with no prefix:\n"+JSON.stringify(e,null,4))}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"375":case"376":case"CAP":break;case"001":this.username=e.params[0];break;case"372":this.log.info("Connected to server."),this.userstate["#jtv"]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval(function(){l.isNull(t.ws)||2===t.ws.readyState||3===t.ws.readyState||t.ws.send("PING"),t.latency=new Date,t.pingTimeout=setTimeout(function(){l.isNull(t.ws)||(t.wasCloseCalled=!1,t.log.error("Ping timeout."),t.ws.close(),clearInterval(t.pingLoop),clearTimeout(t.pingTimeout))},l.get(t.opts.connection.timeout,9999))},6e4);var u=new c.queue(2e3),h=l.union(this.opts.channels,this.channels);this.channels=[];for(var f=0;f<h.length;f++){var p=this;u.add(function(e){l.isNull(p.ws)||2===p.ws.readyState||3===p.ws.readyState||p.ws.send("JOIN "+l.channel(h[e]))}.bind(this,f))}u.run();break;case"NOTICE":switch(i){case"subs_on":this.log.info("["+n+"] This room is now in subscribers-only mode."),this.emits(["subscriber","subscribers","_promiseSubscribers"],[[n,!0],[n,!0],[null]]);break;case"subs_off":this.log.info("["+n+"] This room is no longer in subscribers-only mode."),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[[n,!1],[n,!1],[null]]);break;case"emote_only_on":this.log.info("["+n+"] This room is now in emote-only mode."),this.emits(["emoteonly","_promiseEmoteonly"],[[n,!0],[null]]);break;case"emote_only_off":this.log.info("["+n+"] This room is no longer in emote-only mode."),this.emits(["emoteonly","_promiseEmoteonlyoff"],[[n,!1],[null]]);break;case"slow_on":case"slow_off":break;case"r9k_on":this.log.info("["+n+"] This room is now in r9k mode."),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[[n,!0],[n,!0],[null]]);break;case"r9k_off":this.log.info("["+n+"] This room is no longer in r9k mode."),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[[n,!1],[n,!1],[null]]);break;case"room_mods":for(var d=r.split(":"),m=d[1].replace(/,/g,"").split(":").toString().toLowerCase().split(" "),f=m.length-1;f>=0;f--)""===m[f]&&m.splice(f,1);this.emits(["_promiseMods","mods"],[[null,m],[n,m]]);break;case"no_mods":this.emit("_promiseMods",null,[]);break;case"msg_channel_suspended":this.emits(["notice","_promiseJoin"],[[n,i,r],[i]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseBan"],[[n,i,r],[i]]);break;case"ban_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseBan"],[[n,i,r],[null]]);break;case"usage_clear":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseClear"],[[n,i,r],[i]]);break;case"usage_mods":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseMods"],[[n,i,r],[i,[]]]);break;case"mod_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseMod"],[[n,i,r],[null]]);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseMod"],[[n,i,r],[i]]);break;case"unmod_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnmod"],[[n,i,r],[null]]);break;case"usage_unmod":case"bad_unmod_mod":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnmod"],[[n,i,r],[i]]);break;case"color_changed":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseColor"],[[n,i,r],[null]]);break;case"usage_color":case"turbo_only_color":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseColor"],[[n,i,r],[i]]);break;case"commercial_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseCommercial"],[[n,i,r],[null]]);break;case"usage_commercial":case"bad_commercial_error":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseCommercial"],[[n,i,r],[i]]);break;case"hosts_remaining":this.log.info("["+n+"] "+r);var g=isNaN(r.charAt(0))?0:r.charAt(0);this.emits(["notice","_promiseHost"],[[n,i,r],[null,~~g]]);break;case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseHost"],[[n,i,r],[i,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseR9kbeta"],[[n,i,r],[i]]);break;case"already_r9k_off":case"usage_r9k_off":this.log.info("["+n+"] "+r),
this.emits(["notice","_promiseR9kbetaoff"],[[n,i,r],[i]]);break;case"timeout_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseTimeout"],[[n,i,r],[null]]);break;case"already_subs_off":case"usage_subs_off":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSubscribersoff"],[[n,i,r],[i]]);break;case"already_subs_on":case"usage_subs_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSubscribers"],[[n,i,r],[i]]);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseEmoteonlyoff"],[[n,i,r],[i]]);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseEmoteonly"],[[n,i,r],[i]]);break;case"usage_slow_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSlow"],[[n,i,r],[i]]);break;case"usage_slow_off":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSlowoff"],[[n,i,r],[i]]);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseTimeout"],[[n,i,r],[i]]);break;case"unban_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnban"],[[n,i,r],[null]]);break;case"usage_unban":case"bad_unban_no_ban":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnban"],[[n,i,r],[i]]);break;case"usage_unhost":case"not_hosting":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnhost"],[[n,i,r],[i]]);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted_recipient":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseWhisper"],[[n,i,r],[i]]);break;case"no_permission":case"msg_banned":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseMod","_promiseUnmod","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff"],[[n,i,r],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i]]);break;case"unrecognized_cmd":this.log.info("["+n+"] "+r),this.emit("notice",n,i,r),"/w"===r.split(" ").splice(-1)[0]&&this.log.warn("You must be connected to a group server to send or receive whispers.");break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":this.log.info("["+n+"] "+r),this.emit("notice",n,i,r);break;case"host_on":case"host_off":break;default:r.includes("Login unsuccessful")||r.includes("Login authentication failed")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=r,this.log.error(this.reason),this.ws.close()):r.includes("Error logging in")||r.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=r,this.log.error(this.reason),this.ws.close()):r.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):this.log.warn("Could not parse NOTICE from tmi.twitch.tv:\n"+JSON.stringify(e,null,4))}break;case"USERNOTICE":if("resub"===i){var v=e.tags["display-name"]||e.tags.login,y=l.get(~~e.tags["msg-param-months"],null);this.emits(["resub","subanniversary"],[[n,v,y,r],[n,v,y,r]])}break;case"HOSTTARGET":if("-"===r.split(" ")[0])this.log.info("["+n+"] Exited host mode."),this.emits(["unhost","_promiseUnhost"],[[n,~~r.split(" ")[1]||0],[null]]);else{var b=~~r.split(" ")[1]||0;this.log.info("["+n+"] Now hosting "+r.split(" ")[0]+" for "+b+" viewer(s)."),this.emit("hosting",n,r.split(" ")[0],b)}break;case"CLEARCHAT":if(e.params.length>1){var $=l.get(e.tags["ban-duration"],null),w=l.replaceAll(l.get(e.tags["ban-reason"],null),{"\\\\s":" ","\\\\:":";","\\\\\\\\":"\\","\\r":"\r","\\n":"\n"});l.isNull($)?(this.log.info("["+n+"] "+r+" has been banned. Reason: "+(w||"n/a")),this.emit("ban",n,r,w)):(this.log.info("["+n+"] "+r+" has been timed out for "+$+" seconds. Reason: "+(w||"n/a")),this.emit("timeout",n,r,w,~~$))}else this.log.info("["+n+"] Chat was cleared by a moderator."),this.emits(["clearchat","_promiseClear"],[[n],[null]]);break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info("Disconnecting and reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.disconnect(),setTimeout(function(){t.connect()},this.reconnectTimer);break;case"SERVERCHANGE":break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[this.lastJoined]||(this.moderators[this.lastJoined]=[]),this.moderators[this.lastJoined].indexOf(this.username)<0&&this.moderators[this.lastJoined].push(this.username)),l.isJustinfan(this.getUsername())||this.userstate[n]||(this.userstate[n]=e.tags,this.lastJoined=n,this.channels.push(n),this.log.info("Joined "+n),this.emit("join",n,l.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[n]=e.tags;break;case"GLOBALUSERSTATE":this.globaluserstate=e.tags,"undefined"!=typeof e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":l.channel(this.lastJoined)===l.channel(e.params[0])&&this.emit("_promiseJoin",null),e.tags.channel=l.channel(e.params[0]),this.emit("roomstate",l.channel(e.params[0]),e.tags),e.tags.hasOwnProperty("slow")&&!e.tags.hasOwnProperty("subs-only")&&("boolean"==typeof e.tags.slow?(this.log.info("["+n+"] This room is no longer in slow mode."),this.emits(["slow","slowmode","_promiseSlowoff"],[[n,!1,0],[n,!1,0],[null]])):(this.log.info("["+n+"] This room is now in slow mode."),this.emits(["slow","slowmode","_promiseSlow"],[[n,!0,~~e.tags.slow],[n,!0,~~e.tags.slow],[null]])));break;default:this.log.warn("Could not parse message from tmi.twitch.tv:\n"+JSON.stringify(e,null,4))}else if("jtv"===e.prefix)switch(e.command){case"MODE":"+o"===r?(this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].indexOf(e.params[2])<0&&this.moderators[n].push(e.params[2]),this.emit("mod",n,e.params[2])):"-o"===r&&(this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].filter(function(t){return t!=e.params[2]}),this.emit("unmod",n,e.params[2]));break;default:this.log.warn("Could not parse message from jtv:\n"+JSON.stringify(e,null,4))}else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":l.isJustinfan(this.getUsername())&&this.username===e.prefix.split("!")[0]&&(this.lastJoined=n,this.channels.push(n),this.log.info("Joined "+n),this.emit("join",n,e.prefix.split("!")[0],!0)),this.username!==e.prefix.split("!")[0]&&this.emit("join",n,e.prefix.split("!")[0],!1);break;case"PART":var _=!1;if(this.username===e.prefix.split("!")[0]){_=!0,this.userstate[n]&&delete this.userstate[n];var S=this.channels.indexOf(n);S!==-1&&this.channels.splice(S,1);var S=this.opts.channels.indexOf(n);S!==-1&&this.opts.channels.splice(S,1),this.log.info("Left "+n),this.emit("_promisePart",null)}this.emit("part",n,e.prefix.split("!")[0],_);break;case"WHISPER":this.log.info("[WHISPER] <"+e.prefix.split("!")[0]+">: "+r),e.tags.hasOwnProperty("username")||(e.tags.username=e.prefix.split("!")[0]),e.tags["message-type"]="whisper";var E=l.channel(e.tags.username);this.emits(["whisper","message"],[[E,e.tags,r,!1],[E,e.tags,r,!1]]);break;case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"twitchnotify"===e.tags.username)r.includes("subscribed to")||r.includes("just subscribed")&&this.emit("subscription",n,r.split(" ")[0],{prime:r.includes("Twitch Prime!")});else if("jtv"===e.tags.username)if(r.includes("is now hosting you for")){var x=l.extractNumber(r);this.emit("hosted",n,l.username(r.split(" ")[0]),x)}else r.includes("is now hosting you")&&this.emit("hosted",n,l.username(r.split(" ")[0]),0);else r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)?(e.tags["message-type"]="action",this.log.info("["+n+"] *<"+e.tags.username+">: "+r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1]),this.emits(["action","message"],[[n,e.tags,r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!1],[n,e.tags,r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!1]])):e.tags.hasOwnProperty("bits")?this.emit("cheer",n,e.tags,r):(e.tags["message-type"]="chat",this.log.info("["+n+"] <"+e.tags.username+">: "+r),this.emits(["chat","message"],[[n,e.tags,r,!1],[n,e.tags,r,!1]]));break;default:this.log.warn("Could not parse message:\n"+JSON.stringify(e,null,4))}}},h.prototype.connect=function(){var e=this;return new Promise(function(t,n){e.server=l.get(e.opts.connection.server,"irc-ws.chat.twitch.tv"),e.port=l.get(e.opts.connection.port,80),e.secure&&(e.port=443),443===e.port&&(e.secure=!0),e.reconnectTimer=e.reconnectTimer*e.reconnectDecay,e.reconnectTimer>=e.maxReconnectInterval&&(e.reconnectTimer=e.maxReconnectInterval),e._openConnection(),e.once("_promiseConnect",function(r){r?n(r):t([e.server,~~e.port])})})},h.prototype._openConnection=function(){this.ws=new u((this.secure?"wss":"ws")+"://"+this.server+":"+this.port+"/","irc"),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},h.prototype._onOpen=function(){l.isNull(this.ws)||1!==this.ws.readyState||(this.log.info("Connecting to "+this.server+" on port "+this.port+".."),this.emit("connecting",this.server,~~this.port),this.username=l.get(this.opts.identity.username,l.justinfan()),this.password=l.password(l.get(this.opts.identity.password,"SCHMOOPIIE")),this.log.info("Sending authentication to server.."),this.emit("logon"),this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership"),this.ws.send("PASS "+this.password),this.ws.send("NICK "+this.username),this.ws.send("USER "+this.username+" 8 * :"+this.username))},h.prototype._onMessage=function(e){var t=this,n=e.data.split("\r\n");n.forEach(function(e){l.isNull(e)||t.handleMessage(a.msg(e))})},h.prototype._onError=function(){var e=this;this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=l.isNull(this.ws)?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason],[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error("Reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.emit("reconnect"),setTimeout(function(){e.reconnecting=!1,e.connect()},this.reconnectTimer)),this.ws=null},h.prototype._onClose=function(){var e=this;this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason],[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error("Could not connect to server. Reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.emit("reconnect"),setTimeout(function(){e.reconnecting=!1,e.connect()},this.reconnectTimer))),this.ws=null},h.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},h.prototype._sendCommand=function(e,t,n,r){var i=this;return new Promise(function(o,s){l.promiseDelay(e).then(function(){s("No response from Twitch.")}),l.isNull(i.ws)||2===i.ws.readyState||3===i.ws.readyState?s("Not connected to server."):(l.isNull(t)?(i.log.info("Executing command: "+n),i.ws.send(n)):(i.log.info("["+l.channel(t)+"] Executing command: "+n),i.ws.send("PRIVMSG "+l.channel(t)+" :"+n)),r(o,s))})},h.prototype._sendMessage=function(e,t,n,r){var i=this;return new Promise(function(o,s){if(l.isNull(i.ws)||2===i.ws.readyState||3===i.ws.readyState||l.isJustinfan(i.getUsername()))s("Not connected to server.");else{if(i.userstate[l.channel(t)]||(i.userstate[l.channel(t)]={}),n.length>=500){var c=l.splitLine(n,500);n=c[0],setTimeout(function(){i._sendMessage(e,t,c[1])},350)}i.ws.send("PRIVMSG "+l.channel(t)+" :"+n);var u={};Object.keys(i.emotesets).forEach(function(e){i.emotesets[e].forEach(function(e){return l.isRegex(e.code)?a.emoteRegex(n,e.code,e.id,u):void a.emoteString(n,e.code,e.id,u)})});var h=l.merge(i.userstate[l.channel(t)],a.emotes({emotes:a.transformEmotes(u)||null}));n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)?(h["message-type"]="action",i.log.info("["+l.channel(t)+"] *<"+i.getUsername()+">: "+n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1]),i.emits(["action","message"],[[l.channel(t),h,n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!0],[l.channel(t),h,n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!0]])):(h["message-type"]="chat",i.log.info("["+l.channel(t)+"] <"+i.getUsername()+">: "+n),i.emits(["chat","message"],[[l.channel(t),h,n,!0],[l.channel(t),h,n,!0]])),r(o,s)}})},h.prototype._updateEmoteset=function(e){var t=this;this.emotes=e,this.api({url:"/chat/emoticon_images?emotesets="+e,headers:{Authorization:"OAuth "+l.password(l.get(this.opts.identity.password,"")).replace("oauth:",""),"Client-ID":this.clientId}},function(n,r,i){return n?void setTimeout(function(){t._updateEmoteset(e)},6e4):(t.emotesets=i.emoticon_sets||{},t.emit("emotesets",e,t.emotesets))})},h.prototype.getUsername=function(){return this.username},h.prototype.getOptions=function(){return this.opts},h.prototype.getChannels=function(){return this.channels},h.prototype.isMod=function(e,t){return this.moderators[l.channel(e)]||(this.moderators[l.channel(e)]=[]),this.moderators[l.channel(e)].indexOf(l.username(t))>=0},h.prototype.readyState=function(){return l.isNull(this.ws)?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},h.prototype.disconnect=function(){var e=this;return new Promise(function(t,n){l.isNull(e.ws)||3===e.ws.readyState?(e.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),n("Cannot disconnect from server. Socket is not opened or connection is already closing.")):(e.wasCloseCalled=!0,e.log.info("Disconnecting from server.."),e.ws.close(),e.once("_promiseDisconnect",function(){t([e.server,~~e.port])}))})},h.prototype.utils={levenshtein:function(e,t,n){var r=1,i=1,o=1;if(n=l.get(n,!1),n||(e=e.toLowerCase(),t=t.toLowerCase()),e==t)return 0;var s=e.length,a=t.length;if(0===s)return a*r;if(0===a)return s*o;var c=!1;try{c=!"0"[0]}catch(e){c=!0}c&&(e=e.split(""),t=t.split(""));var u,h,f,p,d,m,g=new Array(a+1),v=new Array(a+1);for(h=0;h<=a;h++)g[h]=h*r;for(u=0;u<s;u++){for(v[0]=g[0]+o,h=0;h<a;h++)f=g[h]+(e[u]==t[h]?0:i),p=g[h+1]+o,p<f&&(f=p),d=v[h]+r,d<f&&(f=d),v[h+1]=f;m=g,g=v,v=m}return f=g[a]},raffle:{init:function(e){this.raffleChannels||(this.raffleChannels={}),this.raffleChannels[l.channel(e)]||(this.raffleChannels[l.channel(e)]=[])},enter:function(e,t){this.init(e),this.raffleChannels[l.channel(e)].push(t.toLowerCase())},leave:function(e,t){this.init(e);var n=this.raffleChannels[l.channel(e)].indexOf(l.username(t));return n>=0&&(this.raffleChannels[l.channel(e)].splice(n,1),!0)},pick:function(e){this.init(e);var t=this.raffleChannels[l.channel(e)].length;return t>=1?this.raffleChannels[l.channel(e)][Math.floor(Math.random()*t)]:null},reset:function(e){this.init(e),this.raffleChannels[l.channel(e)]=[]},count:function(e){return this.init(e),this.raffleChannels[l.channel(e)]?this.raffleChannels[l.channel(e)].length:0},isParticipating:function(e,t){return this.init(e),this.raffleChannels[l.channel(e)].indexOf(l.username(t))>=0}},symbols:function(e){for(var t=0,n=0;n<e.length;n++){var r=e.substring(n,n+1).charCodeAt(0);(r<=30||r>=127||65533===r)&&t++}return Math.ceil(t/e.length*100)/100},uppercase:function(e){var t=e.length,n=e.match(/[A-Z]/g);return l.isNull(n)?0:n.length/t}},"undefined"!=typeof e&&e.exports&&(e.exports=h),"undefined"!=typeof window&&(window.tmi={},window.tmi.client=h)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(70),i=n(71),o=function(e,t){var n=null===i.get(e.url,null)?i.get(e.uri,null):i.get(e.url,null);if(i.isURL(n)||(n="/"===n.charAt(0)?"https://api.twitch.tv/kraken"+n:"https://api.twitch.tv/kraken/"+n),i.isNode())r(i.merge(e,{url:n,method:"GET",json:!0}),function(e,n,r){t(e,n,r)});else if(i.isExtension()){e=i.merge(e,{url:n,method:"GET",headers:{}});var o=new XMLHttpRequest;o.open(e.method,e.url,!0);for(var s in e.headers)o.setRequestHeader(s,e.headers[s]);o.responseType="json",o.addEventListener("load",function(e){4==o.readyState&&(200!=o.status?t(o.status,null,null):t(null,null,o.response))}),o.send()}else{var a="jsonp_callback_"+Math.round(1e5*Math.random());window[a]=function(e){delete window[a],document.body.removeChild(c),t(null,null,e)};var c=document.createElement("script");c.src=""+n+(n.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(c)}};e.exports=o},53,function(e,t,n){(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e.exports={get:function(e,t){return"undefined"==typeof e?t:e},isBoolean:function(e){return"boolean"==typeof e},isFinite:function(e){function isFinite(t){return e.apply(this,arguments)}return isFinite.toString=function(){return e.toString()},isFinite}(function(e){return isFinite(e)&&!isNaN(parseFloat(e))}),isInteger:function(e){return!isNaN(r.toNumber(e,0))},isJustinfan:function(e){return RegExp("^(justinfan)(\\d+$)","g").test(e)},isNull:function(e){return null===e},isRegex:function(e){return/[\|\\\^\$\*\+\?\:\#]/.test(e)},isString:function(e){return"string"==typeof e},isURL:function(e){return RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e)},justinfan:function(){return"justinfan"+Math.floor(8e4*Math.random()+1e3)},password:function(e){return"SCHMOOPIIE"===e?"SCHMOOPIIE":"oauth:"+e.toLowerCase().replace("oauth:","")},promiseDelay:function(e){return new Promise(function(t){setTimeout(t,e)})},replaceAll:function(e,t){if(null===e||"undefined"==typeof e)return null;for(var n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e},unescapeHtml:function(e){return e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'")},addWord:function(e,t){return 0!=e.length&&(e+=" "),e+=t},channel:function channel(e){var channel="undefined"==typeof e||null===e?"":e;return"#"===channel.charAt(0)?channel.toLowerCase():"#"+channel.toLowerCase()},extractNumber:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)if(r.isInteger(t[n]))return~~t[n];return 0},formatDate:function(e){var t=e.getHours(),n=e.getMinutes();return t=(t<10?"0":"")+t,n=(n<10?"0":"")+n,t+":"+n},inherits:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},isNode:function(){try{return e.exports="object"===("undefined"==typeof t?"undefined":n(t))&&"[object process]"===Object.prototype.toString.call(t)}catch(e){return!1}},isExtension:function(){try{return!!(window.chrome&&chrome.runtime&&chrome.runtime.id)}catch(e){return!1}},merge:function(e,t){for(var n in t)try{t[n].constructor==Object?e[n]=r.merge(e[n],t[n]):e[n]=t[n]}catch(r){e[n]=t[n]}return e},splitLine:function(e,t){var n=e.substring(0,t).lastIndexOf(" ");return[e.substring(0,n),e.substring(n+1)]},toNumber:function(e,t){if(null===e)return 0;var n=Math.pow(10,r.isFinite(t)?t:0);return Math.round(e*n)/n},union:function(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i];n[o]||(n[o]=!0,r.push(o))}for(var i=0;i<t.length;i++){var o=t[i];n[o]||(n[o]=!0,r.push(o))}return r},username:function username(e){var username="undefined"==typeof e||null===e?"":e;return"#"===username.charAt(0)?username.substring(1).toLowerCase():username.toLowerCase()}}}).call(t,n(72))},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}function cleanUpNextTick(){a&&o&&(a=!1,o.length?s=o.concat(s):c=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=s.length;t;){for(o=s,s=[];++c<t;)o&&o[c].run();c=-1,t=s.length}o=null,a=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n,r,i=e.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,s=[],a=!1,c=-1;i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new Item(e,t)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function part(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),null,"PART "+e,function(n,r){t.once("_promisePart",function(t){t?r(t):n([e])})})}function r9kbeta(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbeta",function(n,r){t.once("_promiseR9kbeta",function(t){t?r(t):n([e])})})}function r9kbetaoff(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbetaoff",function(n,r){t.once("_promiseR9kbetaoff",function(t){t?r(t):n([e])})})}function slow(e,t){var n=this;return e=r.channel(e),t=r.get(t,300),this._sendCommand(this._getPromiseDelay(),e,"/slow "+t,function(r,i){n.once("_promiseSlow",function(n){n?i(n):r([e,~~t])})})}function slowoff(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/slowoff",function(n,r){t.once("_promiseSlowoff",function(t){t?r(t):n([e])})})}var r=n(71);e.exports={action:function(e,t){return e=r.channel(e),t="ACTION "+t+"",this._sendMessage(this._getPromiseDelay(),e,t,function(n,r){n([e,t])})},ban:function(e,t,n){var i=this;return e=r.channel(e),t=r.username(t),n=r.get(n,""),this._sendCommand(this._getPromiseDelay(),e,"/ban "+t+" "+n,function(r,o){i.once("_promiseBan",function(i){i?o(i):r([e,t,n])})})},clear:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/clear",function(n,r){t.once("_promiseClear",function(t){t?r(t):n([e])})})},color:function(e,t){var n=this;return t=r.get(t,e),this._sendCommand(this._getPromiseDelay(),"#jtv","/color "+t,function(e,r){n.once("_promiseColor",function(n){n?r(n):e([t])})})},commercial:function(e,t){var n=this;return e=r.channel(e),t=r.get(t,30),this._sendCommand(this._getPromiseDelay(),e,"/commercial "+t,function(r,i){n.once("_promiseCommercial",function(n){n?i(n):r([e,~~t])})})},emoteonly:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonly",function(n,r){t.once("_promiseEmoteonly",function(t){t?r(t):n([e])})})},emoteonlyoff:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonlyoff",function(n,r){t.once("_promiseEmoteonlyoff",function(t){t?r(t):n([e])})})},host:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(2e3,e,"/host "+t,function(r,i){n.once("_promiseHost",function(n,o){n?i(n):r([e,t,~~o])})})},join:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),null,"JOIN "+e,function(n,r){t.once("_promiseJoin",function(t){t?r(t):n([e])})})},mod:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(this._getPromiseDelay(),e,"/mod "+t,function(r,i){n.once("_promiseMod",function(n){n?i(n):r([e,t])})})},mods:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/mods",function(n,r){t.once("_promiseMods",function(i,o){i?r(i):(o.forEach(function(n){t.moderators[e]||(t.moderators[e]=[]),t.moderators[e].indexOf(n)<0&&t.moderators[e].push(n)}),n(o))})})},part:part,leave:part,ping:function(){var e=this;return this._sendCommand(this._getPromiseDelay(),null,"PING",function(t,n){e.latency=new Date,e.pingTimeout=setTimeout(function(){null!==e.ws&&(e.wasCloseCalled=!1,e.log.error("Ping timeout."),e.ws.close(),clearInterval(e.pingLoop),clearTimeout(e.pingTimeout))},r.get(e.opts.connection.timeout,9999)),e.once("_promisePing",function(e){t([parseFloat(e)])})})},r9kbeta:r9kbeta,r9kmode:r9kbeta,r9kbetaoff:r9kbetaoff,r9kmodeoff:r9kbetaoff,raw:function(e){return this._sendCommand(this._getPromiseDelay(),null,e,function(t,n){t([e])})},say:function(e,t){return e=r.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(this._getPromiseDelay(),e,t,function(n,r){n([e,t])}):this._sendMessage(this._getPromiseDelay(),e,t,function(n,r){n([e,t])})},slow:slow,slowmode:slow,slowoff:slowoff,slowmodeoff:slowoff,subscribers:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribers",function(n,r){t.once("_promiseSubscribers",function(t){t?r(t):n([e])})})},subscribersoff:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribersoff",function(n,r){t.once("_promiseSubscribersoff",function(t){t?r(t):n([e])})})},timeout:function(e,t,n,i){var o=this;return e=r.channel(e),t=r.username(t),r.isNull(n)||r.isInteger(n)||(i=n,n=300),n=r.get(n,300),i=r.get(i,""),this._sendCommand(this._getPromiseDelay(),e,"/timeout "+t+" "+n+" "+i,function(r,s){o.once("_promiseTimeout",function(o){o?s(o):r([e,t,~~n,i])})})},unban:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unban "+t,function(r,i){n.once("_promiseUnban",function(n){n?i(n):r([e,t])})})},unhost:function(e){var t=this;return e=r.channel(e),this._sendCommand(2e3,e,"/unhost",function(n,r){t.once("_promiseUnhost",function(t){t?r(t):n([e])})})},unmod:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unmod "+t,function(r,i){n.once("_promiseUnmod",function(n){n?i(n):r([e,t])})})},whisper:function(e,t){var n=this;return e=r.username(e),e===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(this._getPromiseDelay(),"#jtv","/w "+e+" "+t,function(i,o){var s=r.channel(e),a=r.merge({"message-type":"whisper","message-id":null,"thread-id":null,username:n.getUsername()},n.globaluserstate);n.emits(["whisper","message"],[[s,a,t,!0],[s,a,t,!0]]),i([e,t])})}}},function(e,t){"use strict";function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e}function isUndefined(e){return void 0===e}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emits=function(e,t){for(var n=0;n<e.length;n++)t[n].unshift(e[n]),this.emit.apply(this,t[n])},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,o=0;o<r;o++)s[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var r=1,i=e;for(var o in this._events)this._events.hasOwnProperty(o)&&o.startsWith(i)&&r++;e+=r}return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o;if(!isFunction(t))throw TypeError("listener must be a function");
if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||isFunction(n.listener)&&n.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var s=e;for(var a in this._events)this._events.hasOwnProperty(a)&&a.startsWith(s)&&(isNaN(parseInt(a.substr(a.length-1)))||(this._events[e+parseInt(a.substr(a.length-1)-1)]=this._events[a],delete this._events[a]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function log(e){return function(t){o[e]>=o[i]&&console.log("["+r.formatDate(new Date)+"] "+e+": "+t)}}var r=n(71),i="info",o={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};e.exports={setLevel:function(e){i=e},trace:log("trace"),debug:log("debug"),info:log("info"),warn:log("warn"),error:log("error"),fatal:log("fatal")}},function(e,t,n){"use strict";var r=n(71);e.exports={badges:function badges(e){if(r.isString(e.badges)){for(var badges={},t=e.badges.split(","),n=0;n<t.length;n++){var i=t[n].split("/");if(!i[1])return;badges[i[0]]=i[1]}e["badges-raw"]=e.badges,e.badges=badges}return r.isBoolean(e.badges)&&(e["badges-raw"]=null),e},emotes:function emotes(e){if(r.isString(e.emotes)){for(var t=e.emotes.split("/"),emotes={},n=0;n<t.length;n++){var i=t[n].split(":");if(!i[1])return;emotes[i[0]]=i[1].split(",")}e["emotes-raw"]=e.emotes,e.emotes=emotes}return r.isBoolean(e.emotes)&&(e["emotes-raw"]=null),e},emoteRegex:function(e,t,n,i){for(var o,s=/\S+/g,a=new RegExp("(\\b|^|s)"+r.unescapeHtml(t)+"(\\b|$|s)");null!==(o=s.exec(e));)a.test(o[0])&&(i[n]=i[n]||[],i[n].push([o.index,s.lastIndex-1]))},emoteString:function(e,t,n,i){for(var o,s=/\S+/g;null!==(o=s.exec(e));)o[0]===r.unescapeHtml(t)&&(i[n]=i[n]||[],i[n].push([o.index,s.lastIndex-1]))},transformEmotes:function(e){var t="";return Object.keys(e).forEach(function(n){t=t+n+":",e[n].forEach(function(e){t=t+e.join("-")+","}),t=t.slice(0,-1)+"/"}),t.slice(0,-1)},msg:function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,r=0;if(64===e.charCodeAt(0)){var r=e.indexOf(" ");if(r===-1)return null;for(var i=e.slice(1,r).split(";"),o=0;o<i.length;o++){var s=i[o],a=s.split("=");t.tags[a[0]]=s.substring(s.indexOf("=")+1)||!0}n=r+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(r=e.indexOf(" ",n),r===-1)return null;for(t.prefix=e.slice(n+1,r),n=r+1;32===e.charCodeAt(n);)n++}if(r=e.indexOf(" ",n),r===-1)return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,r),n=r+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(r=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(r===-1){if(r===-1){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,r)),n=r+1;32===e.charCodeAt(n);)n++}return t}}},function(e,t){"use strict";function queue(e){this.queue=[],this.index=0,this.defaultDelay=e||3e3}queue.prototype.add=function(e,t){this.queue.push({fn:e,delay:t})},queue.prototype.run=function(e){(e||0===e)&&(this.index=e),this.next()},queue.prototype.next=function next(){var e=this,t=this.index++,n=this.queue[t],next=this.queue[this.index];n&&(n.fn(),next&&setTimeout(function(){e.next()},next.delay||this.defaultDelay))},queue.prototype.reset=function(){this.index=0},queue.prototype.clear=function(){this.index=0,this.queue=[]},t.queue=queue},53,,,,,function(e,t,n){var r,i,o,s,a,c,a,u,a,l,a,h,a,f;!function(p){if(function(i,o){!(r=function(){return o()}.call(t,n,t,e))}(this,function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t={encode:function(t){var n,r,i,o,s,a,c,u="",l=0;do n=t.charCodeAt(l++),r=t.charCodeAt(l++),i=t.charCodeAt(l++),o=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|i>>6,c=63&i,isNaN(r)?(s=(3&n)<<4,a=c=64):isNaN(i)&&(c=64),u=u+e.charAt(o)+e.charAt(s)+e.charAt(a)+e.charAt(c);while(l<t.length);return u},decode:function(t){var n,r,i,o,s,a,c,u="",l=0;t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=e.indexOf(t.charAt(l++)),s=e.indexOf(t.charAt(l++)),a=e.indexOf(t.charAt(l++)),c=e.indexOf(t.charAt(l++)),n=o<<2|s>>4,r=(15&s)<<4|a>>2,i=(3&a)<<6|c,u+=String.fromCharCode(n),64!=a&&(u+=String.fromCharCode(r)),64!=c&&(u+=String.fromCharCode(i));while(l<t.length);return u}};return t}),function(r,o){!(i=function(){return o()}.call(t,n,t,e))}(this,function(){function core_sha1(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;var n,r,i,o,s,a,c,u,l=new Array(80),h=1732584193,f=-271733879,p=-1732584194,d=271733878,m=-1009589776;for(n=0;n<e.length;n+=16){for(o=h,s=f,a=p,c=d,u=m,r=0;r<80;r++)r<16?l[r]=e[n+r]:l[r]=rol(l[r-3]^l[r-8]^l[r-14]^l[r-16],1),i=safe_add(safe_add(rol(h,5),sha1_ft(r,f,p,d)),safe_add(safe_add(m,l[r]),sha1_kt(r))),m=d,d=p,p=rol(f,30),f=h,h=i;h=safe_add(h,o),f=safe_add(f,s),p=safe_add(p,a),d=safe_add(d,c),m=safe_add(m,u)}return[h,f,p,d,m]}function sha1_ft(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function sha1_kt(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function core_hmac_sha1(e,t){var n=str2binb(e);n.length>16&&(n=core_sha1(n,8*e.length));for(var r=new Array(16),i=new Array(16),o=0;o<16;o++)r[o]=909522486^n[o],i[o]=1549556828^n[o];var s=core_sha1(r.concat(str2binb(t)),512+8*t.length);return core_sha1(i.concat(s),672)}function safe_add(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function rol(e,t){return e<<t|e>>>32-t}function str2binb(e){for(var t=[],n=255,r=0;r<8*e.length;r+=8)t[r>>5]|=(e.charCodeAt(r/8)&n)<<24-r%32;return t}function binb2str(e){for(var t="",n=255,r=0;r<32*e.length;r+=8)t+=String.fromCharCode(e[r>>5]>>>24-r%32&n);return t}function binb2b64(e){for(var t,n,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",o=0;o<4*e.length;o+=3)for(t=(e[o>>2]>>8*(3-o%4)&255)<<16|(e[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|e[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)i+=8*o+6*n>32*e.length?"=":r.charAt(t>>6*(3-n)&63);return i}return{b64_hmac_sha1:function(e,t){return binb2b64(core_hmac_sha1(e,t))},b64_sha1:function(e){return binb2b64(core_sha1(str2binb(e),8*e.length))},binb2str:binb2str,core_hmac_sha1:core_hmac_sha1,str_hmac_sha1:function(e,t){return binb2str(core_hmac_sha1(e,t))},str_sha1:function(e){return binb2str(core_sha1(str2binb(e),8*e.length))}}}),function(r,i){!(o=function(){return i()}.call(t,n,t,e))}(this,function(e){var t=function(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n},n=function(e,t){return e<<t|e>>>32-t},r=function(e){for(var t=[],n=0;n<8*e.length;n+=8)t[n>>5]|=(255&e.charCodeAt(n/8))<<n%32;return t},i=function(e){for(var t="",n=0;n<32*e.length;n+=8)t+=String.fromCharCode(e[n>>5]>>>n%32&255);return t},o=function(e){for(var t="0123456789abcdef",n="",r=0;r<4*e.length;r++)n+=t.charAt(e[r>>2]>>r%4*8+4&15)+t.charAt(e[r>>2]>>r%4*8&15);return n},s=function(e,r,i,o,s,a){return t(n(t(t(r,e),t(o,a)),s),i)},a=function(e,t,n,r,i,o,a){return s(t&n|~t&r,e,t,i,o,a)},c=function(e,t,n,r,i,o,a){return s(t&r|n&~r,e,t,i,o,a)},u=function(e,t,n,r,i,o,a){return s(t^n^r,e,t,i,o,a)},l=function(e,t,n,r,i,o,a){return s(n^(t|~r),e,t,i,o,a)},h=function(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;for(var r,i,o,s,h=1732584193,f=-271733879,p=-1732584194,d=271733878,m=0;m<e.length;m+=16)r=h,i=f,o=p,s=d,h=a(h,f,p,d,e[m+0],7,-680876936),d=a(d,h,f,p,e[m+1],12,-389564586),p=a(p,d,h,f,e[m+2],17,606105819),f=a(f,p,d,h,e[m+3],22,-1044525330),h=a(h,f,p,d,e[m+4],7,-176418897),d=a(d,h,f,p,e[m+5],12,1200080426),p=a(p,d,h,f,e[m+6],17,-1473231341),f=a(f,p,d,h,e[m+7],22,-45705983),h=a(h,f,p,d,e[m+8],7,1770035416),d=a(d,h,f,p,e[m+9],12,-1958414417),p=a(p,d,h,f,e[m+10],17,-42063),f=a(f,p,d,h,e[m+11],22,-1990404162),h=a(h,f,p,d,e[m+12],7,1804603682),d=a(d,h,f,p,e[m+13],12,-40341101),p=a(p,d,h,f,e[m+14],17,-1502002290),f=a(f,p,d,h,e[m+15],22,1236535329),h=c(h,f,p,d,e[m+1],5,-165796510),d=c(d,h,f,p,e[m+6],9,-1069501632),p=c(p,d,h,f,e[m+11],14,643717713),f=c(f,p,d,h,e[m+0],20,-373897302),h=c(h,f,p,d,e[m+5],5,-701558691),d=c(d,h,f,p,e[m+10],9,38016083),p=c(p,d,h,f,e[m+15],14,-660478335),f=c(f,p,d,h,e[m+4],20,-405537848),h=c(h,f,p,d,e[m+9],5,568446438),d=c(d,h,f,p,e[m+14],9,-1019803690),p=c(p,d,h,f,e[m+3],14,-187363961),f=c(f,p,d,h,e[m+8],20,1163531501),h=c(h,f,p,d,e[m+13],5,-1444681467),d=c(d,h,f,p,e[m+2],9,-51403784),p=c(p,d,h,f,e[m+7],14,1735328473),f=c(f,p,d,h,e[m+12],20,-1926607734),h=u(h,f,p,d,e[m+5],4,-378558),d=u(d,h,f,p,e[m+8],11,-2022574463),p=u(p,d,h,f,e[m+11],16,1839030562),f=u(f,p,d,h,e[m+14],23,-35309556),h=u(h,f,p,d,e[m+1],4,-1530992060),d=u(d,h,f,p,e[m+4],11,1272893353),p=u(p,d,h,f,e[m+7],16,-155497632),f=u(f,p,d,h,e[m+10],23,-1094730640),h=u(h,f,p,d,e[m+13],4,681279174),d=u(d,h,f,p,e[m+0],11,-358537222),p=u(p,d,h,f,e[m+3],16,-722521979),f=u(f,p,d,h,e[m+6],23,76029189),h=u(h,f,p,d,e[m+9],4,-640364487),d=u(d,h,f,p,e[m+12],11,-421815835),p=u(p,d,h,f,e[m+15],16,530742520),f=u(f,p,d,h,e[m+2],23,-995338651),h=l(h,f,p,d,e[m+0],6,-198630844),d=l(d,h,f,p,e[m+7],10,1126891415),p=l(p,d,h,f,e[m+14],15,-1416354905),f=l(f,p,d,h,e[m+5],21,-57434055),h=l(h,f,p,d,e[m+12],6,1700485571),d=l(d,h,f,p,e[m+3],10,-1894986606),p=l(p,d,h,f,e[m+10],15,-1051523),f=l(f,p,d,h,e[m+1],21,-2054922799),h=l(h,f,p,d,e[m+8],6,1873313359),d=l(d,h,f,p,e[m+15],10,-30611744),p=l(p,d,h,f,e[m+6],15,-1560198380),f=l(f,p,d,h,e[m+13],21,1309151649),h=l(h,f,p,d,e[m+4],6,-145523070),d=l(d,h,f,p,e[m+11],10,-1120210379),p=l(p,d,h,f,e[m+2],15,718787259),f=l(f,p,d,h,e[m+9],21,-343485551),h=t(h,r),f=t(f,i),p=t(p,o),d=t(d,s);return[h,f,p,d]},f={hexdigest:function(e){return o(h(r(e),8*e.length))},hash:function(e){return i(h(r(e),8*e.length))}};return f}),function(r,i){!(s=function(){return i()}.call(t,n,t,e))}(this,function(){var e={utf16to8:function(e){var t,n,r="",i=e.length;for(t=0;t<i;t++)n=e.charCodeAt(t),n>=0&&n<=127?r+=e.charAt(t):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r}};return e}),function(e,n){a=[],!(c=function(){return n()}.apply(t,a))}(this,function(){Function.prototype.bind||(Function.prototype.bind=function(e){var t=this,n=Array.prototype.slice,r=Array.prototype.concat,i=n.call(arguments,1);return function(){return t.apply(e?e:this,r.call(i,n.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=t);n<t;n++)if(n in this&&this[n]===e)return n;return-1})}),function(e,n){a=[i,r,o,s,c],!(u=function(){return n.apply(this,arguments)}.apply(t,a))}(this,function(e,t,n,r){function $build(e,t){return new i.Builder(e,t)}function $msg(e){return new i.Builder("message",e)}function $iq(e){return new i.Builder("iq",e)}function $pres(e){return new i.Builder("presence",e)}var i;return i={VERSION:"1.2.4",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(e){for(var t=0;t<i.XHTML.tags.length;t++)if(e==i.XHTML.tags[t])return!0;return!1},validAttribute:function(e,t){if("undefined"!=typeof i.XHTML.attributes[e]&&i.XHTML.attributes[e].length>0)for(var n=0;n<i.XHTML.attributes[e].length;n++)if(t==i.XHTML.attributes[e][n])return!0;return!1},validCSS:function(e){for(var t=0;t<i.XHTML.css.length;t++)if(e==i.XHTML.css[t])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(e,t){i.NS[e]=t},forEachChild:function(e,t,n){var r,o;for(r=0;r<e.childNodes.length;r++)o=e.childNodes[r],o.nodeType!=i.ElementType.NORMAL||t&&!this.isTagEqual(o,t)||n(o)},isTagEqual:function(e,t){return e.tagName==t},_xmlGenerator:null,_makeGenerator:function(){var e;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(e=this._getIEXmlDom(),e.appendChild(e.createElement("strophe"))):e=document.implementation.createDocument("jabber:client","strophe",null),e},xmlGenerator:function(){return i._xmlGenerator||(i._xmlGenerator=i._makeGenerator()),i._xmlGenerator},_getIEXmlDom:function(){for(var e=null,t=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<t.length&&null===e;n++)try{e=new ActiveXObject(t[n])}catch(t){e=null}return e},xmlElement:function(e){if(!e)return null;var t,n,r,o=i.xmlGenerator().createElement(e);for(t=1;t<arguments.length;t++){var s=arguments[t];if(s)if("string"==typeof s||"number"==typeof s)o.appendChild(i.xmlTextNode(s));else if("object"==typeof s&&"function"==typeof s.sort)for(n=0;n<s.length;n++){var a=s[n];"object"==typeof a&&"function"==typeof a.sort&&void 0!==a[1]&&null!==a[1]&&o.setAttribute(a[0],a[1])}else if("object"==typeof s)for(r in s)s.hasOwnProperty(r)&&void 0!==s[r]&&null!==s[r]&&o.setAttribute(r,s[r])}return o},xmlescape:function(e){return e=e.replace(/\&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/'/g,"&apos;"),e=e.replace(/"/g,"&quot;")},xmlunescape:function(e){return e=e.replace(/\&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&apos;/g,"'"),e=e.replace(/&quot;/g,'"')},xmlTextNode:function(e){return i.xmlGenerator().createTextNode(e)},xmlHtmlNode:function(e){var t;if(window.DOMParser){var n=new DOMParser;t=n.parseFromString(e,"text/xml")}else t=new ActiveXObject("Microsoft.XMLDOM"),t.async="false",t.loadXML(e);return t},getText:function(e){if(!e)return null;var t="";0===e.childNodes.length&&e.nodeType==i.ElementType.TEXT&&(t+=e.nodeValue);for(var n=0;n<e.childNodes.length;n++)e.childNodes[n].nodeType==i.ElementType.TEXT&&(t+=e.childNodes[n].nodeValue);return i.xmlescape(t)},copyElement:function(e){var t,n;if(e.nodeType==i.ElementType.NORMAL){for(n=i.xmlElement(e.tagName),t=0;t<e.attributes.length;t++)n.setAttribute(e.attributes[t].nodeName,e.attributes[t].value);for(t=0;t<e.childNodes.length;t++)n.appendChild(i.copyElement(e.childNodes[t]))}else e.nodeType==i.ElementType.TEXT&&(n=i.xmlGenerator().createTextNode(e.nodeValue));return n},createHtml:function(e){var t,n,r,o,s,a,c,u,l,h,f;if(e.nodeType==i.ElementType.NORMAL)if(o=e.nodeName.toLowerCase(),i.XHTML.validTag(o))try{for(n=i.xmlElement(o),t=0;t<i.XHTML.attributes[o].length;t++)if(s=i.XHTML.attributes[o][t],a=e.getAttribute(s),"undefined"!=typeof a&&null!==a&&""!==a&&a!==!1&&0!==a)if("style"==s&&"object"==typeof a&&"undefined"!=typeof a.cssText&&(a=a.cssText),"style"==s){for(c=[],u=a.split(";"),r=0;r<u.length;r++)l=u[r].split(":"),h=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase(),i.XHTML.validCSS(h)&&(f=l[1].replace(/^\s*/,"").replace(/\s*$/,""),c.push(h+": "+f));c.length>0&&(a=c.join("; "),n.setAttribute(s,a))}else n.setAttribute(s,a);for(t=0;t<e.childNodes.length;t++)n.appendChild(i.createHtml(e.childNodes[t]))}catch(e){n=i.xmlTextNode("")}else for(n=i.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)n.appendChild(i.createHtml(e.childNodes[t]));else if(e.nodeType==i.ElementType.FRAGMENT)for(n=i.xmlGenerator().createDocumentFragment(),t=0;t<e.childNodes.length;t++)n.appendChild(i.createHtml(e.childNodes[t]));else e.nodeType==i.ElementType.TEXT&&(n=i.xmlTextNode(e.nodeValue));return n},escapeNode:function(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(e){return"string"!=typeof e?e:e.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(e){return e.indexOf("@")<0?null:e.split("@")[0]},getDomainFromJid:function(e){var t=i.getBareJidFromJid(e);if(t.indexOf("@")<0)return t;var n=t.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(e){var t=e.split("/");return t.length<2?null:(t.splice(0,1),t.join("/"))},getBareJidFromJid:function(e){return e?e.split("/")[0]:null},log:function(e,t){},debug:function(e){this.log(this.LogLevel.DEBUG,e)},info:function(e){this.log(this.LogLevel.INFO,e)},warn:function(e){this.log(this.LogLevel.WARN,e)},error:function(e){this.log(this.LogLevel.ERROR,e)},fatal:function(e){this.log(this.LogLevel.FATAL,e)},serialize:function(e){var t;if(!e)return null;"function"==typeof e.tree&&(e=e.tree());var n,r,o=e.nodeName;for(e.getAttribute("_realname")&&(o=e.getAttribute("_realname")),t="<"+o,n=0;n<e.attributes.length;n++)"_realname"!=e.attributes[n].nodeName&&(t+=" "+e.attributes[n].nodeName+"='"+e.attributes[n].value.replace(/&/g,"&amp;").replace(/\'/g,"&apos;").replace(/>/g,"&gt;").replace(/</g,"&lt;")+"'");if(e.childNodes.length>0){for(t+=">",n=0;n<e.childNodes.length;n++)switch(r=e.childNodes[n],r.nodeType){case i.ElementType.NORMAL:t+=i.serialize(r);break;case i.ElementType.TEXT:t+=i.xmlescape(r.nodeValue);break;case i.ElementType.CDATA:t+="<![CDATA["+r.nodeValue+"]]>"}t+="</"+o+">"}else t+="/>";return t},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(e,t){i._connectionPlugins[e]=t}},i.Builder=function(e,t){"presence"!=e&&"message"!=e&&"iq"!=e||(t&&!t.xmlns?t.xmlns=i.NS.CLIENT:t||(t={xmlns:i.NS.CLIENT})),this.nodeTree=i.xmlElement(e,t),this.node=this.nodeTree},i.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return i.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},attrs:function(e){for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t]?this.node.removeAttribute(t):this.node.setAttribute(t,e[t]));return this},c:function(e,t,n){var r=i.xmlElement(e,t,n);return this.node.appendChild(r),"string"!=typeof n&&(this.node=r),this},cnode:function(e){var t,n=i.xmlGenerator();try{t=void 0!==n.importNode}catch(e){t=!1}var r=t?n.importNode(e,!0):i.copyElement(e);return this.node.appendChild(r),this.node=r,this},t:function(e){var t=i.xmlTextNode(e);return this.node.appendChild(t),this},h:function(e){var t=document.createElement("body");t.innerHTML=e;for(var n=i.createHtml(t);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},i.Handler=function(e,t,n,r,o,s,a){this.handler=e,this.ns=t,this.name=n,this.type=r,this.id=o,this.options=a||{matchBare:!1},this.options.matchBare||(this.options.matchBare=!1),this.options.matchBare?this.from=s?i.getBareJidFromJid(s):null:this.from=s,this.user=!0},i.Handler.prototype={isMatch:function(e){var t,n=null;if(n=this.options.matchBare?i.getBareJidFromJid(e.getAttribute("from")):e.getAttribute("from"),t=!1,this.ns){var r=this;i.forEachChild(e,null,function(e){e.getAttribute("xmlns")==r.ns&&(t=!0)}),t=t||e.getAttribute("xmlns")==this.ns}else t=!0;var o=e.getAttribute("type");return!(!t||this.name&&!i.isTagEqual(e,this.name)||this.type&&(Array.isArray(this.type)?this.type.indexOf(o)==-1:o!=this.type)||this.id&&e.getAttribute("id")!=this.id||this.from&&n!=this.from)},run:function(e){var t=null;try{t=this.handler(e)}catch(e){throw e.sourceURL?i.fatal("error: "+this.handler+" "+e.sourceURL+":"+e.line+" - "+e.name+": "+e.message):e.fileName?("undefined"!=typeof console&&(console.trace(),console.error(this.handler," - error - ",e,e.message)),i.fatal("error: "+this.handler+" "+e.fileName+":"+e.lineNumber+" - "+e.name+": "+e.message)):i.fatal("error: "+e.message+"\n"+e.stack),e}return t},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},i.TimedHandler=function(e,t){this.period=e,this.handler=t,this.lastCalled=(new Date).getTime(),this.user=!0},i.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},i.Connection=function(e,t){this.service=e,this.options=t||{};var n=this.options.protocol||"";0===e.indexOf("ws:")||0===e.indexOf("wss:")||0===n.indexOf("ws")?this._proto=new i.Websocket(this):this._proto=new i.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._authentication={},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(this._onIdle.bind(this),100);for(var r in i._connectionPlugins)if(i._connectionPlugins.hasOwnProperty(r)){var o=i._connectionPlugins[r],s=function(){};s.prototype=o,this[r]=new s,this[r].init(this)}},i.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._authentication={},this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(e){var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)});return"string"==typeof e||"number"==typeof e?t+":"+e:t+""},connect:function(e,t,n,r,o,s,a){this.jid=e,this.authzid=i.getBareJidFromJid(this.jid),this.authcid=a||i.getNodeFromJid(this.jid),this.pass=t,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=i.getDomainFromJid(this.jid),this._changeConnectStatus(i.Status.CONNECTING,null),this._proto._connect(r,o,s)},attach:function(e,t,n,r,o,s,a){if(!(this._proto instanceof i.Bosh))throw{name:"StropheSessionError",message:'The "attach" method can only be used with a BOSH connection.'};this._proto._attach(e,t,n,r,o,s,a)},restore:function(e,t,n,r,i){if(!this._sessionCachingSupported())throw{name:"StropheSessionError",message:'The "restore" method can only be used with a BOSH connection.'};this._proto._restore(e,t,n,r,i)},_sessionCachingSupported:function(){if(this._proto instanceof i.Bosh){if(!JSON)return!1;try{window.sessionStorage.setItem("_strophe_","_strophe_"),window.sessionStorage.removeItem("_strophe_")}catch(e){return!1}return!0}return!1},xmlInput:function(e){},xmlOutput:function(e){},rawInput:function(e){},rawOutput:function(e){},nextValidRid:function(e){},send:function(e){if(null!==e){if("function"==typeof e.sort)for(var t=0;t<e.length;t++)this._queueData(e[t]);else"function"==typeof e.tree?this._queueData(e.tree()):this._queueData(e);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendIQ:function(e,t,n,r){var o=null,s=this;"function"==typeof e.tree&&(e=e.tree());var a=e.getAttribute("id");a||(a=this.getUniqueId("sendIQ"),e.setAttribute("id",a));var c=e.getAttribute("to"),u=this.jid,l=this.addHandler(function(e){o&&s.deleteTimedHandler(o);var r=!1,a=e.getAttribute("from");if(a!==c&&(c||a!==i.getBareJidFromJid(u)&&a!==i.getDomainFromJid(u)&&a!==u)||(r=!0),!r)throw{name:"StropheError",message:"Got answer to IQ from wrong jid:"+a+"\nExpected jid: "+c};var l=e.getAttribute("type");if("result"==l)t&&t(e);else{if("error"!=l)throw{name:"StropheError",message:"Got bad IQ type of "+l};n&&n(e)}},null,"iq",["error","result"],a);return r&&(o=this.addTimedHandler(r,function(){return s.deleteHandler(l),n&&n(null),!1})),this.send(e),a},_queueData:function(e){if(null===e||!e.tagName||!e.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(e)},_sendRestart:function(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(this._onIdle.bind(this),100)},addTimedHandler:function(e,t){var n=new i.TimedHandler(e,t);return this.addTimeds.push(n),n},deleteTimedHandler:function(e){this.removeTimeds.push(e)},addHandler:function(e,t,n,r,o,s,a){var c=new i.Handler(e,t,n,r,o,s,a);return this.addHandlers.push(c),c},deleteHandler:function(e){this.removeHandlers.push(e);var t=this.addHandlers.indexOf(e);t>=0&&this.addHandlers.splice(t,1)},disconnect:function(e){if(this._changeConnectStatus(i.Status.DISCONNECTING,e),i.info("Disconnect was called because: "+e),this.connected){var t=!1;this.disconnecting=!0,this.authenticated&&(t=$pres({xmlns:i.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(t)}else i.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests()},_changeConnectStatus:function(e,t){for(var n in i._connectionPlugins)if(i._connectionPlugins.hasOwnProperty(n)){var r=this[n];if(r.statusChanged)try{r.statusChanged(e,t)}catch(e){i.error(""+n+" plugin caused an exception changing status: "+e)}}if(this.connect_callback)try{this.connect_callback(e,t)}catch(e){i.error("User connection callback caused an exception: "+e)}},_doDisconnect:function(e){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),i.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(i.Status.DISCONNECTED,e),this.connected=!1},_dataRecv:function(e,t){i.info("_dataRecv called");var n=this._proto._reqToData(e);if(null!==n){this.xmlInput!==i.Connection.prototype.xmlInput&&(n.nodeName===this._proto.strip&&n.childNodes.length?this.xmlInput(n.childNodes[0]):this.xmlInput(n)),this.rawInput!==i.Connection.prototype.rawInput&&(t?this.rawInput(t):this.rawInput(i.serialize(n)));for(var r,o;this.removeHandlers.length>0;)o=this.removeHandlers.pop(),r=this.handlers.indexOf(o),r>=0&&this.handlers.splice(r,1);for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var s,a,c=n.getAttribute("type");if(null!==c&&"terminate"==c){if(this.disconnecting)return;return s=n.getAttribute("condition"),a=n.getElementsByTagName("conflict"),null!==s?("remote-stream-error"==s&&a.length>0&&(s="conflict"),this._changeConnectStatus(i.Status.CONNFAIL,s)):this._changeConnectStatus(i.Status.CONNFAIL,"unknown"),void this._doDisconnect(s)}var u=this;i.forEachChild(n,null,function(e){var t,n;for(n=u.handlers,u.handlers=[],t=0;t<n.length;t++){var r=n[t];try{!r.isMatch(e)||!u.authenticated&&r.user?u.handlers.push(r):r.run(e)&&u.handlers.push(r)}catch(e){i.warn("Removing Strophe handlers due to uncaught exception: "+e.message)}}})}},mechanisms:{},_connect_cb:function(e,t,n){i.info("_connect_cb was called"),this.connected=!0;var r;try{r=this._proto._reqToData(e)}catch(e){if("badformat"!=e)throw e;this._changeConnectStatus(i.Status.CONNFAIL,"bad-format"),this._doDisconnect("bad-format")}if(r){this.xmlInput!==i.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==i.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(i.serialize(r)));var o=this._proto._connect_cb(r);if(o!==i.Status.CONNFAIL){this._authentication.sasl_scram_sha1=!1,this._authentication.sasl_plain=!1,this._authentication.sasl_digest_md5=!1,this._authentication.sasl_anonymous=!1,this._authentication.legacy_auth=!1;var s;s=r.getElementsByTagNameNS?r.getElementsByTagNameNS(i.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0;var a,c,u=r.getElementsByTagName("mechanism"),l=[],h=!1;if(!s)return void this._proto._no_auth_received(t);if(u.length>0)for(a=0;a<u.length;a++)c=i.getText(u[a]),this.mechanisms[c]&&l.push(this.mechanisms[c]);return this._authentication.legacy_auth=r.getElementsByTagName("auth").length>0,(h=this._authentication.legacy_auth||l.length>0)?void(this.do_authentication!==!1&&this.authenticate(l)):void this._proto._no_auth_received(t)}}},authenticate:function(e){var n;for(n=0;n<e.length-1;++n){for(var r=n,o=n+1;o<e.length;++o)e[o].prototype.priority>e[r].prototype.priority&&(r=o);if(r!=n){var s=e[n];e[n]=e[r],e[r]=s}}var a=!1;for(n=0;n<e.length;++n)if(e[n].test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new e[n],this._sasl_mechanism.onStart(this);var c=$build("auth",{xmlns:i.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var u=this._sasl_mechanism.onChallenge(this,null);c.t(t.encode(u))}this.send(c.tree()),a=!0;break}a||(null===i.getNodeFromJid(this.jid)?(this._changeConnectStatus(i.Status.CONNFAIL,"x-strophe-bad-non-anon-jid"),this.disconnect("x-strophe-bad-non-anon-jid")):(this._changeConnectStatus(i.Status.AUTHENTICATING,null),
this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send($iq({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:i.NS.AUTH}).c("username",{}).t(i.getNodeFromJid(this.jid)).tree())))},_sasl_challenge_cb:function(e){var n=t.decode(i.getText(e)),r=this._sasl_mechanism.onChallenge(this,n),o=$build("response",{xmlns:i.NS.SASL});return""!==r&&o.t(t.encode(r)),this.send(o.tree()),!0},_auth1_cb:function(e){var t=$iq({type:"set",id:"_auth_2"}).c("query",{xmlns:i.NS.AUTH}).c("username",{}).t(i.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return i.getResourceFromJid(this.jid)||(this.jid=i.getBareJidFromJid(this.jid)+"/strophe"),t.up().c("resource",{}).t(i.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(t.tree()),!1},_sasl_success_cb:function(e){if(this._sasl_data["server-signature"]){var n,r=t.decode(i.getText(e)),o=/([a-z]+)=([^,]+)(,|$)/,s=r.match(o);if("v"==s[1]&&(n=s[2]),n!=this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}i.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var a=[],c=function(e,t){for(;e.length;)this.deleteHandler(e.pop());return this._sasl_auth1_cb.bind(this)(t),!1};return a.push(this._addSysHandler(function(e){c.bind(this)(a,e)}.bind(this),null,"stream:features",null,null)),a.push(this._addSysHandler(function(e){c.bind(this)(a,e)}.bind(this),i.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(e){this.features=e;var t,n;for(t=0;t<e.childNodes.length;t++)n=e.childNodes[t],"bind"==n.nodeName&&(this.do_bind=!0),"session"==n.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(i.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var r=i.getResourceFromJid(this.jid);return r?this.send($iq({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:i.NS.BIND}).c("resource",{}).t(r).tree()):this.send($iq({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:i.NS.BIND}).tree()),!1},_sasl_bind_cb:function(e){if("error"==e.getAttribute("type")){i.info("SASL binding failed.");var t,n=e.getElementsByTagName("conflict");return n.length>0&&(t="conflict"),this._changeConnectStatus(i.Status.AUTHFAIL,t),!1}var r,o=e.getElementsByTagName("bind");return o.length>0?(r=o[0].getElementsByTagName("jid"),void(r.length>0&&(this.jid=i.getText(r[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send($iq({type:"set",id:"_session_auth_2"}).c("session",{xmlns:i.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(i.Status.CONNECTED,null))))):(i.info("SASL binding failed."),this._changeConnectStatus(i.Status.AUTHFAIL,null),!1)},_sasl_session_cb:function(e){if("result"==e.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(i.Status.CONNECTED,null);else if("error"==e.getAttribute("type"))return i.info("Session creation failed."),this._changeConnectStatus(i.Status.AUTHFAIL,null),!1;return!1},_sasl_failure_cb:function(e){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(i.Status.AUTHFAIL,null),!1},_auth2_cb:function(e){return"result"==e.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(i.Status.CONNECTED,null)):"error"==e.getAttribute("type")&&(this._changeConnectStatus(i.Status.AUTHFAIL,null),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(e,t){var n=new i.TimedHandler(e,t);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(e,t,n,r,o){var s=new i.Handler(e,t,n,r,o);return s.user=!1,this.addHandlers.push(s),s},_onDisconnectTimeout:function(){return i.info("_onDisconnectTimeout was called"),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var e,t,n,r;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;)t=this.removeTimeds.pop(),e=this.timedHandlers.indexOf(t),e>=0&&this.timedHandlers.splice(e,1);var i=(new Date).getTime();for(r=[],e=0;e<this.timedHandlers.length;e++)t=this.timedHandlers[e],!this.authenticated&&t.user||(n=t.lastCalled+t.period,n-i<=0?t.run()&&r.push(t):r.push(t));this.timedHandlers=r,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(this._onIdle.bind(this),100))}},i.SASLMechanism=function(e,t,n){this.name=e,this.isClientFirst=t,this.priority=n},i.SASLMechanism.prototype={test:function(e){return!0},onStart:function(e){this._connection=e},onChallenge:function(e,t){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},i.SASLAnonymous=function(){},i.SASLAnonymous.prototype=new i.SASLMechanism("ANONYMOUS",!1,10),i.SASLAnonymous.test=function(e){return null===e.authcid},i.Connection.prototype.mechanisms[i.SASLAnonymous.prototype.name]=i.SASLAnonymous,i.SASLPlain=function(){},i.SASLPlain.prototype=new i.SASLMechanism("PLAIN",!0,20),i.SASLPlain.test=function(e){return null!==e.authcid},i.SASLPlain.prototype.onChallenge=function(e){var t=e.authzid;return t+="\0",t+=e.authcid,t+="\0",t+=e.pass,r.utf16to8(t)},i.Connection.prototype.mechanisms[i.SASLPlain.prototype.name]=i.SASLPlain,i.SASLSHA1=function(){},i.SASLSHA1.prototype=new i.SASLMechanism("SCRAM-SHA-1",!0,40),i.SASLSHA1.test=function(e){return null!==e.authcid},i.SASLSHA1.prototype.onChallenge=function(i,o,s){var a=s||n.hexdigest(1234567890*Math.random()),c="n="+r.utf16to8(i.authcid);return c+=",r=",c+=a,i._sasl_data.cnonce=a,i._sasl_data["client-first-message-bare"]=c,c="n,,"+c,this.onChallenge=function(n,i){for(var o,s,a,c,u,l,h,f,p,d,m,g,v="c=biws,",y=n._sasl_data["client-first-message-bare"]+","+i+",",b=n._sasl_data.cnonce,$=/([a-z]+)=([^,]+)(,|$)/;i.match($);){var w=i.match($);switch(i=i.replace(w[0],""),w[1]){case"r":o=w[2];break;case"s":s=w[2];break;case"i":a=w[2]}}if(o.substr(0,b.length)!==b)return n._sasl_data={},n._sasl_failure_cb();for(v+="r="+o,y+=v,s=t.decode(s),s+="\0\0\0",p=r.utf16to8(n.pass),c=l=e.core_hmac_sha1(p,s),h=1;h<a;h++){for(u=e.core_hmac_sha1(p,e.binb2str(l)),f=0;f<5;f++)c[f]^=u[f];l=u}for(c=e.binb2str(c),d=e.core_hmac_sha1(c,"Client Key"),m=e.str_hmac_sha1(c,"Server Key"),g=e.core_hmac_sha1(e.str_sha1(e.binb2str(d)),y),n._sasl_data["server-signature"]=e.b64_hmac_sha1(m,y),f=0;f<5;f++)d[f]^=g[f];return v+=",p="+t.encode(e.binb2str(d))}.bind(this),c},i.Connection.prototype.mechanisms[i.SASLSHA1.prototype.name]=i.SASLSHA1,i.SASLMD5=function(){},i.SASLMD5.prototype=new i.SASLMechanism("DIGEST-MD5",!1,30),i.SASLMD5.test=function(e){return null!==e.authcid},i.SASLMD5.prototype._quote=function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},i.SASLMD5.prototype.onChallenge=function(e,t,i){for(var o,s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,a=i||n.hexdigest(""+1234567890*Math.random()),c="",u=null,l="",h="";t.match(s);)switch(o=t.match(s),t=t.replace(o[0],""),o[2]=o[2].replace(/^"(.+)"$/,"$1"),o[1]){case"realm":c=o[2];break;case"nonce":l=o[2];break;case"qop":h=o[2];break;case"host":u=o[2]}var f=e.servtype+"/"+e.domain;null!==u&&(f=f+"/"+u);var p=r.utf16to8(e.authcid+":"+c+":"+this._connection.pass),d=n.hash(p)+":"+l+":"+a,m="AUTHENTICATE:"+f,g="";return g+="charset=utf-8,",g+="username="+this._quote(r.utf16to8(e.authcid))+",",g+="realm="+this._quote(c)+",",g+="nonce="+this._quote(l)+",",g+="nc=00000001,",g+="cnonce="+this._quote(a)+",",g+="digest-uri="+this._quote(f)+",",g+="response="+n.hexdigest(n.hexdigest(d)+":"+l+":00000001:"+a+":auth:"+n.hexdigest(m))+",",g+="qop=auth",this.onChallenge=function(){return""}.bind(this),g},i.Connection.prototype.mechanisms[i.SASLMD5.prototype.name]=i.SASLMD5,{Strophe:i,$build:$build,$msg:$msg,$iq:$iq,$pres:$pres,SHA1:e,Base64:t,MD5:n}}),function(e,n){a=[u],!(l=function(e){return n(e.Strophe,e.$build)}.apply(t,a))}(this,function(e,t){return e.Request=function(t,n,r,i){this.id=++e._requestId,this.xmlData=t,this.data=e.serialize(t),this.origFunc=n,this.func=n,this.rid=r,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;var e=new Date;return(e-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var e=new Date;return(e-this.dead)/1e3},this.xhr=this._newXHR()},e.Request.prototype={getResponse:function(){var t=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(t=this.xhr.responseXML.documentElement,"parsererror"==t.tagName)throw e.error("invalid response received"),e.error("responseText: "+this.xhr.responseText),e.error("responseXML: "+e.serialize(this.xhr.responseXML)),"parsererror"}else if(this.xhr.responseText)throw e.error("invalid response received"),e.error("responseText: "+this.xhr.responseText),"badformat";return t},_newXHR:function(){var e=null;return window.XMLHttpRequest?(e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(e=new ActiveXObject("Microsoft.XMLHTTP")),e.onreadystatechange=this.func.bind(null,this),e}},e.Bosh=function(e){this._conn=e,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this._requests=[]},e.Bosh.prototype={strip:null,_buildBody:function(){var n=t("body",{rid:this.rid++,xmlns:e.NS.HTTPBIND});return null!==this.sid&&n.attrs({sid:this.sid}),this._conn.options.keepalive&&this._cacheSession(),n},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(t,n,r){this.wait=t||this.wait,this.hold=n||this.hold,this.errors=0;var i=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":e.NS.BOSH});r&&i.attrs({route:r});var o=this._conn._connect_cb;this._requests.push(new e.Request(i.tree(),this._onRequestStateChange.bind(this,o.bind(this._conn)),i.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(t,n,r,i,o,s,a){this._conn.jid=t,this.sid=n,this.rid=r,this._conn.connect_callback=i,this._conn.domain=e.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=o||this.wait,this.hold=s||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(e.Status.ATTACHED,null)},_restore:function(t,n,r,i,o){var s=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!("undefined"!=typeof s&&null!==s&&s.rid&&s.sid&&s.jid)||"undefined"!=typeof t&&"null"!==t&&e.getBareJidFromJid(s.jid)!=e.getBareJidFromJid(t))throw{name:"StropheSessionError",message:"_restore: no restoreable session."};this._conn.restored=!0,this._attach(s.jid,s.sid,s.rid,n,r,i,o)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(t){var n,r,i=t.getAttribute("type");if(null!==i&&"terminate"==i)return n=t.getAttribute("condition"),e.error("BOSH-Connection failed: "+n),r=t.getElementsByTagName("conflict"),null!==n?("remote-stream-error"==n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(e.Status.CONNFAIL,n)):this._conn._changeConnectStatus(e.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),e.Status.CONNFAIL;this.sid||(this.sid=t.getAttribute("sid"));var o=t.getAttribute("requests");o&&(this.window=parseInt(o,10));var s=t.getAttribute("hold");s&&(this.hold=parseInt(s,10));var a=t.getAttribute("wait");a&&(this.wait=parseInt(a,10))},_disconnect:function(e){this._sendTerminate(e)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_hitError:function(t){this.errors++,e.warn("request errored, status: "+t+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(t){t=t?t.bind(this._conn):this._conn._connect_cb.bind(this._conn);var n=this._buildBody();this._requests.push(new e.Request(n.tree(),this._onRequestStateChange.bind(this,t.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var e;this._requests.length>0;)e=this._requests.pop(),e.abort=!0,e.xhr.abort(),e.xhr.onreadystatechange=function(){}},_onIdle:function(){var t=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===t.length&&!this._conn.disconnecting&&(e.info("no requests during idle cycle, sending blank request"),t.push(null)),!this._conn.paused){if(this._requests.length<2&&t.length>0){for(var n=this._buildBody(),r=0;r<t.length;r++)null!==t[r]&&("restart"===t[r]?n.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":e.NS.BOSH}):n.cnode(t[r]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new e.Request(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var i=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(e.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),i>Math.floor(e.TIMEOUT*this.wait)&&(e.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(e.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_onRequestStateChange:function(t,n){if(e.debug("request id "+n.id+"."+n.sends+" state changed to "+n.xhr.readyState),n.abort)return void(n.abort=!1);var r;if(4==n.xhr.readyState){r=0;try{r=n.xhr.status}catch(e){}if("undefined"==typeof r&&(r=0),this.disconnecting&&r>=400)return void this._hitError(r);var i=this._requests[0]==n,o=this._requests[1]==n;(r>0&&r<500||n.sends>5)&&(this._removeRequest(n),e.debug("request id "+n.id+" should now be removed")),200==r?((o||i&&this._requests.length>0&&this._requests[0].age()>Math.floor(e.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(n.rid)+1),e.debug("request id "+n.id+"."+n.sends+" got 200"),t(n),this.errors=0):(e.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),(0===r||r>=400&&r<600||r>=12e3)&&(this._hitError(r),r>=400&&r<500&&(this._conn._changeConnectStatus(e.Status.DISCONNECTING,null),this._conn._doDisconnect()))),r>0&&r<500||n.sends>5||this._throttledRequestHandler()}},_processRequest:function(t){var n=this,r=this._requests[t],i=-1;try{4==r.xhr.readyState&&(i=r.xhr.status)}catch(n){e.error("caught an error in _requests["+t+"], reqStatus: "+i)}if("undefined"==typeof i&&(i=-1),r.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var o=r.age(),s=!isNaN(o)&&o>Math.floor(e.TIMEOUT*this.wait),a=null!==r.dead&&r.timeDead()>Math.floor(e.SECONDARY_TIMEOUT*this.wait),c=4==r.xhr.readyState&&(i<1||i>=500);if((s||a||c)&&(a&&e.error("Request "+this._requests[t].id+" timed out (secondary), restarting"),r.abort=!0,r.xhr.abort(),r.xhr.onreadystatechange=function(){},this._requests[t]=new e.Request(r.xmlData,r.origFunc,r.rid,r.sends),r=this._requests[t]),0===r.xhr.readyState){e.debug("request id "+r.id+"."+r.sends+" posting");try{r.xhr.open("POST",this._conn.service,!this._conn.options.sync),r.xhr.setRequestHeader("Content-Type","text/xml; charset=utf-8")}catch(t){return e.error("XHR open failed."),this._conn.connected||this._conn._changeConnectStatus(e.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var u=function(){if(r.date=new Date,n._conn.options.customHeaders){var e=n._conn.options.customHeaders;for(var t in e)e.hasOwnProperty(t)&&r.xhr.setRequestHeader(t,e[t])}r.xhr.send(r.data)};if(r.sends>1){var l=1e3*Math.min(Math.floor(e.TIMEOUT*this.wait),Math.pow(r.sends,3));setTimeout(u,l)}else u();r.sends++,this._conn.xmlOutput!==e.Connection.prototype.xmlOutput&&(r.xmlData.nodeName===this.strip&&r.xmlData.childNodes.length?this._conn.xmlOutput(r.xmlData.childNodes[0]):this._conn.xmlOutput(r.xmlData)),this._conn.rawOutput!==e.Connection.prototype.rawOutput&&this._conn.rawOutput(r.data)}else e.debug("_processRequest: "+(0===t?"first":"second")+" request has readyState of "+r.xhr.readyState)},_removeRequest:function(t){e.debug("removing request");var n;for(n=this._requests.length-1;n>=0;n--)t==this._requests[n]&&this._requests.splice(n,1);t.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(e){var t=this._requests[e];null===t.dead&&(t.dead=new Date),this._processRequest(e)},_reqToData:function(e){try{return e.getResponse()}catch(e){if("parsererror"!=e)throw e;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(t){e.info("_sendTerminate was called");var n=this._buildBody().attrs({type:"terminate"});t&&n.cnode(t.tree());var r=new e.Request(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),n.tree().getAttribute("rid"));this._requests.push(r),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(this._conn._onIdle.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?e.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):e.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},e}),function(e,n){a=[u],!(h=function(e){return n(e.Strophe,e.$build)}.apply(t,a))}(this,function(e,t){return e.Websocket=function(e){this._conn=e,this.strip="wrapper";var t=e.service;if(0!==t.indexOf("ws:")&&0!==t.indexOf("wss:")){var n="";n+="ws"===e.options.protocol&&"https:"!==window.location.protocol?"ws":"wss",n+="://"+window.location.host,n+=0!==t.indexOf("/")?window.location.pathname+t:t,e.service=n}},e.Websocket.prototype={_buildStream:function(){return t("open",{xmlns:e.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(t,n){var r;if(r=t.getElementsByTagNameNS?t.getElementsByTagNameNS(e.NS.STREAM,"error"):t.getElementsByTagName("stream:error"),0===r.length)return!1;for(var i=r[0],o="",s="",a="urn:ietf:params:xml:ns:xmpp-streams",c=0;c<i.childNodes.length;c++){var u=i.childNodes[c];if(u.getAttribute("xmlns")!==a)break;"text"===u.nodeName?s=u.textContent:o=u.nodeName}var l="WebSocket stream error: ";return l+=o?o:"unknown",s&&(l+=" - "+o),e.error(l),this._conn._changeConnectStatus(n,o),this._conn._doDisconnect(),!0},_reset:function(){},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(t){var n=this._check_streamerror(t,e.Status.CONNFAIL);if(n)return e.Status.CONNFAIL},_handleStreamStart:function(t){var n=!1,r=t.getAttribute("xmlns");"string"!=typeof r?n="Missing xmlns in <open />":r!==e.NS.FRAMING&&(n="Wrong xmlns in <open />: "+r);var i=t.getAttribute("version");return"string"!=typeof i?n="Missing version in <open />":"1.0"!==i&&(n="Wrong version in <open />: "+i),!n||(this._conn._changeConnectStatus(e.Status.CONNFAIL,n),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(t){if(0===t.data.indexOf("<open ")||0===t.data.indexOf("<?xml")){var n=t.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===n)return;var r=(new DOMParser).parseFromString(n,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(t.data),this._handleStreamStart(r)&&this._connect_cb(r)}else if(0===t.data.indexOf("<close ")){this._conn.rawInput(t.data),this._conn.xmlInput(t);var i=t.getAttribute("see-other-uri");i?(this._conn._changeConnectStatus(e.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect()):(this._conn._changeConnectStatus(e.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect())}else{var o=this._streamWrap(t.data),s=(new DOMParser).parseFromString(o,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(s,null,t.data)}},_disconnect:function(n){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){n&&this._conn.send(n);var r=t("close",{xmlns:e.NS.FRAMING});this._conn.xmlOutput(r);var i=e.serialize(r);this._conn.rawOutput(i);try{this.socket.send(i)}catch(t){e.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){e.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(e){return"<wrapper>"+e+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.close()}catch(e){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(){this._conn.connected&&!this._conn.disconnecting?(e.error("Websocket closed unexcectedly"),this._conn._doDisconnect()):e.info("Websocket closed")},_no_auth_received:function(t){e.error("Server did not send any auth methods"),this._conn._changeConnectStatus(e.Status.CONNFAIL,"Server did not send any auth methods"),t&&(t=t.bind(this._conn))(),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(t){e.error("Websocket error "+t),this._conn._changeConnectStatus(e.Status.CONNFAIL,"The WebSocket connection could not be established was disconnected."),this._disconnect()},_onIdle:function(){var t=this._conn._data;if(t.length>0&&!this._conn.paused){for(var n=0;n<t.length;n++)if(null!==t[n]){var r,i;r="restart"===t[n]?this._buildStream().tree():t[n],i=e.serialize(r),this._conn.xmlOutput(r),this._conn.rawOutput(i),this.socket.send(i)}this._conn._data=[]}},_onMessage:function(t){var n,r,i='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(t.data===i)return this._conn.rawInput(i),this._conn.xmlInput(t),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===t.data.search("<open ")){if(n=(new DOMParser).parseFromString(t.data,"text/xml").documentElement,!this._handleStreamStart(n))return}else r=this._streamWrap(t.data),n=(new DOMParser).parseFromString(r,"text/xml").documentElement;return this._check_streamerror(n,e.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===n.firstChild.nodeName&&"unavailable"===n.firstChild.getAttribute("type")?(this._conn.xmlInput(n),void this._conn.rawInput(e.serialize(n))):void this._conn._dataRecv(n,t.data)},_onOpen:function(){e.info("Websocket open");var t=this._buildStream();this._conn.xmlOutput(t.tree());var n=e.serialize(t);this._conn.rawOutput(n),this.socket.send(n)},_reqToData:function(e){return e},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},e}),function(e){a=[u,l,h],!(f=function(e){return e}.apply(t,a))}(this),p){var d=p;!function(){var e=[f];(function(e){d(e.Strophe,e.$build,e.$msg,e.$iq,e.$pres)}).apply(null,e)}()}}(function(e,t,n,r,i){window.Strophe=e,window.$build=t,window.$msg=n,window.$iq=r,window.$pres=i})},function(e,t){(function(){var e,t,n,r={}.hasOwnProperty,i=function(e,t){return function(){return e.apply(t,arguments)}};Strophe.addConnectionPlugin("muc",{_connection:null,rooms:{},roomNames:[],init:function(e){return this._connection=e,this._muc_handler=null,Strophe.addNamespace("MUC_OWNER",Strophe.NS.MUC+"#owner"),Strophe.addNamespace("MUC_ADMIN",Strophe.NS.MUC+"#admin"),Strophe.addNamespace("MUC_USER",Strophe.NS.MUC+"#user"),Strophe.addNamespace("MUC_ROOMCONF",Strophe.NS.MUC+"#roomconfig"),Strophe.addNamespace("MUC_REGISTER","jabber:iq:register")},join:function(e,t,r,i,o,s,a){var c,u;return u=this.test_append_nick(e,t),c=$pres({from:this._connection.jid,to:u}).c("x",{xmlns:Strophe.NS.MUC}),null!=a&&(c=c.c("history",a).up()),null!=s&&c.cnode(Strophe.xmlElement("password",[],s)),"undefined"!=typeof extended_presence&&null!==extended_presence&&c.up.cnode(extended_presence),null==this._muc_handler&&(this._muc_handler=this._connection.addHandler(function(t){return function(n){var r,i,o,s,a,c,u,l,h,f;if(r=n.getAttribute("from"),!r)return!0;if(a=r.split("/")[0],!t.rooms[a])return!0;if(e=t.rooms[a],o={},"message"===n.nodeName)o=e._message_handlers;else if("presence"===n.nodeName&&(l=n.getElementsByTagName("x"),l.length>0))for(h=0,f=l.length;h<f;h++)if(c=l[h],u=c.getAttribute("xmlns"),u&&u.match(Strophe.NS.MUC)){o=e._presence_handlers;break}for(s in o)i=o[s],i(n,e)||delete o[s];return!0}}(this))),this.rooms.hasOwnProperty(e)||(this.rooms[e]=new n(this,e,t,s),this.roomNames.push(e)),i&&this.rooms[e].addHandler("presence",i),r&&this.rooms[e].addHandler("message",r),o&&this.rooms[e].addHandler("roster",o),this._connection.send(c)},leave:function(e,t,n,r){var i,o,s,a;return i=this.roomNames.indexOf(e),delete this.rooms[e],i>=0&&(this.roomNames.splice(i,1),0===this.roomNames.length&&(this._connection.deleteHandler(this._muc_handler),this._muc_handler=null)),a=this.test_append_nick(e,t),s=this._connection.getUniqueId(),o=$pres({type:"unavailable",id:s,from:this._connection.jid,to:a}),null!=r&&o.c("status",r),null!=n&&this._connection.addHandler(n,null,"presence",null,s),this._connection.send(o),s},message:function(e,t,n,r,i,o){var s,a,c;return c=this.test_append_nick(e,t),i=i||(null!=t?"chat":"groupchat"),o=o||this._connection.getUniqueId(),s=$msg({to:c,from:this._connection.jid,type:i,id:o}).c("body").t(n),s.up(),null!=r&&(s.c("html",{xmlns:Strophe.NS.XHTML_IM}).c("body",{xmlns:Strophe.NS.XHTML}).h(r),0===s.node.childNodes.length?(a=s.node.parentNode,s.up().up(),s.node.removeChild(a)):s.up().up()),s.c("x",{xmlns:"jabber:x:event"}).c("composing"),this._connection.send(s),o},groupchat:function(e,t,n,r){return this.message(e,null,t,n,void 0,r)},invite:function(e,t,n){var r,i;return i=this._connection.getUniqueId(),r=$msg({from:this._connection.jid,to:e,id:i}).c("x",{xmlns:Strophe.NS.MUC_USER}).c("invite",{to:t}),null!=n&&r.c("reason",n),this._connection.send(r),i},multipleInvites:function(e,t,n){var r,i,o,s,a;for(i=this._connection.getUniqueId(),r=$msg({from:this._connection.jid,to:e,id:i}).c("x",{xmlns:Strophe.NS.MUC_USER}),s=0,a=t.length;s<a;s++)o=t[s],r.c("invite",{to:o}),null!=n&&(r.c("reason",n),r.up()),r.up();return this._connection.send(r),i},directInvite:function(e,t,n,r){var i,o,s;return s=this._connection.getUniqueId(),i={xmlns:"jabber:x:conference",jid:e},null!=n&&(i.reason=n),null!=r&&(i.password=r),o=$msg({from:this._connection.jid,to:t,id:s}).c("x",i),this._connection.send(o),s},queryOccupants:function(e,t,n){var r,i;return r={xmlns:Strophe.NS.DISCO_ITEMS},i=$iq({from:this._connection.jid,to:e,type:"get"}).c("query",r),this._connection.sendIQ(i,t,n)},configure:function(e,t,n){var r,i;return r=$iq({to:e,type:"get"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}),i=r.tree(),this._connection.sendIQ(i,t,n)},cancelConfigure:function(e){var t,n;return t=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"cancel"}),n=t.tree(),this._connection.sendIQ(n)},saveConfiguration:function(e,t,n,r){var i,o,s,a,c;if(o=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}),"undefined"!=typeof Form&&t instanceof Form)t.type="submit",o.cnode(t.toXML());else for(o.c("x",{xmlns:"jabber:x:data",type:"submit"}),a=0,c=t.length;a<c;a++)i=t[a],o.cnode(i).up();return s=o.tree(),this._connection.sendIQ(s,n,r)},createInstantRoom:function(e,t,n){var r;return r=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"}),this._connection.sendIQ(r.tree(),t,n)},createConfiguredRoom:function(e,t,n,i){var o,s,a;s=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_OWNER}).c("x",{xmlns:"jabber:x:data",type:"submit"}),s.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up();for(o in t)r.call(t,o)&&(a=t[o],s.c("field",{var:o}).c("value").t(a).up().up());return this._connection.sendIQ(s.tree(),n,i)},setTopic:function(e,t){var n;return n=$msg({to:e,from:this._connection.jid,type:"groupchat"}).c("subject",{xmlns:"jabber:client"}).t(t),this._connection.send(n.tree())},_modifyPrivilege:function(e,t,n,r,i){var o;return o=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_ADMIN}).cnode(t.node),null!=n&&o.c("reason",n),this._connection.sendIQ(o.tree(),r,i)},modifyRole:function(e,t,n,r,i,o){var s;return s=$build("item",{nick:t,role:n}),this._modifyPrivilege(e,s,r,i,o)},kick:function(e,t,n,r,i){return this.modifyRole(e,t,"none",n,r,i)},voice:function(e,t,n,r,i){return this.modifyRole(e,t,"participant",n,r,i)},mute:function(e,t,n,r,i){return this.modifyRole(e,t,"visitor",n,r,i)},op:function(e,t,n,r,i){return this.modifyRole(e,t,"moderator",n,r,i)},deop:function(e,t,n,r,i){return this.modifyRole(e,t,"participant",n,r,i)},modifyAffiliation:function(e,t,n,r,i,o){var s;return s=$build("item",{jid:t,affiliation:n}),this._modifyPrivilege(e,s,r,i,o)},ban:function(e,t,n,r,i){return this.modifyAffiliation(e,t,"outcast",n,r,i)},member:function(e,t,n,r,i){return this.modifyAffiliation(e,t,"member",n,r,i)},revoke:function(e,t,n,r,i){return this.modifyAffiliation(e,t,"none",n,r,i)},owner:function(e,t,n,r,i){return this.modifyAffiliation(e,t,"owner",n,r,i)},admin:function(e,t,n,r,i){return this.modifyAffiliation(e,t,"admin",n,r,i)},changeNick:function(e,t){var n,r;return r=this.test_append_nick(e,t),n=$pres({from:this._connection.jid,to:r,id:this._connection.getUniqueId()}),this._connection.send(n.tree())},setStatus:function(e,t,n,r){var i,o;return o=this.test_append_nick(e,t),i=$pres({from:this._connection.jid,to:o}),null!=n&&i.c("show",n).up(),null!=r&&i.c("status",r),this._connection.send(i.tree())},registrationRequest:function(e,t,n){var r;return r=$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:Strophe.NS.MUC_REGISTER}),this._connection.sendIQ(r,function(e){var n,r,i,o,s,a,c;for(r=e.getElementsByTagName("field"),s=r.length,o={required:[],optional:[]},a=0,c=r.length;a<c;a++)n=r[a],i={var:n.getAttribute("var"),label:n.getAttribute("label"),type:n.getAttribute("type")},n.getElementsByTagName("required").length>0?o.required.push(i):o.optional.push(i);return t(o)},n)},submitRegistrationForm:function(e,t,n,r){var i,o,s;i=$iq({to:e,type:"set"}).c("query",{xmlns:Strophe.NS.MUC_REGISTER}),i.c("x",{xmlns:"jabber:x:data",type:"submit"}),i.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#register").up().up();for(o in t)s=t[o],i.c("field",{var:o}).c("value").t(s).up().up();return this._connection.sendIQ(i,n,r)},listRooms:function(e,t,n){var r;return r=$iq({to:e,from:this._connection.jid,type:"get"}).c("query",{xmlns:Strophe.NS.DISCO_ITEMS}),this._connection.sendIQ(r,t,n)},test_append_nick:function(e,t){var n,r;return r=Strophe.escapeNode(Strophe.getNodeFromJid(e)),
n=Strophe.getDomainFromJid(e),r+"@"+n+(null!=t?"/"+t:"")}}),n=function(){function XmppRoom(e,t,n,r){this.client=e,this.name=t,this.nick=n,this.password=r,this._roomRosterHandler=i(this._roomRosterHandler,this),this._addOccupant=i(this._addOccupant,this),this.roster={},this._message_handlers={},this._presence_handlers={},this._roster_handlers={},this._handler_ids=0,e.muc&&(this.client=e.muc),this.name=Strophe.getBareJidFromJid(t),this.addHandler("presence",this._roomRosterHandler)}return XmppRoom.prototype.join=function(e,t,n){return this.client.join(this.name,this.nick,e,t,n,this.password)},XmppRoom.prototype.leave=function(e,t){return this.client.leave(this.name,this.nick,e,t),delete this.client.rooms[this.name]},XmppRoom.prototype.message=function(e,t,n,r){return this.client.message(this.name,e,t,n,r)},XmppRoom.prototype.groupchat=function(e,t){return this.client.groupchat(this.name,e,t)},XmppRoom.prototype.invite=function(e,t){return this.client.invite(this.name,e,t)},XmppRoom.prototype.multipleInvites=function(e,t){return this.client.invite(this.name,e,t)},XmppRoom.prototype.directInvite=function(e,t){return this.client.directInvite(this.name,e,t,this.password)},XmppRoom.prototype.configure=function(e){return this.client.configure(this.name,e)},XmppRoom.prototype.cancelConfigure=function(){return this.client.cancelConfigure(this.name)},XmppRoom.prototype.saveConfiguration=function(e){return this.client.saveConfiguration(this.name,e)},XmppRoom.prototype.queryOccupants=function(e,t){return this.client.queryOccupants(this.name,e,t)},XmppRoom.prototype.setTopic=function(e){return this.client.setTopic(this.name,e)},XmppRoom.prototype.modifyRole=function(e,t,n,r,i){return this.client.modifyRole(this.name,e,t,n,r,i)},XmppRoom.prototype.kick=function(e,t,n,r){return this.client.kick(this.name,e,t,n,r)},XmppRoom.prototype.voice=function(e,t,n,r){return this.client.voice(this.name,e,t,n,r)},XmppRoom.prototype.mute=function(e,t,n,r){return this.client.mute(this.name,e,t,n,r)},XmppRoom.prototype.op=function(e,t,n,r){return this.client.op(this.name,e,t,n,r)},XmppRoom.prototype.deop=function(e,t,n,r){return this.client.deop(this.name,e,t,n,r)},XmppRoom.prototype.modifyAffiliation=function(e,t,n,r,i){return this.client.modifyAffiliation(this.name,e,t,n,r,i)},XmppRoom.prototype.ban=function(e,t,n,r){return this.client.ban(this.name,e,t,n,r)},XmppRoom.prototype.member=function(e,t,n,r){return this.client.member(this.name,e,t,n,r)},XmppRoom.prototype.revoke=function(e,t,n,r){return this.client.revoke(this.name,e,t,n,r)},XmppRoom.prototype.owner=function(e,t,n,r){return this.client.owner(this.name,e,t,n,r)},XmppRoom.prototype.admin=function(e,t,n,r){return this.client.admin(this.name,e,t,n,r)},XmppRoom.prototype.changeNick=function(e){return this.nick=e,this.client.changeNick(this.name,e)},XmppRoom.prototype.setStatus=function(e,t){return this.client.setStatus(this.name,this.nick,e,t)},XmppRoom.prototype.addHandler=function(e,t){var n;switch(n=this._handler_ids++,e){case"presence":this._presence_handlers[n]=t;break;case"message":this._message_handlers[n]=t;break;case"roster":this._roster_handlers[n]=t;break;default:return this._handler_ids--,null}return n},XmppRoom.prototype.removeHandler=function(e){return delete this._presence_handlers[e],delete this._message_handlers[e],delete this._roster_handlers[e]},XmppRoom.prototype._addOccupant=function(t){var n;return n=new e(t,this),this.roster[n.nick]=n,n},XmppRoom.prototype._roomRosterHandler=function(e){var t,n,r,i,o,s;switch(t=XmppRoom._parsePresence(e),o=t.nick,i=t.newnick||null,t.type){case"error":return!0;case"unavailable":i&&(t.nick=i,this.roster[o]&&this.roster[i]&&(this.roster[o].update(this.roster[i]),this.roster[i]=this.roster[o]),this.roster[o]&&!this.roster[i]&&(this.roster[i]=this.roster[o].update(t))),delete this.roster[o];break;default:this.roster[o]?this.roster[o].update(t):this._addOccupant(t)}s=this._roster_handlers;for(r in s)n=s[r],n(this.roster,this)||delete this._roster_handlers[r];return!0},XmppRoom._parsePresence=function(e){var t,n,r,i,o,s,a,c,u;for(r={},r.nick=Strophe.getResourceFromJid(e.getAttribute("from")),r.type=e.getAttribute("type"),r.states=[],c=e.childNodes,i=0,s=c.length;i<s;i++)switch(t=c[i],t.nodeName){case"status":r.status=t.textContent||null;break;case"show":r.show=t.textContent||null;break;case"x":if(t.getAttribute("xmlns")===Strophe.NS.MUC_USER)for(u=t.childNodes,o=0,a=u.length;o<a;o++)switch(n=u[o],n.nodeName){case"item":r.affiliation=n.getAttribute("affiliation"),r.role=n.getAttribute("role"),r.jid=n.getAttribute("jid"),r.newnick=n.getAttribute("nick");break;case"status":n.getAttribute("code")&&r.states.push(n.getAttribute("code"))}}return r},XmppRoom}(),t=function(){function RoomConfig(e){this.parse=i(this.parse,this),null!=e&&this.parse(e)}return RoomConfig.prototype.parse=function(e){var t,n,r,i,o,s,a,c,u,l,h,f,p;for(s=e.getElementsByTagName("query")[0].childNodes,this.identities=[],this.features=[],this.x=[],a=0,l=s.length;a<l;a++)switch(r=s[a],n=r.attributes,r.nodeName){case"identity":for(o={},c=0,h=n.length;c<h;c++)t=n[c],o[t.name]=t.textContent;this.identities.push(o);break;case"feature":this.features.push(r.getAttribute("var"));break;case"x":if("FORM_TYPE"===!r.childNodes[0].getAttribute("var")||"hidden"===!r.childNodes[0].getAttribute("type"))break;for(p=r.childNodes,u=0,f=p.length;u<f;u++)i=p[u],i.attributes.type||this.x.push({var:i.getAttribute("var"),label:i.getAttribute("label")||"",value:i.firstChild.textContent||""})}return{identities:this.identities,features:this.features,x:this.x}},RoomConfig}(),e=function(){function Occupant(e,t){this.room=t,this.update=i(this.update,this),this.admin=i(this.admin,this),this.owner=i(this.owner,this),this.revoke=i(this.revoke,this),this.member=i(this.member,this),this.ban=i(this.ban,this),this.modifyAffiliation=i(this.modifyAffiliation,this),this.deop=i(this.deop,this),this.op=i(this.op,this),this.mute=i(this.mute,this),this.voice=i(this.voice,this),this.kick=i(this.kick,this),this.modifyRole=i(this.modifyRole,this),this.update(e)}return Occupant.prototype.modifyRole=function(e,t,n,r){return this.room.modifyRole(this.nick,e,t,n,r)},Occupant.prototype.kick=function(e,t,n){return this.room.kick(this.nick,e,t,n)},Occupant.prototype.voice=function(e,t,n){return this.room.voice(this.nick,e,t,n)},Occupant.prototype.mute=function(e,t,n){return this.room.mute(this.nick,e,t,n)},Occupant.prototype.op=function(e,t,n){return this.room.op(this.nick,e,t,n)},Occupant.prototype.deop=function(e,t,n){return this.room.deop(this.nick,e,t,n)},Occupant.prototype.modifyAffiliation=function(e,t,n,r){return this.room.modifyAffiliation(this.jid,e,t,n,r)},Occupant.prototype.ban=function(e,t,n){return this.room.ban(this.jid,e,t,n)},Occupant.prototype.member=function(e,t,n){return this.room.member(this.jid,e,t,n)},Occupant.prototype.revoke=function(e,t,n){return this.room.revoke(this.jid,e,t,n)},Occupant.prototype.owner=function(e,t,n){return this.room.owner(this.jid,e,t,n)},Occupant.prototype.admin=function(e,t,n){return this.room.admin(this.jid,e,t,n)},Occupant.prototype.update=function(e){return this.nick=e.nick||null,this.affiliation=e.affiliation||null,this.role=e.role||null,this.jid=e.jid||null,this.status=e.status||null,this.show=e.show||null,this},Occupant}()}).call(this)},function(e,t,n){e.exports=n(86)},function(e,t,n){var r=n(87),i=n(111),o=n(112),s=n(113);e.exports={xml2js:r,xml2json:i,js2xml:o,json2xml:s}},function(e,t,n){function validateOptions(e){return r=a.copyOptions(e),a.ensureFlagExists("ignoreDeclaration",r),a.ensureFlagExists("ignoreAttributes",r),a.ensureFlagExists("ignoreText",r),a.ensureFlagExists("ignoreComment",r),a.ensureFlagExists("ignoreCdata",r),a.ensureFlagExists("compact",r),a.ensureFlagExists("alwaysChildren",r),a.ensureFlagExists("addParent",r),a.ensureFlagExists("trim",r),a.ensureFlagExists("nativeType",r),a.ensureFlagExists("sanitize",r),a.ensureKeyExists("declaration",r),a.ensureKeyExists("attributes",r),a.ensureKeyExists("text",r),a.ensureKeyExists("comment",r),a.ensureKeyExists("cdata",r),a.ensureKeyExists("type",r),a.ensureKeyExists("name",r),a.ensureKeyExists("elements",r),a.ensureKeyExists("parent",r),r}function nativeType(e){var t=Number(e);if(!isNaN(t))return t;var n=e.toLowerCase();return"true"===n||"false"!==n&&e}function addField(e,t,n){if(n.compact)i[n[e+"Key"]]=(i[n[e+"Key"]]?i[n[e+"Key"]]+"\n":"")+t;else{i[n.elementsKey]||(i[n.elementsKey]=[]);var r={};r[n.typeKey]=e,r[n[e+"Key"]]=t,n.addParent&&(r[n.parentKey]=i),i[n.elementsKey].push(r)}}function onDeclaration(e){if(!r.ignoreDeclaration&&!i[r.declarationKey]){for(i[r.declarationKey]={};e.body;){var t=e.body.match(/([\w:-]+)\s*=\s*"([^"]*)"|'([^']*)'|(\w+)\s*/);if(!t)break;i[r.declarationKey][r.attributesKey]||(i[r.declarationKey][r.attributesKey]={}),i[r.declarationKey][r.attributesKey][t[1]]=t[2],e.body=e.body.slice(t[0].length)}r.addParent&&(i[r.declarationKey][r.parentKey]=i)}}function onStartElement(e,t){var n,o;if("object"==typeof e&&(t=e.attributes,e=e.name),r.trim&&t)for(n in t)t.hasOwnProperty(n)&&(t[n]=t[n].trim());if(r.compact){if(o={},!r.ignoreAttributes&&t&&Object.keys(t).length){o[r.attributesKey]={};for(n in t)t.hasOwnProperty(n)&&(o[r.attributesKey][n]=t[n])}o[r.parentKey]=i,e in i?(i[e]instanceof Array||(i[e]=[i[e]]),i[e].push(o)):i[e]=o,i=o}else i[r.elementsKey]||(i[r.elementsKey]=[]),o={},o[r.typeKey]="element",o[r.nameKey]=e,!r.ignoreAttributes&&t&&Object.keys(t).length&&(o[r.attributesKey]=t),o[r.parentKey]=i,r.alwaysChildren&&(o[r.elementsKey]=[]),i[r.elementsKey].push(o),i=o}function onText(e){r.ignoreText||e.trim()&&(r.trim&&(e=e.trim()),r.nativeType&&(e=nativeType(e)),r.sanitize&&(e=a.sanitize(e)),addField("text",e,r))}function onComment(e){r.ignoreComment||(r.trim&&(e=e.trim()),r.sanitize&&(e=a.sanitize(e)),addField("comment",e,r))}function onEndElement(e){var t=i[r.parentKey];r.addParent||delete i[r.parentKey],i=t}function onCdata(e){r.ignoreCdata||(r.trim&&(e=e.trim()),addField("cdata",e,r))}function onError(e){e.note=e}var r,i,o=n(88),s={on:function(){},parse:function(){}},a=n(110),c=1;e.exports=function(e,t){var n=c?o.parser(!0,{}):n=new s.Parser("UTF-8"),a={};if(i=a,r=validateOptions(t),c?(n.onopentag=onStartElement,n.ontext=onText,n.oncomment=onComment,n.onclosetag=onEndElement,n.onerror=onError,n.oncdata=onCdata,n.onprocessinginstruction=onDeclaration):(n.on("startElement",onStartElement),n.on("text",onText),n.on("comment",onComment),n.on("endElement",onEndElement),n.on("error",onError)),c)n.write(e).close();else if(!n.parse(e))throw new Error("XML parsing error: "+n.getError());if(a[r.elementsKey]){var u=a[r.elementsKey];delete a[r.elementsKey],a[r.elementsKey]=u,delete a.text}return a}},function(e,t,n){(function(e){!function(t){function SAXParser(e,n){if(!(this instanceof SAXParser))return new SAXParser(e,n);var r=this;clearBuffers(r),r.q=r.c="",r.bufferCheckPosition=t.MAX_BUFFER_LENGTH,r.opt=n||{},r.opt.lowercase=r.opt.lowercase||r.opt.lowercasetags,r.looseCase=r.opt.lowercase?"toLowerCase":"toUpperCase",r.tags=[],r.closed=r.closedRoot=r.sawRoot=!1,r.tag=r.error=null,r.strict=!!e,r.noscript=!(!e&&!r.opt.noscript),r.state=$.BEGIN,r.strictEntities=r.opt.strictEntities,r.ENTITIES=r.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),r.attribList=[],r.opt.xmlns&&(r.ns=Object.create(m)),r.trackPosition=r.opt.position!==!1,r.trackPosition&&(r.position=r.line=r.column=0),emit(r,"onready")}function checkBufferLength(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=e[r[o]].length;if(a>n)switch(r[o]){case"textNode":closeText(e);break;case"cdata":emitNode(e,"oncdata",e.cdata),e.cdata="";break;case"script":emitNode(e,"onscript",e.script),e.script="";break;default:error(e,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}var c=t.MAX_BUFFER_LENGTH-i;e.bufferCheckPosition=c+e.position}function clearBuffers(e){for(var t=0,n=r.length;t<n;t++)e[r[t]]=""}function flushBuffers(e){closeText(e),""!==e.cdata&&(emitNode(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(emitNode(e,"onscript",e.script),e.script="")}function createStream(e,t){return new SAXStream(e,t)}function SAXStream(e,t){if(!(this instanceof SAXStream))return new SAXStream(e,t);i.apply(this),this._parser=new SAXParser(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,o.forEach(function(e){Object.defineProperty(n,"on"+e,{get:function(){return n._parser["on"+e]},set:function(t){return t?void n.on(e,t):(n.removeAllListeners(e),n._parser["on"+e]=t,t)},enumerable:!0,configurable:!1})})}function charClass(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function isRegExp(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function is(e,t){return isRegExp(e)?!!t.match(e):e[t]}function not(e,t){return!is(e,t)}function emit(e,t,n){e[t]&&e[t](n)}function emitNode(e,t,n){e.textNode&&closeText(e),emit(e,t,n)}function closeText(e){e.textNode=textopts(e.opt,e.textNode),e.textNode&&emit(e,"ontext",e.textNode),e.textNode=""}function textopts(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function error(e,t){return closeText(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,emit(e,"onerror",t),e}function end(e){return e.sawRoot&&!e.closedRoot&&strictFail(e,"Unclosed root tag"),e.state!==$.BEGIN&&e.state!==$.BEGIN_WHITESPACE&&e.state!==$.TEXT&&error(e,"Unexpected end"),closeText(e),e.c="",e.closed=!0,emit(e,"onend"),SAXParser.call(e,e.strict,e.opt),e}function strictFail(e,t){if("object"!=typeof e||!(e instanceof SAXParser))throw new Error("bad call to strictFail");e.strict&&error(e,t)}function newTag(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,n=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(n.ns=t.ns),e.attribList.length=0,emitNode(e,"onopentagstart",n)}function qname(e,t){var n=e.indexOf(":"),r=n<0?["",e]:e.split(":"),i=r[0],o=r[1];return t&&"xmlns"===e&&(i="xmlns",o=""),{prefix:i,local:o}}function attrib(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),e.attribList.indexOf(e.attribName)!==-1||e.tag.attributes.hasOwnProperty(e.attribName))return void(e.attribName=e.attribValue="");if(e.opt.xmlns){var t=qname(e.attribName,!0),n=t.prefix,r=t.local;if("xmlns"===n)if("xml"===r&&e.attribValue!==p)strictFail(e,"xml: prefix must be bound to "+p+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==d)strictFail(e,"xmlns: prefix must be bound to "+d+"\nActual: "+e.attribValue);else{var i=e.tag,o=e.tags[e.tags.length-1]||e;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,emitNode(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}function openTag(e,t){if(e.opt.xmlns){var n=e.tag,r=qname(e.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(strictFail(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),n.uri=r.prefix);var i=e.tags[e.tags.length-1]||e;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(t){emitNode(e,"onopennamespace",{prefix:t,uri:n.ns[t]})});for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o],c=a[0],u=a[1],l=qname(c,!0),h=l.prefix,f=l.local,p=""===h?"":n.ns[h]||"",d={name:c,value:u,prefix:h,local:f,uri:p};h&&"xmlns"!==h&&!p&&(strictFail(e,"Unbound namespace prefix: "+JSON.stringify(h)),d.uri=h),e.tag.attributes[c]=d,emitNode(e,"onattribute",d)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),emitNode(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=$.TEXT:e.state=$.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function closeTag(e){if(!e.tagName)return strictFail(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=$.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=$.SCRIPT);emitNode(e,"onscript",e.script),e.script=""}var t=e.tags.length,n=e.tagName;e.strict||(n=n[e.looseCase]());for(var r=n;t--;){var i=e.tags[t];if(i.name===r)break;strictFail(e,"Unexpected close tag")}if(t<0)return strictFail(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=$.TEXT);e.tagName=n;for(var o=e.tags.length;o-- >t;){var s=e.tag=e.tags.pop();e.tagName=e.tag.name,emitNode(e,"onclosetag",e.tagName);var a={};for(var c in s.ns)a[c]=s.ns[c];var u=e.tags[e.tags.length-1]||e;e.opt.xmlns&&s.ns!==u.ns&&Object.keys(s.ns).forEach(function(t){var n=s.ns[t];emitNode(e,"onclosenamespace",{prefix:t,uri:n})})}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=$.TEXT}function parseEntity(e){var t,n=e.entity,r=n.toLowerCase(),i="";return e.ENTITIES[n]?e.ENTITIES[n]:e.ENTITIES[r]?e.ENTITIES[r]:(n=r,"#"===n.charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),t=parseInt(n,16),i=t.toString(16)):(n=n.slice(1),t=parseInt(n,10),i=t.toString(10))),n=n.replace(/^0+/,""),i.toLowerCase()!==n?(strictFail(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function beginWhiteSpace(e,t){"<"===t?(e.state=$.OPEN_WAKA,e.startTagPosition=e.position):not(s,t)&&(strictFail(e,"Non-whitespace before first tag."),e.textNode=t,e.state=$.TEXT)}function charAt(e,t){var n="";return t<e.length&&(n=e.charAt(t)),n}function write(e){var t=this;if(this.error)throw this.error;if(t.closed)return error(t,"Cannot write after close. Assign an onready handler.");if(null===e)return end(t);"object"==typeof e&&(e=e.toString());for(var n=0,r="";;){if(r=charAt(e,n++),t.c=r,!r)break;switch(t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++),t.state){case $.BEGIN:if(t.state=$.BEGIN_WHITESPACE,"\ufeff"===r)continue;beginWhiteSpace(t,r);continue;case $.BEGIN_WHITESPACE:beginWhiteSpace(t,r);continue;case $.TEXT:if(t.sawRoot&&!t.closedRoot){for(var i=n-1;r&&"<"!==r&&"&"!==r;)r=charAt(e,n++),r&&t.trackPosition&&(t.position++,"\n"===r?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(i,n-1)}"<"!==r||t.sawRoot&&t.closedRoot&&!t.strict?(!not(s,r)||t.sawRoot&&!t.closedRoot||strictFail(t,"Text data outside of root node."),"&"===r?t.state=$.TEXT_ENTITY:t.textNode+=r):(t.state=$.OPEN_WAKA,t.startTagPosition=t.position);continue;case $.SCRIPT:"<"===r?t.state=$.SCRIPT_ENDING:t.script+=r;continue;case $.SCRIPT_ENDING:"/"===r?t.state=$.CLOSE_TAG:(t.script+="<"+r,t.state=$.SCRIPT);continue;case $.OPEN_WAKA:if("!"===r)t.state=$.SGML_DECL,t.sgmlDecl="";else if(is(s,r));else if(is(g,r))t.state=$.OPEN_TAG,t.tagName=r;else if("/"===r)t.state=$.CLOSE_TAG,t.tagName="";else if("?"===r)t.state=$.PROC_INST,t.procInstName=t.procInstBody="";else{if(strictFail(t,"Unencoded <"),t.startTagPosition+1<t.position){var o=t.position-t.startTagPosition;r=new Array(o).join(" ")+r}t.textNode+="<"+r,t.state=$.TEXT}continue;case $.SGML_DECL:(t.sgmlDecl+r).toUpperCase()===h?(emitNode(t,"onopencdata"),t.state=$.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+r==="--"?(t.state=$.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+r).toUpperCase()===f?(t.state=$.DOCTYPE,(t.doctype||t.sawRoot)&&strictFail(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===r?(emitNode(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=$.TEXT):is(u,r)?(t.state=$.SGML_DECL_QUOTED,t.sgmlDecl+=r):t.sgmlDecl+=r;continue;case $.SGML_DECL_QUOTED:r===t.q&&(t.state=$.SGML_DECL,t.q=""),t.sgmlDecl+=r;continue;case $.DOCTYPE:">"===r?(t.state=$.TEXT,emitNode(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=r,"["===r?t.state=$.DOCTYPE_DTD:is(u,r)&&(t.state=$.DOCTYPE_QUOTED,t.q=r));continue;case $.DOCTYPE_QUOTED:t.doctype+=r,r===t.q&&(t.q="",t.state=$.DOCTYPE);continue;case $.DOCTYPE_DTD:t.doctype+=r,"]"===r?t.state=$.DOCTYPE:is(u,r)&&(t.state=$.DOCTYPE_DTD_QUOTED,t.q=r);continue;case $.DOCTYPE_DTD_QUOTED:t.doctype+=r,r===t.q&&(t.state=$.DOCTYPE_DTD,t.q="");continue;case $.COMMENT:"-"===r?t.state=$.COMMENT_ENDING:t.comment+=r;continue;case $.COMMENT_ENDING:"-"===r?(t.state=$.COMMENT_ENDED,t.comment=textopts(t.opt,t.comment),t.comment&&emitNode(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+r,t.state=$.COMMENT);continue;case $.COMMENT_ENDED:">"!==r?(strictFail(t,"Malformed comment"),t.comment+="--"+r,t.state=$.COMMENT):t.state=$.TEXT;continue;case $.CDATA:"]"===r?t.state=$.CDATA_ENDING:t.cdata+=r;continue;case $.CDATA_ENDING:"]"===r?t.state=$.CDATA_ENDING_2:(t.cdata+="]"+r,t.state=$.CDATA);continue;case $.CDATA_ENDING_2:">"===r?(t.cdata&&emitNode(t,"oncdata",t.cdata),emitNode(t,"onclosecdata"),t.cdata="",t.state=$.TEXT):"]"===r?t.cdata+="]":(t.cdata+="]]"+r,t.state=$.CDATA);continue;case $.PROC_INST:"?"===r?t.state=$.PROC_INST_ENDING:is(s,r)?t.state=$.PROC_INST_BODY:t.procInstName+=r;continue;case $.PROC_INST_BODY:if(!t.procInstBody&&is(s,r))continue;"?"===r?t.state=$.PROC_INST_ENDING:t.procInstBody+=r;continue;case $.PROC_INST_ENDING:">"===r?(emitNode(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=$.TEXT):(t.procInstBody+="?"+r,t.state=$.PROC_INST_BODY);continue;case $.OPEN_TAG:is(v,r)?t.tagName+=r:(newTag(t),">"===r?openTag(t):"/"===r?t.state=$.OPEN_TAG_SLASH:(not(s,r)&&strictFail(t,"Invalid character in tag name"),t.state=$.ATTRIB));continue;case $.OPEN_TAG_SLASH:">"===r?(openTag(t,!0),closeTag(t)):(strictFail(t,"Forward-slash in opening tag not followed by >"),t.state=$.ATTRIB);continue;case $.ATTRIB:if(is(s,r))continue;">"===r?openTag(t):"/"===r?t.state=$.OPEN_TAG_SLASH:is(g,r)?(t.attribName=r,t.attribValue="",t.state=$.ATTRIB_NAME):strictFail(t,"Invalid attribute name");continue;case $.ATTRIB_NAME:"="===r?t.state=$.ATTRIB_VALUE:">"===r?(strictFail(t,"Attribute without value"),t.attribValue=t.attribName,attrib(t),openTag(t)):is(s,r)?t.state=$.ATTRIB_NAME_SAW_WHITE:is(v,r)?t.attribName+=r:strictFail(t,"Invalid attribute name");continue;case $.ATTRIB_NAME_SAW_WHITE:if("="===r)t.state=$.ATTRIB_VALUE;else{if(is(s,r))continue;strictFail(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",emitNode(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===r?openTag(t):is(g,r)?(t.attribName=r,t.state=$.ATTRIB_NAME):(strictFail(t,"Invalid attribute name"),t.state=$.ATTRIB)}continue;case $.ATTRIB_VALUE:if(is(s,r))continue;is(u,r)?(t.q=r,t.state=$.ATTRIB_VALUE_QUOTED):(strictFail(t,"Unquoted attribute value"),t.state=$.ATTRIB_VALUE_UNQUOTED,t.attribValue=r);continue;case $.ATTRIB_VALUE_QUOTED:if(r!==t.q){"&"===r?t.state=$.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=r;continue}attrib(t),t.q="",t.state=$.ATTRIB_VALUE_CLOSED;continue;case $.ATTRIB_VALUE_CLOSED:is(s,r)?t.state=$.ATTRIB:">"===r?openTag(t):"/"===r?t.state=$.OPEN_TAG_SLASH:is(g,r)?(strictFail(t,"No whitespace between attributes"),t.attribName=r,t.attribValue="",t.state=$.ATTRIB_NAME):strictFail(t,"Invalid attribute name");continue;case $.ATTRIB_VALUE_UNQUOTED:if(not(l,r)){"&"===r?t.state=$.ATTRIB_VALUE_ENTITY_U:t.attribValue+=r;continue}attrib(t),">"===r?openTag(t):t.state=$.ATTRIB;continue;case $.CLOSE_TAG:if(t.tagName)">"===r?closeTag(t):is(v,r)?t.tagName+=r:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=$.SCRIPT):(not(s,r)&&strictFail(t,"Invalid tagname in closing tag"),t.state=$.CLOSE_TAG_SAW_WHITE);else{if(is(s,r))continue;not(g,r)?t.script?(t.script+="</"+r,t.state=$.SCRIPT):strictFail(t,"Invalid tagname in closing tag."):t.tagName=r}continue;case $.CLOSE_TAG_SAW_WHITE:if(is(s,r))continue;">"===r?closeTag(t):strictFail(t,"Invalid characters in closing tag");continue;case $.TEXT_ENTITY:case $.ATTRIB_VALUE_ENTITY_Q:case $.ATTRIB_VALUE_ENTITY_U:var a,c;switch(t.state){case $.TEXT_ENTITY:a=$.TEXT,c="textNode";break;case $.ATTRIB_VALUE_ENTITY_Q:a=$.ATTRIB_VALUE_QUOTED,c="attribValue";break;case $.ATTRIB_VALUE_ENTITY_U:a=$.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===r?(t[c]+=parseEntity(t),t.entity="",t.state=a):is(t.entity.length?b:y,r)?t.entity+=r:(strictFail(t,"Invalid character in entity name"),t[c]+="&"+t.entity+r,t.entity="",t.state=a);continue;default:throw new Error(t,"Unknown state: "+t.state)}}return t.position>=t.bufferCheckPosition&&checkBufferLength(t),t}t.parser=function(e,t){return new SAXParser(e,t)},t.SAXParser=SAXParser,t.SAXStream=SAXStream,t.createStream=createStream,t.MAX_BUFFER_LENGTH=65536;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function F(){}F.prototype=e;var t=new F;return t}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),SAXParser.prototype={end:function(){end(this)},write:write,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){flushBuffers(this)}};var i;try{i=n(93).Stream}catch(e){i=function(){}}var o=t.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});SAXStream.prototype=Object.create(i.prototype,{constructor:{value:SAXStream}}),SAXStream.prototype.write=function(t){if("function"==typeof e&&"function"==typeof e.isBuffer&&e.isBuffer(t)){if(!this._decoder){var r=n(103).StringDecoder;this._decoder=new r("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},SAXStream.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},SAXStream.prototype.on=function(e,t){var n=this;return n._parser["on"+e]||o.indexOf(e)===-1||(n._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),n.emit.apply(n,t)}),i.prototype.on.call(n,e,t)};var s="\r\n\t ",a="0124356789",c="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u="'\"",l=s+">",h="[CDATA[",f="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",m={xml:p,xmlns:d};s=charClass(s),a=charClass(a),c=charClass(c);var g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,y=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;u=charClass(u),l=charClass(l);var $=0;t.STATE={BEGIN:$++,BEGIN_WHITESPACE:$++,TEXT:$++,TEXT_ENTITY:$++,OPEN_WAKA:$++,SGML_DECL:$++,SGML_DECL_QUOTED:$++,DOCTYPE:$++,DOCTYPE_QUOTED:$++,DOCTYPE_DTD:$++,DOCTYPE_DTD_QUOTED:$++,COMMENT_STARTING:$++,COMMENT:$++,COMMENT_ENDING:$++,COMMENT_ENDED:$++,CDATA:$++,CDATA_ENDING:$++,CDATA_ENDING_2:$++,PROC_INST:$++,PROC_INST_BODY:$++,PROC_INST_ENDING:$++,OPEN_TAG:$++,OPEN_TAG_SLASH:$++,ATTRIB:$++,ATTRIB_NAME:$++,ATTRIB_NAME_SAW_WHITE:$++,ATTRIB_VALUE:$++,ATTRIB_VALUE_QUOTED:$++,ATTRIB_VALUE_CLOSED:$++,ATTRIB_VALUE_UNQUOTED:$++,ATTRIB_VALUE_ENTITY_Q:$++,ATTRIB_VALUE_ENTITY_U:$++,CLOSE_TAG:$++,CLOSE_TAG_SAW_WHITE:$++,SCRIPT:$++,SCRIPT_ENDING:$++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r});for(var w in t.STATE)t.STATE[t.STATE[w]]=w;$=t.STATE,String.fromCodePoint||!function(){var e=String.fromCharCode,t=Math.floor,n=function(){var n,r,i=16384,o=[],s=-1,a=arguments.length;if(!a)return"";for(var c="";++s<a;){var u=Number(arguments[s]);if(!isFinite(u)||u<0||u>1114111||t(u)!==u)throw RangeError("Invalid code point: "+u);u<=65535?o.push(u):(u-=65536,n=(u>>10)+55296,r=u%1024+56320,o.push(n,r)),(s+1===a||o.length>i)&&(c+=e.apply(null,o),o.length=0)}return c};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:n,configurable:!0,writable:!0}):String.fromCodePoint=n}()}(t)}).call(t,n(89).Buffer)},function(e,t,n){(function(e,r){"use strict";function typedArraySupport(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}function kMaxLength(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,n){if(kMaxLength()<n)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n),t.__proto__=e.prototype):(null===t&&(t=new e(n)),t.length=n),t}function e(t,n,r){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e(t,n,r);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}return from(this,t,n,r)}function from(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');
return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?fromArrayBuffer(e,t,n,r):"string"==typeof t?fromString(e,t,n):fromObject(e,t)}function assertSize(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function alloc(e,t,n,r){return assertSize(t),t<=0?createBuffer(e,t):void 0!==n?"string"==typeof r?createBuffer(e,t).fill(n,r):createBuffer(e,t).fill(n):createBuffer(e,t)}function allocUnsafe(t,n){if(assertSize(n),t=createBuffer(t,n<0?0:0|checked(n)),!e.TYPED_ARRAY_SUPPORT)for(var r=0;r<n;++r)t[r]=0;return t}function fromString(t,n,r){if("string"==typeof r&&""!==r||(r="utf8"),!e.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(n,r);t=createBuffer(t,i);var o=t.write(n,r);return o!==i&&(t=t.slice(0,o)),t}function fromArrayLike(e,t){var n=t.length<0?0:0|checked(t.length);e=createBuffer(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function fromArrayBuffer(t,n,r,i){if(n.byteLength,r<0||n.byteLength<r)throw new RangeError("'offset' is out of bounds");if(n.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===r&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,r):new Uint8Array(n,r,i),e.TYPED_ARRAY_SUPPORT?(t=n,t.__proto__=e.prototype):t=fromArrayLike(t,n),t}function fromObject(t,n){if(e.isBuffer(n)){var r=0|checked(n.length);return t=createBuffer(t,r),0===t.length?t:(n.copy(t,0,0,r),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||isnan(n.length)?createBuffer(t,0):fromArrayLike(t,n);if("Buffer"===n.type&&s(n.data))return fromArrayLike(t,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function checked(e){if(e>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|e}function SlowBuffer(t){return+t!=t&&(t=0),e.alloc(+t)}function byteLength(t,n){if(e.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(i)return utf8ToBytes(t).length;n=(""+n).toLowerCase(),i=!0}}function slowToString(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,t>>>=0,n<=t)return"";for(e||(e="utf8");;)switch(e){case"hex":return hexSlice(this,t,n);case"utf8":case"utf-8":return utf8Slice(this,t,n);case"ascii":return asciiSlice(this,t,n);case"latin1":case"binary":return latin1Slice(this,t,n);case"base64":return base64Slice(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function swap(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function bidirectionalIndexOf(t,n,r,i,o){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof n&&(n=e.from(n,i)),e.isBuffer(n))return 0===n.length?-1:arrayIndexOf(t,n,r,i,o);if("number"==typeof n)return n&=255,e.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,r):Uint8Array.prototype.lastIndexOf.call(t,n,r):arrayIndexOf(t,[n],r,i,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,n,r,i){function read(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}var o=1,s=e.length,a=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,a/=2,n/=2}var c;if(i){var u=-1;for(c=n;c<s;c++)if(read(e,c)===read(t,u===-1?0:c-u)){if(u===-1&&(u=c),c-u+1===a)return u*o}else u!==-1&&(c-=c-u),u=-1}else for(n+a>s&&(n=s-a),c=n;c>=0;c--){for(var l=!0,h=0;h<a;h++)if(read(e,c+h)!==read(t,h)){l=!1;break}if(l)return c}return-1}function hexWrite(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function utf8Write(e,t,n,r){return blitBuffer(utf8ToBytes(t,e.length-n),e,n,r)}function asciiWrite(e,t,n,r){return blitBuffer(asciiToBytes(t),e,n,r)}function latin1Write(e,t,n,r){return asciiWrite(e,t,n,r)}function base64Write(e,t,n,r){return blitBuffer(base64ToBytes(t),e,n,r)}function ucs2Write(e,t,n,r){return blitBuffer(utf16leToBytes(t,e.length-n),e,n,r)}function base64Slice(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function utf8Slice(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var c,u,l,h;switch(a){case 1:o<128&&(s=o);break;case 2:c=e[i+1],128===(192&c)&&(h=(31&o)<<6|63&c,h>127&&(s=h));break;case 3:c=e[i+1],u=e[i+2],128===(192&c)&&128===(192&u)&&(h=(15&o)<<12|(63&c)<<6|63&u,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:c=e[i+1],u=e[i+2],l=e[i+3],128===(192&c)&&128===(192&u)&&128===(192&l)&&(h=(15&o)<<18|(63&c)<<12|(63&u)<<6|63&l,h>65535&&h<1114112&&(s=h))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),i+=a}return decodeCodePointsArray(r)}function decodeCodePointsArray(e){var t=e.length;if(t<=a)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=a));return n}function asciiSlice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function latin1Slice(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function hexSlice(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=toHex(e[o]);return i}function utf16leSlice(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function checkOffset(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,n,r,i,o,s){if(!e.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function objectWriteUInt32(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function checkIEEE754(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function writeFloat(e,t,n,r,i){return i||checkIEEE754(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),o.write(e,t,n,r,23,4),n+4}function writeDouble(e,t,n,r,i){return i||checkIEEE754(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),o.write(e,t,n,r,52,8),n+8}function base64clean(e){if(e=stringtrim(e).replace(c,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function stringtrim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function toHex(e){return e<16?"0"+e.toString(16):e.toString(16)}function utf8ToBytes(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=(i-55296<<10|n-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function asciiToBytes(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function utf16leToBytes(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function base64ToBytes(e){return i.toByteArray(base64clean(e))}function blitBuffer(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function isnan(e){return e!==e}var i=n(90),o=n(91),s=n(92);t.Buffer=e,t.SlowBuffer=SlowBuffer,t.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:typedArraySupport(),t.kMaxLength=kMaxLength(),e.poolSize=8192,e._augment=function(t){return t.__proto__=e.prototype,t},e.from=function(e,t,n){return from(null,e,t,n)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function(e,t,n){return alloc(null,e,t,n)},e.allocUnsafe=function(e){return allocUnsafe(null,e)},e.allocUnsafeSlow=function(e){return allocUnsafe(null,e)},e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var r=t.length,i=n.length,o=0,s=Math.min(r,i);o<s;++o)if(t[o]!==n[o]){r=t[o],i=n[o];break}return r<i?-1:i<r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return e.alloc(0);var r;if(void 0===n)for(n=0,r=0;r<t.length;++r)n+=t[r].length;var i=e.allocUnsafe(n),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!e.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i},e.byteLength=byteLength,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},e.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},e.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t,n,r,i,o){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||r>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=r)return 0;if(i>=o)return-1;if(n>=r)return 1;if(n>>>=0,r>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var s=o-i,a=r-n,c=Math.min(s,a),u=this.slice(i,o),l=t.slice(n,r),h=0;h<c;++h)if(u[h]!==l[h]){s=u[h],a=l[h];break}return s<a?-1:a<s?1:0},e.prototype.includes=function(e,t,n){return this.indexOf(e,t,n)!==-1},e.prototype.indexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!0)},e.prototype.lastIndexOf=function(e,t,n){return bidirectionalIndexOf(this,e,t,n,!1)},e.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return hexWrite(this,e,t,n);case"utf8":case"utf-8":return utf8Write(this,e,t,n);case"ascii":return asciiWrite(this,e,t,n);case"latin1":case"binary":return latin1Write(this,e,t,n);case"base64":return base64Write(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var a=4096;e.prototype.slice=function(t,n){var r=this.length;t=~~t,n=void 0===n?r:~~n,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),n<0?(n+=r,n<0&&(n=0)):n>r&&(n=r),n<t&&(n=t);var i;if(e.TYPED_ARRAY_SUPPORT)i=this.subarray(t,n),i.__proto__=e.prototype;else{var o=n-t;i=new e(o,void 0);for(var s=0;s<o;++s)i[s]=this[s+t]}return i},e.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},e.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},e.prototype.readUInt8=function(e,t){return t||checkOffset(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},e.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||checkOffset(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||checkOffset(e,1,this.length),128&this[e]?(255-this[e]+1)*-1:this[e]},e.prototype.readInt16LE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||checkOffset(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;checkInt(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t|=0,n|=0,!r){var i=Math.pow(2,8*n)-1;checkInt(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},e.prototype.writeUInt8=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):objectWriteUInt16(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):objectWriteUInt16(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):objectWriteUInt32(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):objectWriteUInt32(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},e.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);checkInt(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},e.prototype.writeInt8=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):objectWriteUInt16(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):objectWriteUInt16(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):objectWriteUInt32(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,r){return t=+t,n|=0,r||checkInt(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):objectWriteUInt32(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return writeFloat(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return writeFloat(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return writeDouble(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return writeDouble(this,e,t,!1,n)},e.prototype.copy=function(t,n,r,i){if(r||(r=0),i||0===i||(i=this.length),n>=t.length&&(n=t.length),n||(n=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-n<i-r&&(i=t.length-n+r);var o,s=i-r;if(this===t&&r<n&&n<i)for(o=s-1;o>=0;--o)t[o+n]=this[o+r];else if(s<1e3||!e.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)t[o+n]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),n);return s},e.prototype.fill=function(t,n,r,i){if("string"==typeof t){if("string"==typeof n?(i=n,n=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!e.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<r)throw new RangeError("Out of range index");if(r<=n)return this;n>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var s;if("number"==typeof t)for(s=n;s<r;++s)this[s]=t;else{var a=e.isBuffer(t)?t:utf8ToBytes(new e(t,i).toString()),c=a.length;for(s=0;s<r-n;++s)this[s+n]=a[s%c]}return this};var c=/[^+\/0-9A-Za-z-_]/g}).call(t,n(89).Buffer,function(){return this}())},function(e,t){"use strict";function placeHoldersCount(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function byteLength(e){return 3*e.length/4-placeHoldersCount(e)}function toByteArray(e){var t,n,o,s,a,c,u=e.length;a=placeHoldersCount(e),c=new i(3*u/4-a),o=a>0?u-4:u;var l=0;for(t=0,n=0;t<o;t+=4,n+=3)s=r[e.charCodeAt(t)]<<18|r[e.charCodeAt(t+1)]<<12|r[e.charCodeAt(t+2)]<<6|r[e.charCodeAt(t+3)],c[l++]=s>>16&255,c[l++]=s>>8&255,c[l++]=255&s;return 2===a?(s=r[e.charCodeAt(t)]<<2|r[e.charCodeAt(t+1)]>>4,c[l++]=255&s):1===a&&(s=r[e.charCodeAt(t)]<<10|r[e.charCodeAt(t+1)]<<4|r[e.charCodeAt(t+2)]>>2,c[l++]=s>>8&255,c[l++]=255&s),c}function tripletToBase64(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function encodeChunk(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16)+(e[o+1]<<8)+e[o+2],i.push(tripletToBase64(r));return i.join("")}function fromByteArray(e){for(var t,r=e.length,i=r%3,o="",s=[],a=16383,c=0,u=r-i;c<u;c+=a)s.push(encodeChunk(e,c,c+a>u?u:c+a));return 1===i?(t=e[r-1],o+=n[t>>2],o+=n[t<<4&63],o+="=="):2===i&&(t=(e[r-2]<<8)+e[r-1],o+=n[t>>10],o+=n[t>>4&63],o+=n[t<<2&63],o+="="),s.push(o),s.join("")}t.byteLength=byteLength,t.toByteArray=toByteArray,t.fromByteArray=fromByteArray;for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?i-1:0,f=n?-1:1,p=e[t+h];for(h+=f,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+h],h+=f,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+h],h+=f,l-=8);if(0===o)o=1-u;else{if(o===c)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,r),o-=u}return(p?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,c,u=8*o-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+h>=1?f/c:f*Math.pow(2,1-h),t*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(t*c-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;e[n+p]=255&s,p+=d,s/=256,u-=8);e[n+p-d]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){function Stream(){r.call(this)}e.exports=Stream;var r=n(94).EventEmitter,i=n(95);i(Stream,r),Stream.Readable=n(96),Stream.Writable=n(106),Stream.Duplex=n(107),Stream.Transform=n(108),Stream.PassThrough=n(109),Stream.Stream=Stream,Stream.prototype.pipe=function(e,t){function ondata(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function ondrain(){n.readable&&n.resume&&n.resume()}function onend(){i||(i=!0,e.end())}function onclose(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function onerror(e){if(cleanup(),0===r.listenerCount(this,"error"))throw e}function cleanup(){n.removeListener("data",ondata),e.removeListener("drain",ondrain),n.removeListener("end",onend),n.removeListener("close",onclose),n.removeListener("error",onerror),e.removeListener("error",onerror),n.removeListener("end",cleanup),n.removeListener("close",cleanup),e.removeListener("close",cleanup)}var n=this;n.on("data",ondata),e.on("drain",ondrain),e._isStdio||t&&t.end===!1||(n.on("end",onend),n.on("close",onclose));var i=!1;return n.on("error",onerror),e.on("error",onerror),n.on("end",cleanup),n.on("close",cleanup),e.on("close",cleanup),e.emit("pipe",n),e}},function(e,t){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"==typeof e&&null!==e}function isUndefined(e){return void 0===e}e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var a=new Error('Uncaught, unspecified "error" event. ('+t+")");throw a.context=t,a}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,o=0;o<r;o++)s[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o;if(!isFunction(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||isFunction(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){(function(r){t=e.exports=n(97),t.Stream=n(93),t.Readable=t,t.Writable=n(102),t.Duplex=n(101),t.Transform=n(104),t.PassThrough=n(105),r.browser||"disable"!==r.env.READABLE_STREAM||(e.exports=n(93))}).call(t,n(72))},function(e,t,n){(function(t){function ReadableState(e,t){var r=n(101);e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=n(103).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function Readable(e){n(101);return this instanceof Readable?(this._readableState=new ReadableState(e,this),this.readable=!0,void s.call(this)):new Readable(e)}function readableAddChunk(e,t,n,r,i){var o=chunkInvalid(t,n);if(o)e.emit("error",o);else if(a.isNullOrUndefined(n))t.reading=!1,t.ended||onEofChunk(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||r||(n=t.decoder.write(n)),i||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&emitReadable(e)),maybeReadMore(e,t);else i||(t.reading=!1);return needMoreData(t)}function needMoreData(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function roundUpToNextPowerOf2(e){if(e>=l)e=l;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}function howMuchToRead(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||a.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=roundUpToNextPowerOf2(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function chunkInvalid(e,t){var n=null;return a.isBuffer(t)||a.isString(t)||a.isNullOrUndefined(t)||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function onEofChunk(e,t){if(t.decoder&&!t.ended){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,emitReadable(e)}function emitReadable(e){var n=e._readableState;n.needReadable=!1,n.emittedReadable||(u("emitReadable",n.flowing),n.emittedReadable=!0,n.sync?t.nextTick(function(){emitReadable_(e)}):emitReadable_(e))}function emitReadable_(e){u("emit readable"),e.emit("readable"),flow(e)}function maybeReadMore(e,n){n.readingMore||(n.readingMore=!0,t.nextTick(function(){maybeReadMore_(e,n)}))}function maybeReadMore_(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(u("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function pipeOnDrain(e){return function(){var t=e._readableState;u("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o.listenerCount(e,"data")&&(t.flowing=!0,flow(e))}}function resume(e,n){
n.resumeScheduled||(n.resumeScheduled=!0,t.nextTick(function(){resume_(e,n)}))}function resume_(e,t){t.resumeScheduled=!1,e.emit("resume"),flow(e),t.flowing&&!t.reading&&e.read(0)}function flow(e){var t=e._readableState;if(u("flow",t.flowing),t.flowing)do var n=e.read();while(null!==n&&t.flowing)}function fromList(e,t){var n,r=t.buffer,o=t.length,s=!!t.decoder,a=!!t.objectMode;if(0===r.length)return null;if(0===o)n=null;else if(a)n=r.shift();else if(!e||e>=o)n=s?r.join(""):i.concat(r,o),r.length=0;else if(e<r[0].length){var c=r[0];n=c.slice(0,e),r[0]=c.slice(e)}else if(e===r[0].length)n=r.shift();else{n=s?"":new i(e);for(var u=0,l=0,h=r.length;l<h&&u<e;l++){var c=r[0],f=Math.min(e-u,c.length);s?n+=c.slice(0,f):c.copy(n,u,0,f),f<c.length?r[0]=c.slice(f):r.shift(),u+=f}}return n}function endReadable(e){var n=e._readableState;if(n.length>0)throw new Error("endReadable called on non-empty stream");n.endEmitted||(n.ended=!0,t.nextTick(function(){n.endEmitted||0!==n.length||(n.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function forEach(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function indexOf(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}e.exports=Readable;var r=n(98),i=n(89).Buffer;Readable.ReadableState=ReadableState;var o=n(94).EventEmitter;o.listenerCount||(o.listenerCount=function(e,t){return e.listeners(t).length});var s=n(93),a=n(99);a.inherits=n(95);var c,u=n(100);u=u&&u.debuglog?u.debuglog("stream"):function(){},a.inherits(Readable,s),Readable.prototype.push=function(e,t){var n=this._readableState;return a.isString(e)&&!n.objectMode&&(t=t||n.defaultEncoding,t!==n.encoding&&(e=new i(e,t),t="")),readableAddChunk(this,n,e,t,!1)},Readable.prototype.unshift=function(e){var t=this._readableState;return readableAddChunk(this,t,e,"",!0)},Readable.prototype.setEncoding=function(e){return c||(c=n(103).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e,this};var l=8388608;Readable.prototype.read=function(e){u("read",e);var t=this._readableState,n=e;if((!a.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return u("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?endReadable(this):emitReadable(this),null;if(e=howMuchToRead(e,t),0===e&&t.ended)return 0===t.length&&endReadable(this),null;var r=t.needReadable;u("need readable",r),(0===t.length||t.length-e<t.highWaterMark)&&(r=!0,u("length less than watermark",r)),(t.ended||t.reading)&&(r=!1,u("reading or ended",r)),r&&(u("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),r&&!t.reading&&(e=howMuchToRead(n,t));var i;return i=e>0?fromList(e,t):null,a.isNull(i)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),n!==e&&t.ended&&0===t.length&&endReadable(this),a.isNull(i)||this.emit("data",i),i},Readable.prototype._read=function(e){this.emit("error",new Error("not implemented"))},Readable.prototype.pipe=function(e,n){function onunpipe(e){u("onunpipe"),e===i&&cleanup()}function onend(){u("onend"),e.end()}function cleanup(){u("cleanup"),e.removeListener("close",onclose),e.removeListener("finish",onfinish),e.removeListener("drain",l),e.removeListener("error",onerror),e.removeListener("unpipe",onunpipe),i.removeListener("end",onend),i.removeListener("end",cleanup),i.removeListener("data",ondata),!s.awaitDrain||e._writableState&&!e._writableState.needDrain||l()}function ondata(t){u("ondata");var n=e.write(t);!1===n&&(u("false write response, pause",i._readableState.awaitDrain),i._readableState.awaitDrain++,i.pause())}function onerror(t){u("onerror",t),unpipe(),e.removeListener("error",onerror),0===o.listenerCount(e,"error")&&e.emit("error",t)}function onclose(){e.removeListener("finish",onfinish),unpipe()}function onfinish(){u("onfinish"),e.removeListener("close",onclose),unpipe()}function unpipe(){u("unpipe"),i.unpipe(e)}var i=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,u("pipe count=%d opts=%j",s.pipesCount,n);var a=(!n||n.end!==!1)&&e!==t.stdout&&e!==t.stderr,c=a?onend:cleanup;s.endEmitted?t.nextTick(c):i.once("end",c),e.on("unpipe",onunpipe);var l=pipeOnDrain(i);return e.on("drain",l),i.on("data",ondata),e._events&&e._events.error?r(e._events.error)?e._events.error.unshift(onerror):e._events.error=[onerror,e._events.error]:e.on("error",onerror),e.once("close",onclose),e.once("finish",onfinish),e.emit("pipe",i),s.flowing||(u("pipe resume"),i.resume()),e},Readable.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=indexOf(t.pipes,e);return i===-1?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},Readable.prototype.on=function(e,n){var r=s.prototype.on.call(this,e,n);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&emitReadable(this,i);else{var o=this;t.nextTick(function(){u("readable nexttick read 0"),o.read(0)})}}return r},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var e=this._readableState;return e.flowing||(u("resume"),e.flowing=!0,e.reading||(u("resume read 0"),this.read(0)),resume(this,e)),this},Readable.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;e.on("end",function(){if(u("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(i){if(u("wrapped data"),t.decoder&&(i=t.decoder.write(i)),i&&(t.objectMode||i.length)){var o=r.push(i);o||(n=!0,e.pause())}});for(var i in e)a.isFunction(e[i])&&a.isUndefined(this[i])&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return forEach(o,function(t){e.on(t,r.emit.bind(r,t))}),r._read=function(t){u("wrapped _read",t),n&&(n=!1,e.resume())},r},Readable._fromList=fromList}).call(t,n(72))},26,function(e,t,n){(function(e){function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===objectToString(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return"[object Date]"===objectToString(e)}function isError(e){return"[object Error]"===objectToString(e)||e instanceof Error}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}t.isArray=isArray,t.isBoolean=isBoolean,t.isNull=isNull,t.isNullOrUndefined=isNullOrUndefined,t.isNumber=isNumber,t.isString=isString,t.isSymbol=isSymbol,t.isUndefined=isUndefined,t.isRegExp=isRegExp,t.isObject=isObject,t.isDate=isDate,t.isError=isError,t.isFunction=isFunction,t.isPrimitive=isPrimitive,t.isBuffer=e.isBuffer}).call(t,n(89).Buffer)},53,function(e,t,n){(function(t){function Duplex(e){return this instanceof Duplex?(o.call(this,e),s.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",onend)):new Duplex(e)}function onend(){this.allowHalfOpen||this._writableState.ended||t.nextTick(this.end.bind(this))}function forEach(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}e.exports=Duplex;var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t},i=n(99);i.inherits=n(95);var o=n(97),s=n(102);i.inherits(Duplex,o),forEach(r(s.prototype),function(e){Duplex.prototype[e]||(Duplex.prototype[e]=s.prototype[e])})}).call(t,n(72))},function(e,t,n){(function(t){function WriteReq(e,t,n){this.chunk=e,this.encoding=t,this.callback=n}function WritableState(e,t){var r=n(101);e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){onwrite(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function Writable(e){var t=n(101);return this instanceof Writable||this instanceof t?(this._writableState=new WritableState(e,this),this.writable=!0,void o.call(this)):new Writable(e)}function writeAfterEnd(e,n,r){var i=new Error("write after end");e.emit("error",i),t.nextTick(function(){r(i)})}function validChunk(e,n,r,o){var s=!0;if(!(i.isBuffer(r)||i.isString(r)||i.isNullOrUndefined(r)||n.objectMode)){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),t.nextTick(function(){o(a)}),s=!1}return s}function decodeChunk(e,t,n){return!e.objectMode&&e.decodeStrings!==!1&&i.isString(t)&&(t=new r(t,n)),t}function writeOrBuffer(e,t,n,r,o){n=decodeChunk(t,n,r),i.isBuffer(n)&&(r="buffer");var s=t.objectMode?1:n.length;t.length+=s;var a=t.length<t.highWaterMark;return a||(t.needDrain=!0),t.writing||t.corked?t.buffer.push(new WriteReq(n,r,o)):doWrite(e,t,!1,s,n,r,o),a}function doWrite(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function onwriteError(e,n,r,i,o){r?t.nextTick(function(){n.pendingcb--,o(i)}):(n.pendingcb--,o(i)),e._writableState.errorEmitted=!0,e.emit("error",i)}function onwriteStateUpdate(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function onwrite(e,n){var r=e._writableState,i=r.sync,o=r.writecb;if(onwriteStateUpdate(r),n)onwriteError(e,r,i,n,o);else{var s=needFinish(e,r);s||r.corked||r.bufferProcessing||!r.buffer.length||clearBuffer(e,r),i?t.nextTick(function(){afterWrite(e,r,s,o)}):afterWrite(e,r,s,o)}}function afterWrite(e,t,n,r){n||onwriteDrain(e,t),t.pendingcb--,r(),finishMaybe(e,t)}function onwriteDrain(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function clearBuffer(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var n=[],r=0;r<t.buffer.length;r++)n.push(t.buffer[r].callback);t.pendingcb++,doWrite(e,t,!0,t.length,t.buffer,"",function(e){for(var r=0;r<n.length;r++)t.pendingcb--,n[r](e)}),t.buffer=[]}else{for(var r=0;r<t.buffer.length;r++){var i=t.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,c=t.objectMode?1:o.length;if(doWrite(e,t,!1,c,o,s,a),t.writing){r++;break}}r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}t.bufferProcessing=!1}function needFinish(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function prefinish(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function finishMaybe(e,t){var n=needFinish(e,t);return n&&(0===t.pendingcb?(prefinish(e,t),t.finished=!0,e.emit("finish")):prefinish(e,t)),n}function endWritable(e,n,r){n.ending=!0,finishMaybe(e,n),r&&(n.finished?t.nextTick(r):e.once("finish",r)),n.ended=!0}e.exports=Writable;var r=n(89).Buffer;Writable.WritableState=WritableState;var i=n(99);i.inherits=n(95);var o=n(93);i.inherits(Writable,o),Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},Writable.prototype.write=function(e,t,n){var r=this._writableState,o=!1;return i.isFunction(t)&&(n=t,t=null),i.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),i.isFunction(n)||(n=function(){}),r.ended?writeAfterEnd(this,r,n):validChunk(this,r,e,n)&&(r.pendingcb++,o=writeOrBuffer(this,r,e,t,n)),o},Writable.prototype.cork=function(){var e=this._writableState;e.corked++},Writable.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||clearBuffer(this,e))},Writable.prototype._write=function(e,t,n){n(new Error("not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(e,t,n){var r=this._writableState;i.isFunction(e)?(n=e,e=null,t=null):i.isFunction(t)&&(n=t,t=null),i.isNullOrUndefined(e)||this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||endWritable(this,r,n)}}).call(t,n(72))},function(e,t,n){function assertEncoding(e){if(e&&!i(e))throw new Error("Unknown encoding: "+e)}function passThroughWrite(e){return e.toString(this.encoding)}function utf16DetectIncompleteChar(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function base64DetectIncompleteChar(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var r=n(89).Buffer,i=r.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},o=t.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),assertEncoding(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=utf16DetectIncompleteChar;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=base64DetectIncompleteChar;break;default:return void(this.write=passThroughWrite)}this.charBuffer=new r(6),this.charReceived=0,this.charLength=0};o.prototype.write=function(e){for(var t="";this.charLength;){var n=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";e=e.slice(n,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=t.charCodeAt(t.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,r=t.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},o.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var n=e[e.length-t];if(1==t&&n>>5==6){this.charLength=2;break}if(t<=2&&n>>4==14){this.charLength=3;break}if(t<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=t},o.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;t+=r.slice(0,n).toString(i)}return t}},function(e,t,n){function TransformState(e,t){this.afterTransform=function(e,n){return afterTransform(t,e,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function afterTransform(e,t,n){var r=e._transformState;r.transforming=!1;var o=r.writecb;if(!o)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,i.isNullOrUndefined(n)||e.push(n),o&&o(t);var s=e._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&e._read(s.highWaterMark)}function Transform(e){if(!(this instanceof Transform))return new Transform(e);r.call(this,e),this._transformState=new TransformState(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){i.isFunction(this._flush)?this._flush(function(e){done(t,e)}):done(t)})}function done(e,t){if(t)return e.emit("error",t);var n=e._writableState,r=e._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}e.exports=Transform;var r=n(101),i=n(99);i.inherits=n(95),i.inherits(Transform,r),Transform.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},Transform.prototype._transform=function(e,t,n){throw new Error("not implemented")},Transform.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Transform.prototype._read=function(e){var t=this._transformState;i.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t,n){function PassThrough(e){return this instanceof PassThrough?void r.call(this,e):new PassThrough(e)}e.exports=PassThrough;var r=n(104),i=n(99);i.inherits=n(95),i.inherits(PassThrough,r),PassThrough.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){e.exports=n(102)},function(e,t,n){e.exports=n(101)},function(e,t,n){e.exports=n(104)},function(e,t,n){e.exports=n(105)},function(e,t,n){(function(t){e.exports={sanitize:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")},copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){e in t&&"boolean"==typeof t[e]||(t[e]=!1)},ensureSpacesExists:function(e){"spaces"in e&&("number"==typeof e.spaces||"string"==typeof e.spaces)||(e.spaces=0)},ensureKeyExists:function(e,t){e+"Key"in t&&"string"==typeof t[e+"Key"]||(t[e+"Key"]=t.compact?"_"+e:e)},getCommandLineHelp:function(e,t,n){var r=t.reduce(function(e,t){return e+" <"+t.arg+">"},""),i="Usage: "+e+r+" [options]\n";return t.forEach(function(e){i+="  <"+e.arg+">"+Array(20-e.arg.length).join(" ")+e.desc+"\n"}),i+="\nOptions:\n",n.forEach(function(e){i+="  --"+e.arg+Array(20-e.arg.length).join(" ")+e.desc+"\n"}),i},mapCommandLineArgs:function(e,n){var r,i,o={},s=2;for(r=0;r<e.length&&(s<t.argv.length&&"-"!==t.argv[s].substr(0,1)&&"JASMINE_CONFIG_PATH=./jasmine.json"!==t.argv[s]);r+=1)o[e[r].option]=t.argv[s++];for(;s<t.argv.length;s+=1){for(i=0;i<n.length&&(n[i].alias!==t.argv[s].slice(1)&&n[i].arg!==t.argv[s].slice(2));i+=1);if(i<n.length)switch(n[i].type){case"file":case"string":case"number":s+1<t.argv.length&&(s+=1,o[n[i].option]="number"===n[i].type?Number(t.argv[s]):t.argv[s]);break;case"flag":o[n[i].option]=!0}}return o}}}).call(t,n(72))},function(e,t,n){function validateOptions(e){var t=r.copyOptions(e);return r.ensureSpacesExists(t),t}var r=n(110),i=n(87);e.exports=function(e,t){"use strict";var n,r,o,s;return n=validateOptions(t),r=i(e,n),s="compact"in n&&n.compact?"_parent":"parent",o="addParent"in n&&n.addParent?JSON.stringify(r,function(e,t){return e===s?"_":t},n.spaces):JSON.stringify(r,null,n.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}},function(e,t,n){function validateOptions(e){var t=r.copyOptions(e);return r.ensureFlagExists("ignoreDeclaration",t),r.ensureFlagExists("ignoreAttributes",t),r.ensureFlagExists("ignoreText",t),r.ensureFlagExists("ignoreComment",t),r.ensureFlagExists("ignoreCdata",t),r.ensureFlagExists("compact",t),r.ensureFlagExists("fullTagEmptyElement",t),r.ensureSpacesExists(t),"number"==typeof t.spaces&&(t.spaces=Array(t.spaces+1).join(" ")),r.ensureKeyExists("declaration",t),r.ensureKeyExists("attributes",t),r.ensureKeyExists("text",t),r.ensureKeyExists("comment",t),r.ensureKeyExists("cdata",t),r.ensureKeyExists("type",t),r.ensureKeyExists("name",t),r.ensureKeyExists("elements",t),t}function writeIndentation(e,t,n){return(!n&&e.spaces?"\n":"")+Array(t+1).join(e.spaces)}function writeAttributes(e){var t,n="";for(t in e)e.hasOwnProperty(t)&&(n+=" "+t+'="'+e[t]+'"');return n}function writeDeclaration(e,t){return"<?xml"+writeAttributes(e[t.attributesKey])+"?>"}function writeComment(e,t){return t.ignoreComment?"":"<!--"+e[t.commentKey]+"-->"}function writeCdata(e,t){return t.ignoreCdata?"":"<![CDATA["+e[t.cdataKey]+"]]>"}function writeText(e,t){return t.ignoreText?"":e[t.textKey].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function writeElement(e,t,n){var r="";return r+="<"+e.name,e[t.attributesKey]&&(r+=writeAttributes(e[t.attributesKey])),t.fullTagEmptyElement||e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&"preserve"===e[t.attributesKey]["xml:space"]?(r+=">",e[t.elementsKey]&&e[t.elementsKey].length&&(r+=writeElements(e[t.elementsKey],t,n+1)),r+=t.spaces&&e[t.elementsKey]&&e[t.elementsKey].length&&(e[t.elementsKey].length>1||"text"!==e[t.elementsKey][0].type)?"\n"+Array(n+1).join(t.spaces):"",r+="</"+e.name+">"):r+="/>",r}function writeElements(e,t,n,r){var i=writeIndentation(t,n,r);return e.reduce(function(e,r){switch(r.type){case"element":return e+i+writeElement(r,t,n);case"comment":return e+i+writeComment(r,t);case"cdata":return e+i+writeCdata(r,t);case"text":return e+writeText(r,t)}},"")}function hasContent(e,t,n){var r;for(r in e)if(e.hasOwnProperty(r))switch(r){case t.textKey:if(!n)return!0;break;case t.parentKey:case t.attributesKey:break;case t.cdataKey:case t.commentKey:case t.declarationKey:return!0;default:return!0}return!1}function writeElementCompact(e,t,n,r,i){var o="";if(t){if(o+="<"+t,e[n.attributesKey]&&(o+=writeAttributes(e[n.attributesKey])),!(n.fullTagEmptyElement||hasContent(e,n)||e[n.attributesKey]&&"preserve"===e[n.attributesKey]["xml:space"]))return o+="/>";o+=">"}return o+=writeElementsCompact(e,n,r+1,!1),t&&(o+=(i?writeIndentation(n,r,!1):"")+"</"+t+">"),o}function writeElementsCompact(e,t,n,r){var i,o="";for(i in e)if(e.hasOwnProperty(i)){switch(i){case t.declarationKey:o+=writeDeclaration(e[t.declarationKey],t);break;case t.attributesKey:case t.parentKey:break;case t.textKey:o+=writeText(e,t);break;case t.cdataKey:o+=writeIndentation(t,n,r)+writeCdata(e,t);break;case t.commentKey:o+=writeIndentation(t,n,r)+writeComment(e,t);break;default:e[i]instanceof Array?e[i].forEach(function(e){o+=writeIndentation(t,n,r)+writeElementCompact(e,i,t,n,hasContent(e,t,!0))}):o+=writeIndentation(t,n,r)+writeElementCompact(e[i],i,t,n,hasContent(e[i],t,!0))}r=r&&!o}return o}var r=n(110);e.exports=function(e,t){"use strict";t=validateOptions(t);var n="";return t.compact?n=writeElementsCompact(e,t,0,!0):(e[t.declarationKey]&&(n+=writeDeclaration(e[t.declarationKey],t)),e[t.elementsKey]&&e[t.elementsKey].length&&(n+=writeElements(e[t.elementsKey],t,0,!n))),n}},function(e,t,n){(function(t){var r=n(112);e.exports=function(e,n){"use strict";e instanceof t&&(e=e.toString());var i=null;if("string"==typeof e)try{i=JSON.parse(e)}catch(e){throw new Error("The JSON structure is invalid")}else i=e;return r(i,n)}}).call(t,n(89).Buffer)}]));