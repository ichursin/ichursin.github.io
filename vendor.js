!function(e){function __webpack_require__(t){if(n[t])return n[t].exports;var r=n[t]={exports:{},id:t,loaded:!1};return e[t].call(r.exports,r,r.exports,__webpack_require__),r.loaded=!0,r.exports}var t=window.webpackJsonp;window.webpackJsonp=function(i,o){for(var s,a,c=0,u=[];c<i.length;c++)a=i[c],r[a]&&u.push.apply(u,r[a]),r[a]=0;for(s in o){var l=o[s];switch(typeof l){case"object":e[s]=function(t){var n=t.slice(1),r=t[0];return function(t,i,o){e[r].apply(this,[t,i,o].concat(n))}}(l);break;case"function":e[s]=l;break;default:e[s]=e[l]}}for(t&&t(i,o);u.length;)u.shift().call(null,__webpack_require__);if(o[0])return n[0]=0,__webpack_require__(0)};var n={},r={1:0};return __webpack_require__.e=function(e,t){if(0===r[e])return t.call(null,__webpack_require__);if(void 0!==r[e])r[e].push(t);else{r[e]=[t];var n=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=__webpack_require__.p+""+({0:"app"}[e]||e)+".3073b5df974f6bb7b038.js",n.appendChild(i)}},__webpack_require__.m=e,__webpack_require__.c=n,__webpack_require__.p="",__webpack_require__(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){"use strict";n(1),n(7),n(4),n(5),n(14),n(67)},function(e,t,n){n(2),e.exports=angular},function(e,t){!function(e){"use strict";function minErr(e,t){return t=t||Error,function(){var n,r,i=2,o=arguments,s=o[0],a="["+(e?e+":":"")+s+"] ",c=o[1];for(a+=c.replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1),n=t+i;return n<o.length?toDebugString(o[n]):e}),a+="\nhttp://errors.angularjs.org/1.5.8/"+(e?e+"/":"")+s,r=i,n="?";r<o.length;r++,n="&")a+=n+"p"+(r-i)+"="+encodeURIComponent(toDebugString(o[r]));return new t(a)}}function isArrayLike(e){if(null==e||isWindow(e))return!1;if(b(e)||isString(e)||u&&e instanceof u)return!0;var t="length"in Object(e)&&e.length;return isNumber(t)&&(t>=0&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function forEach(e,t,n){var i,o;if(e)if(isFunction(e))for(i in e)"prototype"==i||"length"==i||"name"==i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(b(e)||isArrayLike(e)){var s="object"!=typeof e;for(i=0,o=e.length;i<o;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==forEach)e.forEach(t,n,e);else if(isBlankObject(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)r.call(e,i)&&t.call(n,e[i],i,e);return e}function forEachSorted(e,t,n){for(var r=Object.keys(e).sort(),i=0;i<r.length;i++)t.call(n,e[r[i]],r[i]);return r}function reverseParams(e){return function(t,n){e(n,t)}}function nextUid(){return++$}function setHashKey(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function baseExtend(e,t,n){for(var r=e.$$hashKey,i=0,o=t.length;i<o;++i){var s=t[i];if(isObject(s)||isFunction(s))for(var a=Object.keys(s),c=0,u=a.length;c<u;c++){var l=a[c],f=s[l];n&&isObject(f)?isDate(f)?e[l]=new Date(f.valueOf()):isRegExp(f)?e[l]=new RegExp(f):f.nodeName?e[l]=f.cloneNode(!0):isElement(f)?e[l]=f.clone():(isObject(e[l])||(e[l]=b(f)?[]:{}),baseExtend(e[l],[f],!0)):e[l]=f}}return setHashKey(e,r),e}function extend(e){return baseExtend(e,h.call(arguments,1),!1)}function merge(e){return baseExtend(e,h.call(arguments,1),!0)}function toInt(e){return parseInt(e,10)}function inherit(e,t){return extend(Object.create(e),t)}function noop(){}function identity(e){return e}function valueFn(e){return function(){return e}}function hasCustomToString(e){return isFunction(e.toString)&&e.toString!==m}function isUndefined(e){return"undefined"==typeof e}function isDefined(e){return"undefined"!=typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isBlankObject(e){return null!==e&&"object"==typeof e&&!g(e)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isDate(e){return"[object Date]"===m.call(e)}function isFunction(e){return"function"==typeof e}function isRegExp(e){return"[object RegExp]"===m.call(e)}function isWindow(e){return e&&e.window===e}function isScope(e){return e&&e.$evalAsync&&e.$watch}function isFile(e){return"[object File]"===m.call(e)}function isFormData(e){return"[object FormData]"===m.call(e)}function isBlob(e){return"[object Blob]"===m.call(e)}function isBoolean(e){return"boolean"==typeof e}function isPromiseLike(e){return e&&isFunction(e.then)}function isTypedArray(e){return e&&isNumber(e.length)&&w.test(m.call(e))}function isArrayBuffer(e){return"[object ArrayBuffer]"===m.call(e)}function isElement(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function makeMap(e){var t,n={},r=e.split(",");for(t=0;t<r.length;t++)n[r[t]]=!0;return n}function nodeName_(e){return i(e.nodeName||e[0]&&e[0].nodeName)}function arrayRemove(e,t){var n=e.indexOf(t);return n>=0&&e.splice(n,1),n}function copy(e,t){function copyRecurse(e,t){var n,i=t.$$hashKey;if(b(e))for(var o=0,s=e.length;o<s;o++)t.push(copyElement(e[o]));else if(isBlankObject(e))for(n in e)t[n]=copyElement(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=copyElement(e[n]));else for(n in e)r.call(e,n)&&(t[n]=copyElement(e[n]));return setHashKey(t,i),t}function copyElement(e){if(!isObject(e))return e;var t=n.indexOf(e);if(t!==-1)return i[t];if(isWindow(e)||isScope(e))throw v("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=copyType(e);return void 0===o&&(o=b(e)?[]:Object.create(g(e)),r=!0),n.push(e),i.push(o),r?copyRecurse(e,o):o}function copyType(e){switch(m.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(copyElement(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^\/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(isFunction(e.cloneNode))return e.cloneNode(!0)}var n=[],i=[];if(t){if(isTypedArray(t)||isArrayBuffer(t))throw v("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===t)throw v("cpi","Can't copy! Source and destination are identical.");return b(t)?t.length=0:forEach(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),n.push(e),i.push(t),copyRecurse(e,t)}return copyElement(e)}function equals(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,r,i,o=typeof e,s=typeof t;if(o==s&&"object"==o){if(!b(e)){if(isDate(e))return!!isDate(t)&&equals(e.getTime(),t.getTime());if(isRegExp(e))return!!isRegExp(t)&&e.toString()==t.toString();if(isScope(e)||isScope(t)||isWindow(e)||isWindow(t)||b(t)||isDate(t)||isRegExp(t))return!1;i=createMap();for(r in e)if("$"!==r.charAt(0)&&!isFunction(e[r])){if(!equals(e[r],t[r]))return!1;i[r]=!0}for(r in t)if(!(r in i)&&"$"!==r.charAt(0)&&isDefined(t[r])&&!isFunction(t[r]))return!1;return!0}if(!b(t))return!1;if((n=e.length)==t.length){for(r=0;r<n;r++)if(!equals(e[r],t[r]))return!1;return!0}}return!1}function concat(e,t,n){return e.concat(h.call(t,n))}function sliceArgs(e,t){return h.call(e,t||0)}function bind(e,t){var n=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,concat(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function toJsonReplacer(t,n){var r=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=void 0:isWindow(n)?r="$WINDOW":n&&e.document===n?r="$DOCUMENT":isScope(n)&&(r="$SCOPE"),r}function toJson(e,t){if(!isUndefined(e))return isNumber(t)||(t=t?2:null),JSON.stringify(e,toJsonReplacer,t)}function fromJson(e){return isString(e)?JSON.parse(e):e}function timezoneToOffset(e,t){e=e.replace(E,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function addDateMinutes(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function convertTimezoneToLocal(e,t,n){n=n?-1:1;var r=e.getTimezoneOffset(),i=timezoneToOffset(t,r);return addDateMinutes(e,n*(i-r))}function startingTag(e){e=u(e).clone();try{e.empty()}catch(e){}var t=u("<div>").append(e).html();try{return e[0].nodeType===D?i(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+i(t)})}catch(e){return i(t)}}function tryDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(e){}}function parseKeyValue(e){var t={};return forEach((e||"").split("&"),function(e){var n,i,o;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),n!==-1&&(i=e.substring(0,n),o=e.substring(n+1)),i=tryDecodeURIComponent(i),isDefined(i)&&(o=!isDefined(o)||tryDecodeURIComponent(o),r.call(t,i)?b(t[i])?t[i].push(o):t[i]=[t[i],o]:t[i]=o))}),t}function toKeyValue(e){var t=[];return forEach(e,function(e,n){b(e)?forEach(e,function(e){t.push(encodeUriQuery(n,!0)+(e===!0?"":"="+encodeUriQuery(e,!0)))}):t.push(encodeUriQuery(n,!0)+(e===!0?"":"="+encodeUriQuery(e,!0)))}),t.length?t.join("&"):""}function encodeUriSegment(e){return encodeUriQuery(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function getNgAttribute(e,t){var n,r,i=A.length;for(r=0;r<i;++r)if(n=A[r]+t,isString(n=e.getAttribute(n)))return n;return null}function angularInit(e,t){var n,r,i={};forEach(A,function(t){var i=t+"app";!n&&e.hasAttribute&&e.hasAttribute(i)&&(n=e,r=e.getAttribute(i))}),forEach(A,function(t){var i,o=t+"app";!n&&(i=e.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==getNgAttribute(n,"strict-di"),t(n,r?[r]:[],i))}function bootstrap(t,n,r){isObject(r)||(r={});var i={strictDi:!1};r=extend(i,r);var o=function(){if(t=u(t),t.injector()){var i=t[0]===e.document?"document":startingTag(t);throw v("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng");var o=createInjector(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;return e&&s.test(e.name)&&(r.debugInfoEnabled=!0,e.name=e.name.replace(s,"")),e&&!a.test(e.name)?o():(e.name=e.name.replace(a,""),y.resumeBootstrap=function(e){return forEach(e,function(e){n.push(e)}),o()},void(isFunction(y.resumeDeferredBootstrap)&&y.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function getTestability(e){var t=y.element(e).injector();if(!t)throw v("test","no injector found for element argument to getTestability");return t.get("$$testability")}function snake_case(e,t){return t=t||"_",e.replace(_,function(e,n){return(n?t:"")+e.toLowerCase()})}function bindJQuery(){var t;if(!T){var n=k();l=isUndefined(n)?e.jQuery:n?e[n]:void 0,l&&l.fn.on?(u=l,extend(l.fn,{scope:X.scope,isolateScope:X.isolateScope,controller:X.controller,injector:X.injector,inheritedData:X.inheritedData}),t=l.cleanData,l.cleanData=function(e){for(var n,r,i=0;null!=(r=e[i]);i++)n=l._data(r,"events"),n&&n.$destroy&&l(r).triggerHandler("$destroy");t(e)}):u=JQLite,y.element=u,T=!0}}function assertArg(e,t,n){if(!e)throw v("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function assertArgFn(e,t,n){return n&&b(e)&&(e=e[e.length-1]),assertArg(isFunction(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function assertNotHasOwnProperty(e,t){if("hasOwnProperty"===e)throw v("badname","hasOwnProperty is not a valid {0} name",t)}function getter(e,t,n){if(!t)return e;for(var r,i=t.split("."),o=e,s=i.length,a=0;a<s;a++)r=i[a],e&&(e=(o=e)[r]);return!n&&isFunction(e)?bind(o,e):e}function getBlockNodes(e){for(var t,n=e[0],r=e[e.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(t||e[i]!==n)&&(t||(t=u(h.call(e,0,i))),t.push(n));return t||e}function createMap(){return Object.create(null)}function setupModuleLoader(e){function ensure(e,t,n){return e[t]||(e[t]=n())}var t=minErr("$injector"),n=minErr("ng"),r=ensure(e,"angular",Object);return r.$$minErr=r.$$minErr||minErr,ensure(r,"module",function(){var e={};return function(r,i,o){var s=function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)};return s(r,"module"),i&&e.hasOwnProperty(r)&&(e[r]=null),ensure(e,r,function(){function invokeLater(t,n,r,i){return i||(i=e),function(){return i[r||"push"]([t,n,arguments]),c}}function invokeLaterAndSetModuleName(t,n){return function(i,o){return o&&isFunction(o)&&(o.$$moduleName=r),e.push([t,n,arguments]),c}}if(!i)throw t("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var e=[],n=[],s=[],a=invokeLater("$injector","invoke","push",n),c={_invokeQueue:e,_configBlocks:n,_runBlocks:s,requires:i,name:r,provider:invokeLaterAndSetModuleName("$provide","provider"),factory:invokeLaterAndSetModuleName("$provide","factory"),service:invokeLaterAndSetModuleName("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),decorator:invokeLaterAndSetModuleName("$provide","decorator"),animation:invokeLaterAndSetModuleName("$animateProvider","register"),filter:invokeLaterAndSetModuleName("$filterProvider","register"),controller:invokeLaterAndSetModuleName("$controllerProvider","register"),directive:invokeLaterAndSetModuleName("$compileProvider","directive"),component:invokeLaterAndSetModuleName("$compileProvider","component"),config:a,run:function(e){return s.push(e),this}};return o&&a(o),c})}})}function shallowCopy(e,t){if(b(e)){t=t||[];for(var n=0,r=e.length;n<r;n++)t[n]=e[n]}else if(isObject(e)){t=t||{};for(var i in e)"$"===i.charAt(0)&&"$"===i.charAt(1)||(t[i]=e[i])}return t||e}function serializeObject(e){var t=[];return JSON.stringify(e,function(e,n){if(n=toJsonReplacer(e,n),isObject(n)){if(t.indexOf(n)>=0)return"...";t.push(n)}return n})}function toDebugString(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):isUndefined(e)?"undefined":"string"!=typeof e?serializeObject(e):e}function publishExternalAPI(t){extend(t,{bootstrap:bootstrap,copy:copy,extend:extend,merge:merge,equals:equals,element:u,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:b,version:I,isDate:isDate,lowercase:i,uppercase:o,callbacks:{$$counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:C,reloadWithDebugInfo:reloadWithDebugInfo}),(f=setupModuleLoader(e))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:$$SanitizeUriProvider}),e.provider("$compile",$CompileProvider).directive({a:ot,input:Ct,textarea:Ct,form:lt,script:bn,select:Sn,style:kn,option:Cn,ngBind:At,ngBindHtml:Tt,ngBindTemplate:_t,ngClass:Pt,ngClassEven:jt,ngClassOdd:Dt,ngCloak:Nt,ngController:Mt,ngForm:ft,ngHide:pn,ngIf:Lt,ngInclude:Ft,ngInit:Ut,ngNonBindable:rn,ngPluralize:cn,ngRepeat:un,ngShow:hn,ngStyle:dn,ngSwitch:mn,ngSwitchWhen:gn,ngSwitchDefault:vn,ngOptions:an,ngTransclude:$n,ngModel:en,ngList:Bt,ngChange:Ot,pattern:An,ngPattern:An,required:En,ngRequired:En,minlength:Tn,ngMinlength:Tn,maxlength:_n,ngMaxlength:_n,ngValue:Et,ngModelOptions:nn}).directive({ngInclude:qt}).directive(st).directive(It),e.provider({$anchorScroll:$AnchorScrollProvider,$animate:pe,$animateCss:ge,$$animateJs:fe,$$animateQueue:he,$$AnimateRunner:me,$$animateAsyncRun:de,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$$forceReflow:xe,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpParamSerializer:$HttpParamSerializerProvider,$httpParamSerializerJQLike:$HttpParamSerializerJQLikeProvider,$httpBackend:$HttpBackendProvider,$xhrFactory:$xhrFactoryProvider,$jsonpCallbacks:Pe,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$jqLite:$$jqLiteProvider,$$HashMap:te,$$cookieReader:$$CookieReaderProvider})}])}function jqNextId(){return++L}function camelCase(e){return e.replace(U,function(e,t,n,r){return r?n.toUpperCase():n}).replace(B,"Moz$1")}function jqLiteIsTextNode(e){return!z.test(e)}function jqLiteAcceptsData(e){var t=e.nodeType;return t===O||!t||t===N}function jqLiteHasData(e){for(var t in R[e.ng339])return!0;return!1}function jqLiteCleanData(e){for(var t=0,n=e.length;t<n;t++)jqLiteRemoveData(e[t])}function jqLiteBuildFragment(e,t){var n,r,i,o,s=t.createDocumentFragment(),a=[];if(jqLiteIsTextNode(e))a.push(t.createTextNode(e));else{for(n=s.appendChild(t.createElement("div")),r=(J.exec(e)||["",""])[1].toLowerCase(),i=Q[r]||Q._default,n.innerHTML=i[1]+e.replace(G,"<$1></$2>")+i[2],o=i[0];o--;)n=n.lastChild;a=concat(a,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",forEach(a,function(e){s.appendChild(e)}),s}function jqLiteParseHTML(t,n){n=n||e.document;var r;return(r=W.exec(t))?[n.createElement(r[1])]:(r=jqLiteBuildFragment(t,n))?r.childNodes:[]}function jqLiteWrapNode(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}function JQLite(e){if(e instanceof JQLite)return e;var t;if(isString(e)&&(e=x(e),t=!0),!(this instanceof JQLite)){if(t&&"<"!=e.charAt(0))throw H("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(e)}t?jqLiteAddNodes(this,jqLiteParseHTML(e)):jqLiteAddNodes(this,e)}function jqLiteClone(e){return e.cloneNode(!0)}function jqLiteDealoc(e,t){if(t||jqLiteRemoveData(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),r=0,i=n.length;r<i;r++)jqLiteRemoveData(n[r])}function jqLiteOff(e,t,n,r){if(isDefined(r))throw H("offargs","jqLite#off() does not support the `selector` argument");var i=jqLiteExpandoStore(e),o=i&&i.events,s=i&&i.handle;if(s)if(t){var a=function(t){var r=o[t];isDefined(n)&&arrayRemove(r||[],n),isDefined(n)&&r&&r.length>0||(q(e,t,s),delete o[t])};forEach(t.split(" "),function(e){a(e),V[e]&&a(V[e])})}else for(t in o)"$destroy"!==t&&q(e,t,s),delete o[t]}function jqLiteRemoveData(e,t){var n=e.ng339,r=n&&R[n];if(r){if(t)return void delete r.data[t];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),jqLiteOff(e)),delete R[n],e.ng339=void 0}}function jqLiteExpandoStore(e,t){var n=e.ng339,r=n&&R[n];return t&&!r&&(e.ng339=n=jqNextId(),r=R[n]={events:{},data:{},handle:void 0}),r}function jqLiteData(e,t,n){if(jqLiteAcceptsData(e)){var r=isDefined(n),i=!r&&t&&!isObject(t),o=!t,s=jqLiteExpandoStore(e,!i),a=s&&s.data;if(r)a[t]=n;else{if(o)return a;if(i)return a&&a[t];extend(a,t)}}}function jqLiteHasClass(e,t){return!!e.getAttribute&&(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function jqLiteRemoveClass(e,t){t&&e.setAttribute&&forEach(t.split(" "),function(t){e.setAttribute("class",x((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+x(t)+" "," ")))})}function jqLiteAddClass(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(t.split(" "),function(e){e=x(e),n.indexOf(" "+e+" ")===-1&&(n+=e+" ")}),e.setAttribute("class",x(n))}}function jqLiteAddNodes(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var r=0;r<n;r++)e[e.length++]=t[r]}else e[e.length++]=t}}function jqLiteController(e,t){return jqLiteInheritedData(e,"$"+(t||"ngController")+"Controller")}function jqLiteInheritedData(e,t,n){e.nodeType==N&&(e=e.documentElement);for(var r=b(t)?t:[t];e;){for(var i=0,o=r.length;i<o;i++)if(isDefined(n=u.data(e,r[i])))return n;e=e.parentNode||e.nodeType===M&&e.host}}function jqLiteEmpty(e){for(jqLiteDealoc(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function jqLiteRemove(e,t){t||jqLiteDealoc(e);var n=e.parentNode;n&&n.removeChild(e)}function jqLiteDocumentLoaded(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):u(n).on("load",t)}function getBooleanAttrName(e,t){var n=Y[t.toLowerCase()];return n&&Z[nodeName_(e)]&&n}function getAliasedAttrName(e){return ee[e]}function createEventHandler(e,t){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=t[r||n.type],o=i?i.length:0;if(o){if(isUndefined(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var a=i.specialHandlerWrapper||defaultHandlerWrapper;o>1&&(i=shallowCopy(i));for(var c=0;c<o;c++)n.isImmediatePropagationStopped()||a(e,n,i[c])}};return n.elem=e,n}function defaultHandlerWrapper(e,t,n){n.call(e,t)}function specialMouseHandlerWrapper(e,t,n){var r=t.relatedTarget;r&&(r===e||K.call(e,r))||n.call(e,t)}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(e,t){return e.attr&&(e=e[0]),jqLiteHasClass(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),jqLiteAddClass(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),jqLiteRemoveClass(e,t)}})}}function hashKey(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var r=typeof e;return n="function"==r||"object"==r&&null!==e?e.$$hashKey=r+":"+(t||nextUid)():r+":"+e}function HashMap(e,t){if(t){var n=0;this.nextUid=function(){return++n}}forEach(e,this.put,this)}function stringifyFn(e){return Function.prototype.toString.call(e)+" "}function extractArgs(e){var t=stringifyFn(e).replace(se,""),n=t.match(ne)||t.match(re);return n}function anonFn(e){var t=extractArgs(e);return t?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(e,t,n){var r,i,o;if("function"==typeof e){if(!(r=e.$inject)){if(r=[],e.length){if(t)throw isString(n)&&n||(n=e.name||anonFn(e)),ae("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=extractArgs(e),forEach(i[1].split(ie),function(e){e.replace(oe,function(e,t,n){r.push(n)})})}e.$inject=r}}else b(e)?(o=e.length-1,assertArgFn(e[o],"fn"),r=e.slice(0,o)):assertArgFn(e,"fn",!0);return r}function createInjector(e,t){function supportObject(e){return function(t,n){return isObject(t)?void forEach(t,reverseParams(e)):e(t,n)}}function provider(e,t){if(assertNotHasOwnProperty(e,"service"),(isFunction(t)||b(t))&&(t=a.instantiate(t)),!t.$get)throw ae("pget","Provider '{0}' must define $get factory method.",e);return s[e+r]=t}function enforceReturnValue(e,t){return function(){var n=h.invoke(t,this);if(isUndefined(n))throw ae("undef","Provider '{0}' must return a value from $get factory method.",e);return n}}function factory(e,t,n){return provider(e,{$get:n!==!1?enforceReturnValue(e,t):t})}function service(e,t){return factory(e,["$injector",function(e){return e.instantiate(t)}])}function value(e,t){return factory(e,valueFn(t),!1)}function constant(e,t){assertNotHasOwnProperty(e,"constant"),s[e]=t,u[e]=t}function decorator(e,t){var n=a.get(e+r),i=n.$get;n.$get=function(){var e=h.invoke(i,n);return h.invoke(t,null,{$delegate:e})}}function loadModules(e){assertArg(isUndefined(e)||b(e),"modulesToLoad","not an array");var t,n=[];return forEach(e,function(e){function runInvokeQueue(e){var t,n;for(t=0,n=e.length;t<n;t++){var r=e[t],i=a.get(r[0]);i[r[1]].apply(i,r[2])}}if(!o.get(e)){o.put(e,!0);try{isString(e)?(t=f(e),n=n.concat(loadModules(t.requires)).concat(t._runBlocks),runInvokeQueue(t._invokeQueue),runInvokeQueue(t._configBlocks)):isFunction(e)?n.push(a.invoke(e)):b(e)?n.push(a.invoke(e)):assertArgFn(e,"module")}catch(t){throw b(e)&&(e=e[e.length-1]),t.message&&t.stack&&t.stack.indexOf(t.message)==-1&&(t=t.message+"\n"+t.stack),ae("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}}),n}function createInternalInjector(e,o){function getService(t,r){if(e.hasOwnProperty(t)){if(e[t]===n)throw ae("cdep","Circular dependency found: {0}",t+" <- "+i.join(" <- "));return e[t]}try{return i.unshift(t),e[t]=n,e[t]=o(t,r)}catch(r){throw e[t]===n&&delete e[t],r}finally{i.shift()}}function injectionArgs(e,n,r){for(var i=[],o=createInjector.$$annotate(e,t,r),s=0,a=o.length;s<a;s++){var c=o[s];if("string"!=typeof c)throw ae("itkn","Incorrect injection token! Expected service name as string, got {0}",c);i.push(n&&n.hasOwnProperty(c)?n[c]:getService(c,r))}return i}function isClass(e){return!(c<=11)&&("function"==typeof e&&/^(?:class\b|constructor\()/.test(stringifyFn(e)))}function invoke(e,t,n,r){"string"==typeof n&&(r=n,n=null);var i=injectionArgs(e,n,r);return b(e)&&(e=e[e.length-1]),isClass(e)?(i.unshift(null),new(Function.prototype.bind.apply(e,i))):e.apply(t,i)}function instantiate(e,t,n){var r=b(e)?e[e.length-1]:e,i=injectionArgs(e,t,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(t){return s.hasOwnProperty(t+r)||e.hasOwnProperty(t)}}}t=t===!0;var n={},r="Provider",i=[],o=new HashMap([],!0),s={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},a=s.$injector=createInternalInjector(s,function(e,t){throw y.isString(t)&&i.push(t),ae("unpr","Unknown provider: {0}",i.join(" <- "))}),u={},l=createInternalInjector(u,function(e,t){var n=a.get(e+r,t);return h.invoke(n.$get,n,void 0,e)}),h=l;s["$injector"+r]={$get:valueFn(l)};var p=loadModules(e);return h=l.get("$injector"),h.strictDi=t,forEach(p,function(e){e&&h.invoke(e)}),h}function $AnchorScrollProvider(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function getFirstAnchor(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===nodeName_(e))return t=e,!0}),t}function getYOffset(){var e=scroll.yOffset;if(isFunction(e))e=e();else if(isElement(e)){var n=e[0],r=t.getComputedStyle(n);e="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else isNumber(e)||(e=0);return e}function scrollTo(e){if(e){e.scrollIntoView();var n=getYOffset();if(n){var r=e.getBoundingClientRect().top;t.scrollBy(0,r-n)}}else t.scrollTo(0,0)}function scroll(e){e=isString(e)?e:n.hash();var t;e?(t=i.getElementById(e))?scrollTo(t):(t=getFirstAnchor(i.getElementsByName(e)))?scrollTo(t):"top"===e&&scrollTo(null):scrollTo(null)}var i=t.document;return e&&r.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||jqLiteDocumentLoaded(function(){r.$evalAsync(scroll)})}),scroll}]}function mergeClasses(e,t){return e||t?e?t?(b(e)&&(e=e.join(" ")),b(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function extractElementNode(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===ue)return n}}function splitClasses(e){isString(e)&&(e=e.split(" "));var t=createMap();return forEach(e,function(e){e.length&&(t[e]=!0)}),t}function prepareAnimateOptions(e){return isObject(e)?e:{}}function Browser(e,t,n,r){function completeOutstandingRequest(e){try{e.apply(null,sliceArgs(arguments,1))}finally{if(f--,0===f)for(;h.length;)try{h.pop()()}catch(e){n.error(e)}}}function getHash(e){var t=e.indexOf("#");return t===-1?"":e.substr(t)}function cacheStateAndFireUrlChange(){v=null,cacheState(),fireUrlChange()}function cacheState(){p=y(),p=isUndefined(p)?null:p,equals(p,w)&&(p=w),w=p}function fireUrlChange(){m===i.url()&&d===p||(m=i.url(),d=p,forEach($,function(e){e(i.url(),p)}))}var i=this,o=e.location,s=e.history,a=e.setTimeout,c=e.clearTimeout,l={};i.isMock=!1;var f=0,h=[];i.$$completeOutstandingRequest=completeOutstandingRequest,i.$$incOutstandingRequestCount=function(){f++},i.notifyWhenNoOutstandingRequests=function(e){0===f?e():h.push(e)};var p,d,m=o.href,g=t.find("base"),v=null,y=r.history?function(){try{return s.state}catch(e){}}:noop;cacheState(),d=p,i.url=function(t,n,a){if(isUndefined(a)&&(a=null),o!==e.location&&(o=e.location),s!==e.history&&(s=e.history),t){var c=d===a;if(m===t&&(!r.history||c))return i;var u=m&&stripHash(m)===stripHash(t);return m=t,d=a,!r.history||u&&c?(u||(v=t),n?o.replace(t):u?o.hash=getHash(t):o.href=t,o.href!==t&&(v=t)):(s[n?"replaceState":"pushState"](a,"",t),cacheState(),d=p),v&&(v=t),i}return v||o.href.replace(/%27/g,"'")},i.state=function(){return p};var $=[],b=!1,w=null;i.onUrlChange=function(t){return b||(r.history&&u(e).on("popstate",cacheStateAndFireUrlChange),u(e).on("hashchange",cacheStateAndFireUrlChange),b=!0),$.push(t),t},i.$$applicationDestroyed=function(){u(e).off("hashchange popstate",cacheStateAndFireUrlChange)},i.$$checkUrlChange=fireUrlChange,i.baseHref=function(){var e=g.attr("href");return e?e.replace(/^(https?\:)?\/\/[^\/]*/,""):""},i.defer=function(e,t){var n;return f++,n=a(function(){delete l[n],completeOutstandingRequest(e)},t||0),l[n]=!0,n},i.defer.cancel=function(e){return!!l[e]&&(delete l[e],c(e),completeOutstandingRequest(noop),!0)}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new Browser(e,r,t,n)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(t,n){function refresh(e){e!=c&&(u?u==e&&(u=e.n):u=e,link(e.n,e.p),link(e,c),c=e,c.n=null)}function link(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(t in e)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var r=0,i=extend({},n,{id:t}),o=createMap(),s=n&&n.capacity||Number.MAX_VALUE,a=createMap(),c=null,u=null;return e[t]={put:function(e,t){if(!isUndefined(t)){if(s<Number.MAX_VALUE){var n=a[e]||(a[e]={key:e});refresh(n)}return e in o||r++,o[e]=t,r>s&&this.remove(u.key),t}},get:function(e){if(s<Number.MAX_VALUE){var t=a[e];if(!t)return;refresh(t)}return o[e]},remove:function(e){if(s<Number.MAX_VALUE){var t=a[e];if(!t)return;t==c&&(c=t.p),t==u&&(u=t.n),link(t.n,t.p),delete a[e]}e in o&&(delete o[e],r--)},removeAll:function(){o=createMap(),r=0,a=createMap(),c=u=null},destroy:function(){o=null,i=null,a=null,delete e[t]},info:function(){return extend({},i,{size:r})}}}var e={};return cacheFactory.info=function(){var t={};return forEach(e,function(e,n){t[n]=e.info()}),t},cacheFactory.get=function(t){return e[t]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function UNINITIALIZED_VALUE(){}function $CompileProvider(t,n){function parseIsolateBindings(e,t,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,i=createMap();return forEach(e,function(e,o){if(e in d)return void(i[o]=d[e]);var s=e.match(r);
if(!s)throw ve("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",t,o,e,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o},s[4]&&(d[e]=i[o])}),i}function parseDirectiveBindings(e,t){var n={isolateScope:null,bindToController:null};if(isObject(e.scope)&&(e.bindToController===!0?(n.bindToController=parseIsolateBindings(e.scope,t,!0),n.isolateScope={}):n.isolateScope=parseIsolateBindings(e.scope,t,!1)),isObject(e.bindToController)&&(n.bindToController=parseIsolateBindings(e.bindToController,t,!0)),isObject(n.bindToController)){var r=e.controller,i=e.controllerAs;if(!r)throw ve("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);if(!identifierForController(r,i))throw ve("noident","Cannot bind to controller without identifier for directive '{0}'.",t)}return n}function assertValidDirectiveName(e){var t=e.charAt(0);if(!t||t!==i(t))throw ve("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw ve("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}function getDirectiveRequire(e){var t=e.require||e.controller&&e.name;return!b(t)&&isObject(t)&&forEach(t,function(e,n){var r=e.match(h),i=e.substring(r[0].length);i||(t[n]=r[0]+n)}),t}var o={},s="Directive",a=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,f=makeMap("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,p=/^(on[a-z]+|formaction)$/,d=createMap();this.directive=function registerDirective(e,n){return assertNotHasOwnProperty(e,"directive"),isString(e)?(assertValidDirectiveName(e),assertArg(n,"directiveFactory"),o.hasOwnProperty(e)||(o[e]=[],t.factory(e+s,["$injector","$exceptionHandler",function(t,n){var r=[];return forEach(o[e],function(i,o){try{var s=t.invoke(i);isFunction(s)?s={compile:valueFn(s)}:!s.compile&&s.link&&(s.compile=valueFn(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=getDirectiveRequire(s),s.restrict=s.restrict||"EA",s.$$moduleName=i.$$moduleName,r.push(s)}catch(e){n(e)}}),r}])),o[e].push(n)):forEach(e,reverseParams(registerDirective)),this},this.component=function(e,t){function factory(e){function makeInjectable(t){return isFunction(t)||b(t)?function(n,r){return e.invoke(t,this,{$element:n,$attrs:r})}:t}var r=t.template||t.templateUrl?t.template:"",i={controller:n,controllerAs:identifierForController(t.controller)||t.controllerAs||"$ctrl",template:makeInjectable(r),templateUrl:makeInjectable(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return forEach(t,function(e,t){"$"===t.charAt(0)&&(i[t]=e)}),i}var n=t.controller||function(){};return forEach(t,function(e,t){"$"===t.charAt(0)&&(factory[t]=e,isFunction(n)&&(n[t]=e))}),factory.$inject=["$injector"],this.directive(e,factory)},this.aHrefSanitizationWhitelist=function(e){return isDefined(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var g=!0;this.debugInfoEnabled=function(e){return isDefined(e)?(g=e,this):g};var v=10;this.onChangesTtl=function(e){return arguments.length?(v=e,this):v},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(t,n,d,y,$,w,S,C,k,E){function flushOnChangesQueue(){try{if(!--P)throw A=void 0,ve("infchng","{0} $onChanges() iterations reached. Aborting!\n",v);S.$apply(function(){for(var e=[],t=0,n=A.length;t<n;++t)try{A[t]()}catch(t){e.push(t)}if(A=void 0,e.length)throw e})}finally{P++}}function Attributes(e,t){if(t){var n,r,i,o=Object.keys(t);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=t[i]}else this.$attr={};this.$$element=e}function setSpecialAttr(e,t,n){T.innerHTML="<span "+t+">";var r=T.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function safeAddClass(e,t){try{e.addClass(t)}catch(e){}}function compile(t,n,r,i,o){t instanceof u||(t=u(t));for(var s=/\S+/,a=0,c=t.length;a<c;a++){var l=t[a];l.nodeType===D&&l.nodeValue.match(s)&&jqLiteWrapNode(l,t[a]=e.document.createElement("span"))}var f=compileNodes(t,n,t,r,i,o);compile.$$addScopeClass(t);var h=null;return function(e,n,r){assertArg(e,"scope"),o&&o.needsNewScope&&(e=e.$parent.$new()),r=r||{};var i=r.parentBoundTranscludeFn,s=r.transcludeControllers,a=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),h||(h=detectNamespaceForChildElements(a));var c;if(c="html"!==h?u(wrapTemplate(h,u("<div>").append(t).html())):n?X.clone.call(t):t,s)for(var l in s)c.data("$"+l+"Controller",s[l].instance);return compile.$$addScopeInfo(c,e),n&&n(c,e),f&&f(e,c,c,i),c}}function detectNamespaceForChildElements(e){var t=e&&e[0];return t&&"foreignobject"!==nodeName_(t)&&m.call(t).match(/SVG/)?"svg":"html"}function compileNodes(e,t,n,r,i,o){function compositeLinkFn(e,n,r,i){var o,s,a,c,l,f,h,m,g;if(p){var v=n.length;for(g=new Array(v),l=0;l<d.length;l+=3)h=d[l],g[h]=n[h]}else g=n;for(l=0,f=d.length;l<f;)a=g[d[l++]],o=d[l++],s=d[l++],o?(o.scope?(c=e.$new(),compile.$$addScopeInfo(u(a),c)):c=e,m=o.transcludeOnThisElement?createBoundTranscludeFn(e,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&t?createBoundTranscludeFn(e,t):null,o(s,c,a,r,m)):s&&s(e,a.childNodes,void 0,i)}for(var s,a,c,l,f,h,p,d=[],m=0;m<e.length;m++)s=new Attributes,a=collectDirectives(e[m],[],s,0===m?r:void 0,i),c=a.length?applyDirectivesToNode(a,e[m],s,t,n,null,[],[],o):null,c&&c.scope&&compile.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=e[m].childNodes)||!l.length?null:compileNodes(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:t),(c||f)&&(d.push(m,c,f),h=!0,p=p||c),o=null;return h?compositeLinkFn:null}function createBoundTranscludeFn(e,t,n){function boundTranscludeFn(r,i,o,s,a){return r||(r=e.$new(!1,a),r.$$transcluded=!0),t(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}var r=boundTranscludeFn.$$slots=createMap();for(var i in t.$$slots)t.$$slots[i]?r[i]=createBoundTranscludeFn(e,t.$$slots[i],n):r[i]=null;return boundTranscludeFn}function collectDirectives(e,t,n,r,i){var o,s,a=e.nodeType,u=n.$attr;switch(a){case O:addDirective(t,directiveNormalize(nodeName_(e)),"E",r,i);for(var f,h,p,d,m,g,v=e.attributes,y=0,$=v&&v.length;y<$;y++){var b=!1,w=!1;f=v[y],h=f.name,m=x(f.value),d=directiveNormalize(h),(g=R.test(d))&&(h=h.replace($e,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var S=d.match(L);S&&directiveIsMultiElement(S[1])&&(b=h,w=h.substr(0,h.length-5)+"end",h=h.substr(0,h.length-6)),p=directiveNormalize(h.toLowerCase()),u[p]=h,!g&&n.hasOwnProperty(p)||(n[p]=m,getBooleanAttrName(e,p)&&(n[p]=!0)),addAttrInterpolateDirective(e,t,m,p,g),addDirective(t,p,"A",r,i,b,w)}if(s=e.className,isObject(s)&&(s=s.animVal),isString(s)&&""!==s)for(;o=l.exec(s);)p=directiveNormalize(o[2]),addDirective(t,p,"C",r,i)&&(n[p]=x(o[3])),s=s.substr(o.index+o[0].length);break;case D:if(11===c)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===D;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);addTextInterpolateDirective(t,e.nodeValue);break;case j:collectCommentDirectives(e,t,n,r,i)}return t.sort(byPriority),t}function collectCommentDirectives(e,t,n,r,i){try{var o=a.exec(e.nodeValue);if(o){var s=directiveNormalize(o[1]);addDirective(t,s,"M",r,i)&&(n[s]=x(o[2]))}}catch(e){}}function groupScan(e,t,n){var r=[],i=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw ve("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType==O&&(e.hasAttribute(t)&&i++,e.hasAttribute(n)&&i--),r.push(e),e=e.nextSibling}while(i>0)}else r.push(e);return u(r)}function groupElementsLinkFnWrapper(e,t,n){return function(r,i,o,s,a){return i=groupScan(i[0],t,n),e(r,i,o,s,a)}}function compilationGenerator(e,t,n,r,i,o){var s;return e?compile(t,n,r,i,o):function(){return s||(s=compile(t,n,r,i,o),t=n=o=null),s.apply(this,arguments)}}function applyDirectivesToNode(e,t,n,r,i,o,s,a,c){function addLinkFns(e,t,n,r){e&&(n&&(e=groupElementsLinkFnWrapper(e,n,r)),e.require=l.require,e.directiveName=f,($===l||l.$$isolateScope)&&(e=cloneAndAnnotateFn(e,{isolateScope:!0})),s.push(e)),t&&(n&&(t=groupElementsLinkFnWrapper(t,n,r)),t.require=l.require,t.directiveName=f,($===l||l.$$isolateScope)&&(t=cloneAndAnnotateFn(t,{isolateScope:!0})),a.push(t))}function nodeLinkFn(e,r,i,o,c){function controllersBoundTransclude(e,t,n,r){var i;if(isScope(e)||(r=n,n=t,t=e,e=void 0),E&&(i=g),n||(n=E?S.parent():S),!r)return c(e,t,i,n,D);var o=c.$$slots[r];if(o)return o(e,t,i,n,D);if(isUndefined(o))throw ve("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,startingTag(S))}var l,f,h,p,m,g,x,S,C,k;t===i?(C=n,S=n.$$element):(S=u(i),C=new Attributes(S,n)),m=r,$?p=r.$new(!0):v&&(m=r.$parent),c&&(x=controllersBoundTransclude,x.$$boundTransclude=c,x.isSlotFilled=function(e){return!!c.$$slots[e]}),y&&(g=setupControllers(S,C,x,y,p,r,$)),$&&(compile.$$addScopeInfo(S,p,!0,!(w&&(w===$||w===$.$$originalDirective))),compile.$$addScopeClass(S,!0),p.$$isolateBindings=$.$$isolateBindings,k=initializeDirectiveBindings(r,C,p,p.$$isolateBindings,$),k.removeWatches&&p.$on("$destroy",k.removeWatches));for(var A in g){var _=y[A],T=g[A],O=_.$$bindings.bindToController;T.identifier&&O?T.bindingInfo=initializeDirectiveBindings(m,C,T.instance,O,_):T.bindingInfo={};var P=T();P!==T.instance&&(T.instance=P,S.data("$"+_.name+"Controller",P),T.bindingInfo.removeWatches&&T.bindingInfo.removeWatches(),T.bindingInfo=initializeDirectiveBindings(m,C,T.instance,O,_))}for(forEach(y,function(e,t){var n=e.require;e.bindToController&&!b(n)&&isObject(n)&&extend(g[t].instance,getControllers(t,n,S,g))}),forEach(g,function(e){var t=e.instance;if(isFunction(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){d(e)}if(isFunction(t.$onInit))try{t.$onInit()}catch(e){d(e)}isFunction(t.$doCheck)&&(m.$watch(function(){t.$doCheck()}),t.$doCheck()),isFunction(t.$onDestroy)&&m.$on("$destroy",function(){t.$onDestroy()})}),l=0,f=s.length;l<f;l++)h=s[l],invokeLinkFn(h,h.isolateScope?p:r,S,C,h.require&&getControllers(h.directiveName,h.require,S,g),x);var D=r;for($&&($.template||null===$.templateUrl)&&(D=p),e&&e(D,i.childNodes,void 0,c),l=a.length-1;l>=0;l--)h=a[l],invokeLinkFn(h,h.isolateScope?p:r,S,C,h.require&&getControllers(h.directiveName,h.require,S,g),x);forEach(g,function(e){var t=e.instance;isFunction(t.$postLink)&&t.$postLink()})}c=c||{};for(var l,f,h,p,m,g=-Number.MAX_VALUE,v=c.newScopeDirective,y=c.controllerDirectives,$=c.newIsolateScopeDirective,w=c.templateDirective,S=c.nonTlbTranscludeDirective,C=!1,k=!1,E=c.hasElementTranscludeDirective,A=n.$$element=u(t),_=o,T=r,P=!1,D=!1,j=0,N=e.length;j<N;j++){l=e[j];var M=l.$$start,R=l.$$end;if(M&&(A=groupScan(t,M,R)),h=void 0,g>l.priority)break;if((m=l.scope)&&(l.templateUrl||(isObject(m)?(assertNoDuplicate("new/isolated scope",$||v,l,A),$=l):assertNoDuplicate("new/isolated scope",$,l,A)),v=v||l),f=l.name,!P&&(l.replace&&(l.templateUrl||l.template)||l.transclude&&!l.$$tlb)){for(var L,F=j+1;L=e[F++];)if(L.transclude&&!L.$$tlb||L.replace&&(L.templateUrl||L.template)){D=!0;break}P=!0}if(!l.templateUrl&&l.controller&&(m=l.controller,y=y||createMap(),assertNoDuplicate("'"+f+"' controller",y[f],l,A),y[f]=l),m=l.transclude)if(C=!0,l.$$tlb||(assertNoDuplicate("transclusion",S,l,A),S=l),"element"==m)E=!0,g=l.priority,h=A,A=n.$$element=u(compile.$$createComment(f,n[f])),t=A[0],replaceWith(i,sliceArgs(h),t),h[0].$$parentNode=h[0].parentNode,T=compilationGenerator(D,h,r,g,_&&_.name,{nonTlbTranscludeDirective:S});else{var q=createMap();if(h=u(jqLiteClone(t)).contents(),isObject(m)){h=[];var U=createMap(),B=createMap();forEach(m,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,U[e]=t,q[t]=null,B[t]=n}),forEach(A.contents(),function(e){var t=U[directiveNormalize(nodeName_(e))];t?(B[t]=!0,q[t]=q[t]||[],q[t].push(e)):h.push(e)}),forEach(B,function(e,t){if(!e)throw ve("reqslot","Required transclusion slot `{0}` was not filled.",t)});for(var V in q)q[V]&&(q[V]=compilationGenerator(D,q[V],r))}A.empty(),T=compilationGenerator(D,h,r,void 0,void 0,{needsNewScope:l.$$isolateScope||l.$$newScope}),T.$$slots=q}if(l.template)if(k=!0,assertNoDuplicate("template",w,l,A),w=l,m=isFunction(l.template)?l.template(A,n):l.template,m=I(m),l.replace){if(_=l,h=jqLiteIsTextNode(m)?[]:removeComments(wrapTemplate(l.templateNamespace,x(m))),t=h[0],1!=h.length||t.nodeType!==O)throw ve("tplrt","Template for directive '{0}' must have exactly one root element. {1}",f,"");replaceWith(i,A,t);var H={$attr:{}},W=collectDirectives(t,[],H),z=e.splice(j+1,e.length-(j+1));($||v)&&markDirectiveScope(W,$,v),e=e.concat(W).concat(z),mergeTemplateAttributes(n,H),N=e.length}else A.html(m);if(l.templateUrl)k=!0,assertNoDuplicate("template",w,l,A),w=l,l.replace&&(_=l),nodeLinkFn=compileTemplateUrl(e.splice(j,e.length-j),A,n,i,C&&T,s,a,{controllerDirectives:y,newScopeDirective:v!==l&&v,newIsolateScopeDirective:$,templateDirective:w,nonTlbTranscludeDirective:S}),N=e.length;else if(l.compile)try{p=l.compile(A,n,T);var J=l.$$originalDirective||l;isFunction(p)?addLinkFns(null,bind(J,p),M,R):p&&addLinkFns(bind(J,p.pre),bind(J,p.post),M,R)}catch(e){d(e,startingTag(A))}l.terminal&&(nodeLinkFn.terminal=!0,g=Math.max(g,l.priority))}return nodeLinkFn.scope=v&&v.scope===!0,nodeLinkFn.transcludeOnThisElement=C,nodeLinkFn.templateOnThisElement=k,nodeLinkFn.transclude=T,c.hasElementTranscludeDirective=E,nodeLinkFn}function getControllers(e,t,n,r){var i;if(isString(t)){var o=t.match(h),s=t.substring(o[0].length),a=o[1]||o[3],c="?"===o[2];if("^^"===a?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var u="$"+s+"Controller";i=a?n.inheritedData(u):n.data(u)}if(!i&&!c)throw ve("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,e)}else if(b(t)){i=[];for(var l=0,f=t.length;l<f;l++)i[l]=getControllers(e,t[l],n,r)}else isObject(t)&&(i={},forEach(t,function(t,o){i[o]=getControllers(e,t,n,r)}));return i||null}function setupControllers(e,t,n,r,i,o,s){var a=createMap();for(var c in r){var u=r[c],l={$scope:u===s||u.$$isolateScope?i:o,$element:e,$attrs:t,$transclude:n},f=u.controller;"@"==f&&(f=t[u.name]);var h=w(f,l,!0,u.controllerAs);a[u.name]=h,e.data("$"+u.name+"Controller",h.instance)}return a}function markDirectiveScope(e,t,n){for(var r=0,i=e.length;r<i;r++)e[r]=inherit(e[r],{$$isolateScope:t,$$newScope:n})}function addDirective(e,n,r,i,a,c,u){if(n===a)return null;var l=null;if(o.hasOwnProperty(n))for(var f,h=t.get(n+s),p=0,m=h.length;p<m;p++)try{if(f=h[p],(isUndefined(i)||i>f.priority)&&f.restrict.indexOf(r)!=-1){if(c&&(f=inherit(f,{$$start:c,$$end:u})),!f.$$bindings){var g=f.$$bindings=parseDirectiveBindings(f,f.name);isObject(g.isolateScope)&&(f.$$isolateBindings=g.isolateScope)}e.push(f),l=f}}catch(e){d(e)}return l}function directiveIsMultiElement(e){if(o.hasOwnProperty(e))for(var n,r=t.get(e+s),i=0,a=r.length;i<a;i++)if(n=r[i],n.multiElement)return!0;return!1}function mergeTemplateAttributes(e,t){var n=t.$attr,r=e.$attr;e.$$element;forEach(e,function(r,i){"$"!=i.charAt(0)&&(t[i]&&t[i]!==r&&(r+=("style"===i?";":" ")+t[i]),e.$set(i,r,!0,n[i]))}),forEach(t,function(t,i){e.hasOwnProperty(i)||"$"===i.charAt(0)||(e[i]=t,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function compileTemplateUrl(e,t,n,r,i,o,s,a){var c,l,f=[],h=t[0],p=e.shift(),d=inherit(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),m=isFunction(p.templateUrl)?p.templateUrl(t,n):p.templateUrl,g=p.templateNamespace;return t.empty(),y(m).then(function(v){var y,$,b,w;if(v=I(v),p.replace){if(b=jqLiteIsTextNode(v)?[]:removeComments(wrapTemplate(g,x(v))),y=b[0],1!=b.length||y.nodeType!==O)throw ve("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,m);$={$attr:{}},replaceWith(r,t,y);var S=collectDirectives(y,[],$);isObject(p.scope)&&markDirectiveScope(S,!0),e=S.concat(e),mergeTemplateAttributes(n,$)}else y=h,t.html(v);for(e.unshift(d),c=applyDirectivesToNode(e,y,n,i,t,p,o,s,a),forEach(r,function(e,n){e==y&&(r[n]=t[0])}),l=compileNodes(t[0].childNodes,i);f.length;){var C=f.shift(),k=f.shift(),E=f.shift(),A=f.shift(),_=t[0];if(!C.$$destroyed){if(k!==h){var T=k.className;a.hasElementTranscludeDirective&&p.replace||(_=jqLiteClone(y)),replaceWith(E,u(k),_),safeAddClass(u(_),T)}w=c.transcludeOnThisElement?createBoundTranscludeFn(C,c.transclude,A):A,c(l,C,_,r,w)}}f=null}),function(e,t,n,r,i){var o=i;t.$$destroyed||(f?f.push(t,n,r,o):(c.transcludeOnThisElement&&(o=createBoundTranscludeFn(t,c.transclude,i)),c(l,t,n,r,o)))}}function byPriority(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function assertNoDuplicate(e,t,n,r){function wrapModuleNameIfDefined(e){return e?" (module: "+e+")":""}if(t)throw ve("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,wrapModuleNameIfDefined(t.$$moduleName),n.name,wrapModuleNameIfDefined(n.$$moduleName),e,startingTag(r))}function addTextInterpolateDirective(e,t){var r=n(t,!0);r&&e.push({priority:0,compile:function(e){var t=e.parent(),n=!!t.length;return n&&compile.$$addBindingClass(t),function(e,t){var i=t.parent();n||compile.$$addBindingClass(i),compile.$$addBindingInfo(i,r.expressions),e.$watch(r,function(e){t[0].nodeValue=e})}}})}function wrapTemplate(t,n){switch(t=i(t||"html")){case"svg":case"math":var r=e.document.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function getTrustedContext(e,t){if("srcdoc"==t)return C.HTML;var n=nodeName_(e);return"xlinkHref"==t||"form"==n&&"action"==t||"img"!=n&&("src"==t||"ngSrc"==t)?C.RESOURCE_URL:void 0}function addAttrInterpolateDirective(e,t,r,i,o){var s=getTrustedContext(e,i);o=f[i]||o;var a=n(r,!0,s,o);if(a){if("multiple"===i&&"select"===nodeName_(e))throw ve("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(e));t.push({priority:100,compile:function(){return{pre:function(e,t,c){var u=c.$$observers||(c.$$observers=createMap());if(p.test(i))throw ve("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var l=c[i];l!==r&&(a=l&&n(l,!0,s,o),r=l),a&&(c[i]=a(e),(u[i]||(u[i]=[])).$$inter=!0,(c.$$observers&&c.$$observers[i].$$scope||e).$watch(a,function(e,t){"class"===i&&e!=t?c.$updateClass(e,t):c.$set(i,e)}))}}}})}}function replaceWith(t,n,r){var i,o,s=n[0],a=n.length,c=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==s){t[i++]=r;for(var l=i,f=l+a-1,h=t.length;l<h;l++,f++)f<h?t[l]=t[f]:delete t[l];t.length-=a-1,t.context===s&&(t.context=r);break}c&&c.replaceChild(r,s);var p=e.document.createDocumentFragment();for(i=0;i<a;i++)p.appendChild(n[i]);for(u.hasData(s)&&(u.data(r,u.data(s)),u(s).off("$destroy")),u.cleanData(p.querySelectorAll("*")),i=1;i<a;i++)delete n[i];n[0]=r,n.length=1}function cloneAndAnnotateFn(e,t){return extend(function(){return e.apply(null,arguments)},e,t)}function invokeLinkFn(e,t,n,r,i,o){try{e(t,n,r,i,o)}catch(e){d(e,startingTag(n))}}function initializeDirectiveBindings(e,t,i,o,s){function recordChanges(t,n,r){isFunction(i.$onChanges)&&n!==r&&(A||(e.$$postDigest(flushOnChangesQueue),A=[]),a||(a={},A.push(triggerOnChangesHook)),a[t]&&(r=a[t].previousValue),a[t]=new SimpleChange(r,n))}function triggerOnChangesHook(){i.$onChanges(a),a=void 0}var a,c=[],u={};return forEach(o,function(o,a){var l,f,h,p,d,m=o.attrName,g=o.optional,v=o.mode;switch(v){case"@":g||r.call(t,m)||(i[a]=t[m]=void 0),t.$observe(m,function(e){if(isString(e)||isBoolean(e)){var t=i[a];recordChanges(a,e,t),i[a]=e}}),t.$$observers[m].$$scope=e,l=t[m],isString(l)?i[a]=n(l)(e):isBoolean(l)&&(i[a]=l),u[a]=new SimpleChange(ye,i[a]);break;case"=":if(!r.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;f=$(t[m]),p=f.literal?equals:function(e,t){return e===t||e!==e&&t!==t},h=f.assign||function(){throw l=i[a]=f(e),ve("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",t[m],m,s.name)},l=i[a]=f(e);var y=function(t){return p(t,i[a])||(p(t,l)?h(e,t=i[a]):i[a]=t),l=t};y.$stateful=!0,d=o.collection?e.$watchCollection(t[m],y):e.$watch($(t[m],y),null,f.literal),c.push(d);break;case"<":if(!r.call(t,m)){if(g)break;t[m]=void 0}if(g&&!t[m])break;f=$(t[m]);var b=i[a]=f(e);u[a]=new SimpleChange(ye,i[a]),d=e.$watch(f,function(e,t){if(t===e){if(t===b)return;t=b}recordChanges(a,e,t),i[a]=e},f.literal),c.push(d);break;case"&":if(f=t.hasOwnProperty(m)?$(t[m]):noop,f===noop&&g)break;i[a]=function(t){return f(e,t)}}}),{initialChanges:u,removeWatches:c.length&&function(){for(var e=0,t=c.length;e<t;++e)c[e]()}}}var A,_=/^\w/,T=e.document.createElement("div"),P=v;Attributes.prototype={$normalize:directiveNormalize,$addClass:function(e){e&&e.length>0&&k.addClass(this.$$element,e)},$removeClass:function(e){e&&e.length>0&&k.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=tokenDifference(e,t);n&&n.length&&k.addClass(this.$$element,n);var r=tokenDifference(t,e);r&&r.length&&k.removeClass(this.$$element,r)},$set:function(e,t,n,r){var i,o=this.$$element[0],s=getBooleanAttrName(o,e),a=getAliasedAttrName(e),c=e;if(s?(this.$$element.prop(e,t),r=s):a&&(this[a]=t,c=a),this[e]=t,r?this.$attr[e]=r:(r=this.$attr[e],r||(this.$attr[e]=r=snake_case(e,"-"))),i=nodeName_(this.$$element),"a"===i&&("href"===e||"xlinkHref"===e)||"img"===i&&"src"===e)this[e]=t=E(t,"src"===e);else if("img"===i&&"srcset"===e&&isDefined(t)){for(var u="",l=x(t),f=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,h=/\s/.test(l)?f:/(,)/,p=l.split(h),m=Math.floor(p.length/2),g=0;g<m;g++){var v=2*g;u+=E(x(p[v]),!0),u+=" "+x(p[v+1])}var y=x(p[2*g]).split(/\s/);u+=E(x(y[0]),!0),2===y.length&&(u+=" "+x(y[1])),this[e]=t=u}n!==!1&&(null===t||isUndefined(t)?this.$$element.removeAttr(r):_.test(r)?this.$$element.attr(r,t):setSpecialAttr(this.$$element[0],r,t));var $=this.$$observers;$&&forEach($[c],function(e){try{e(t)}catch(e){d(e)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers=createMap()),i=r[e]||(r[e]=[]);return i.push(t),S.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(e)||isUndefined(n[e])||t(n[e])}),function(){arrayRemove(i,t)}}};var N=n.startSymbol(),M=n.endSymbol(),I="{{"==N&&"}}"==M?identity:function(e){return e.replace(/\{\{/g,N).replace(/}}/g,M)},R=/^ngAttr[A-Z]/,L=/^(.+)Start$/;return compile.$$addBindingInfo=g?function(e,t){var n=e.data("$binding")||[];b(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:noop,compile.$$addBindingClass=g?function(e){safeAddClass(e,"ng-binding")}:noop,compile.$$addScopeInfo=g?function(e,t,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(i,t)}:noop,compile.$$addScopeClass=g?function(e,t){safeAddClass(e,t?"ng-isolate-scope":"ng-scope")}:noop,compile.$$createComment=function(t,n){var r="";return g&&(r=" "+(t||"")+": ",n&&(r+=n+" ")),e.document.createComment(r)},compile}]}function SimpleChange(e,t){this.previousValue=e,this.currentValue=t}function directiveNormalize(e){return camelCase(e.replace($e,""))}function tokenDifference(e,t){var n="",r=e.split(/\s+/),i=t.split(/\s+/);e:for(var o=0;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue e;n+=(n.length>0?" ":"")+s}return n}function removeComments(e){e=u(e);var t=e.length;if(t<=1)return e;for(;t--;){var n=e[t];n.nodeType===j&&p.call(e,t,1)}return e}function identifierForController(e,t){if(t&&isString(t))return t;if(isString(e)){var n=we.exec(e);if(n)return n[3]}}function $ControllerProvider(){var e={},t=!1;this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){assertNotHasOwnProperty(t,"controller"),isObject(t)?extend(e,t):e[t]=n},this.allowGlobals=function(){t=!0},this.$get=["$injector","$window",function(n,r){function addIdentifier(e,t,n,r){if(!e||!isObject(e.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,t);e.$scope[t]=n}return function(i,o,s,a){var c,u,l,f;if(s=s===!0,a&&isString(a)&&(f=a),isString(i)){if(u=i.match(we),!u)throw be("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",i);l=u[1],f=f||u[3],i=e.hasOwnProperty(l)?e[l]:getter(o.$scope,l,!0)||(t?getter(r,l,!0):void 0),assertArgFn(i,l,!0)}if(s){var h=(b(i)?i[i.length-1]:i).prototype;c=Object.create(h||null),f&&addIdentifier(o,f,c,l||i.name);var p;return p=extend(function(){var e=n.invoke(i,c,o,l);return e!==c&&(isObject(e)||isFunction(e))&&(c=e,f&&addIdentifier(o,f,c,l||i.name)),c},{instance:c,identifier:f})}return c=n.instantiate(i,o,l),f&&addIdentifier(o,f,c,l||i.name),c}}]}function $DocumentProvider(){this.$get=["$window",function(e){return u(e.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function serializeValue(e){return isObject(e)?isDate(e)?e.toISOString():toJson(e):e}function $HttpParamSerializerProvider(){this.$get=function(){return function(e){if(!e)return"";var t=[];return forEachSorted(e,function(e,n){null===e||isUndefined(e)||(b(e)?forEach(e,function(e){t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e)))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}),t.join("&")}}}function $HttpParamSerializerJQLikeProvider(){this.$get=function(){return function(e){function serialize(e,n,r){null===e||isUndefined(e)||(b(e)?forEach(e,function(e,t){serialize(e,n+"["+(isObject(e)?t:"")+"]")}):isObject(e)&&!isDate(e)?forEachSorted(e,function(e,t){serialize(e,n+(r?"":"[")+t+(r?"":"]"))}):t.push(encodeUriQuery(n)+"="+encodeUriQuery(serializeValue(e))))}if(!e)return"";var t=[];return serialize(e,"",!0),t.join("&")}}}function defaultHttpResponseTransform(e,t){if(isString(e)){var n=e.replace(Ae,"").trim();if(n){var r=t("Content-Type");(r&&0===r.indexOf(Se)||isJsonLike(n))&&(e=fromJson(n))}}return e}function isJsonLike(e){var t=e.match(ke);return t&&Ee[t[0]].test(e)}function parseHeaders(e){function fillInParsed(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}var t,n=createMap();return isString(e)?forEach(e.split("\n"),function(e){t=e.indexOf(":"),fillInParsed(i(x(e.substr(0,t))),x(e.substr(t+1)))}):isObject(e)&&forEach(e,function(e,t){fillInParsed(i(t),x(e))}),n}function headersGetter(e){var t;return function(n){if(t||(t=parseHeaders(e)),n){var r=t[i(n)];return void 0===r&&(r=null),r}return t}}function transformData(e,t,n,r){return isFunction(r)?r(e,t,n):(forEach(r,function(r){e=r(e,t,n)}),e)}function isSuccess(e){return 200<=e&&e<300}function $HttpProvider(){var e=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(e){return!isObject(e)||isFile(e)||isBlob(e)||isFormData(e)?e:toJson(e)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(Ce),put:shallowCopy(Ce),patch:shallowCopy(Ce)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},t=!1;this.useApplyAsync=function(e){return isDefined(e)?(t=!!e,this):t};var n=!0;this.useLegacyPromiseExtensions=function(e){return isDefined(e)?(n=!!e,this):n};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(s,a,c,u,l,f){function $http(t){function chainInterceptors(e,t){for(var n=0,r=t.length;n<r;){var i=t[n++],o=t[n++];e=e.then(i,o)}return t.length=0,e}function executeHeaderFns(e,t){var n,r={};return forEach(e,function(e,i){isFunction(e)?(n=e(t),null!=n&&(r[i]=n)):r[i]=e}),r}function mergeHeaders(t){var n,r,o,s=e.headers,a=extend({},t.headers);s=extend({},s.common,s[i(t.method)]);e:for(n in s){r=i(n);for(o in a)if(i(o)===r)continue e;a[n]=s[n]}return executeHeaderFns(a,shallowCopy(t))}function serverRequest(t){var n=t.headers,r=transformData(t.data,headersGetter(n),void 0,t.transformRequest);return isUndefined(r)&&forEach(n,function(e,t){"content-type"===i(t)&&delete n[t]}),isUndefined(t.withCredentials)&&!isUndefined(e.withCredentials)&&(t.withCredentials=e.withCredentials),sendReq(t,r).then(transformResponse,transformResponse)}function transformResponse(e){var t=extend({},e);return t.data=transformData(e.data,e.headers,e.status,r.transformResponse),isSuccess(e.status)?t:l.reject(t)}if(!isObject(t))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!isString(t.url))throw minErr("$http")("badreq","Http request configuration url must be a string.  Received: {0}",t.url);var r=extend({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer},t);r.headers=mergeHeaders(t),r.method=o(r.method),r.paramSerializer=isString(r.paramSerializer)?f.get(r.paramSerializer):r.paramSerializer;var s=[],a=[],c=l.when(r);return forEach(p,function(e){(e.request||e.requestError)&&s.unshift(e.request,e.requestError),(e.response||e.responseError)&&a.push(e.response,e.responseError)}),c=chainInterceptors(c,s),c=c.then(serverRequest),c=chainInterceptors(c,a),n?(c.success=function(e){return assertArgFn(e,"fn"),c.then(function(t){e(t.data,t.status,t.headers,r)}),c},c.error=function(e){return assertArgFn(e,"fn"),c.then(null,function(t){e(t.data,t.status,t.headers,r)}),c}):(c.success=Te("success"),c.error=Te("error")),c}function createShortMethods(e){forEach(arguments,function(e){$http[e]=function(t,n){return $http(extend({},n||{},{method:e,url:t}))}})}function createShortMethodsWithData(e){forEach(arguments,function(e){$http[e]=function(t,n,r){return $http(extend({},r||{},{method:e,url:t,data:n}))}})}function sendReq(n,r){function createApplyHandlers(e){if(e){var n={};return forEach(e,function(e,r){n[r]=function(n){function callEventHandler(){e(n)}t?u.$applyAsync(callEventHandler):u.$$phase?callEventHandler():u.$apply(callEventHandler)}}),n}}function done(e,n,r,o){function resolveHttpPromise(){resolvePromise(n,e,r,o)}i&&(isSuccess(e)?i.put(d,[e,n,parseHeaders(r),o]):i.remove(d)),t?u.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),u.$$phase||u.$apply())}function resolvePromise(e,t,r,i){t=t>=-1?t:0,(isSuccess(t)?c.resolve:c.reject)({data:e,status:t,headers:headersGetter(r),config:n,statusText:i})}function resolvePromiseWithResult(e){resolvePromise(e.data,e.status,shallowCopy(e.headers()),e.statusText)}function removePendingReq(){var e=$http.pendingRequests.indexOf(n);e!==-1&&$http.pendingRequests.splice(e,1)}var i,o,c=l.defer(),f=c.promise,p=n.headers,d=buildUrl(n.url,n.paramSerializer(n.params));if($http.pendingRequests.push(n),f.then(removePendingReq,removePendingReq),!n.cache&&!e.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(i=isObject(n.cache)?n.cache:isObject(e.cache)?e.cache:h),i&&(o=i.get(d),isDefined(o)?isPromiseLike(o)?o.then(resolvePromiseWithResult,resolvePromiseWithResult):b(o)?resolvePromise(o[1],o[0],shallowCopy(o[2]),o[3]):resolvePromise(o,200,{},"OK"):i.put(d,f)),isUndefined(o)){var m=urlIsSameOrigin(n.url)?a()[n.xsrfCookieName||e.xsrfCookieName]:void 0;m&&(p[n.xsrfHeaderName||e.xsrfHeaderName]=m),s(n.method,d,r,done,p,n.timeout,n.withCredentials,n.responseType,createApplyHandlers(n.eventHandlers),createApplyHandlers(n.uploadEventHandlers))}return f}function buildUrl(e,t){return t.length>0&&(e+=(e.indexOf("?")==-1?"?":"&")+t),e}var h=c("$http");e.paramSerializer=isString(e.paramSerializer)?f.get(e.paramSerializer):e.paramSerializer;var p=[];return forEach(r,function(e){p.unshift(isString(e)?f.get(e):f.invoke(e))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=e,$http}]}function $xhrFactoryProvider(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function $HttpBackendProvider(){
this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,r){return createHttpBackend(e,r,e.defer,t,n[0])}]}function createHttpBackend(e,t,n,r,o){function jsonpReq(e,t,n){e=e.replace("JSON_CALLBACK",t);var i=o.createElement("script"),s=null;return i.type="text/javascript",i.src=e,i.async=!0,s=function(e){q(i,"load",s),q(i,"error",s),o.body.removeChild(i),i=null;var a=-1,c="unknown";e&&("load"!==e.type||r.wasCalled(t)||(e={type:"error"}),c=e.type,a="error"===e.type?404:200),n&&n(a,c)},F(i,"load",s),F(i,"error",s),o.body.appendChild(i),s}return function(o,s,a,c,u,l,f,h,p,d){function timeoutRequest(){g&&g(),v&&v.abort()}function completeRequest(t,r,i,o,s){isDefined($)&&n.cancel($),g=v=null,t(r,i,o,s),e.$$completeOutstandingRequest(noop)}if(e.$$incOutstandingRequestCount(),s=s||e.url(),"jsonp"===i(o))var m=r.createCallback(s),g=jsonpReq(s,m,function(e,t){var n=200===e&&r.getResponse(m);completeRequest(c,e,n,"",t),r.removeCallback(m)});else{var v=t(o,s);v.open(o,s,!0),forEach(u,function(e,t){isDefined(e)&&v.setRequestHeader(t,e)}),v.onload=function(){var e=v.statusText||"",t="response"in v?v.response:v.responseText,n=1223===v.status?204:v.status;0===n&&(n=t?200:"file"==urlResolve(s).protocol?404:0),completeRequest(c,n,t,v.getAllResponseHeaders(),e)};var y=function(){completeRequest(c,-1,null,null,"")};if(v.onerror=y,v.onabort=y,forEach(p,function(e,t){v.addEventListener(t,e)}),forEach(d,function(e,t){v.upload.addEventListener(t,e)}),f&&(v.withCredentials=!0),h)try{v.responseType=h}catch(e){if("json"!==h)throw e}v.send(isUndefined(a)?null:a)}if(l>0)var $=n(timeoutRequest,l);else isPromiseLike(l)&&l.then(timeoutRequest)}}function $InterpolateProvider(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function escape(e){return"\\\\\\"+e}function unescapeText(n){return n.replace(a,e).replace(c,t)}function stringify(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=toJson(e)}return e}function constantWatchDelegate(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function $interpolate(a,c,u,l){function parseStringifyInterceptor(e){try{return e=S(e),l&&!isDefined(e)?e:stringify(e)}catch(e){r(Oe.interr(a,e))}}if(!a.length||a.indexOf(e)===-1){var f;if(!c){var h=unescapeText(a);f=valueFn(h),f.exp=a,f.expressions=[],f.$$watchDelegate=constantWatchDelegate}return f}l=!!l;for(var p,d,m,g=0,v=[],y=[],$=a.length,b=[],w=[];g<$;){if((p=a.indexOf(e,g))==-1||(d=a.indexOf(t,p+o))==-1){g!==$&&b.push(unescapeText(a.substring(g)));break}g!==p&&b.push(unescapeText(a.substring(g,p))),m=a.substring(p+o,d),v.push(m),y.push(n(m,parseStringifyInterceptor)),g=d+s,w.push(b.length),b.push("")}if(u&&b.length>1&&Oe.throwNoconcat(a),!c||v.length){var x=function(e){for(var t=0,n=v.length;t<n;t++){if(l&&isUndefined(e[t]))return;b[w[t]]=e[t]}return b.join("")},S=function(e){return u?i.getTrusted(u,e):i.valueOf(e)};return extend(function(e){var t=0,n=v.length,i=new Array(n);try{for(;t<n;t++)i[t]=y[t](e);return x(i)}catch(e){r(Oe.interr(a,e))}},{exp:a,expressions:v,$$watchDelegate:function(e,t){var n;return e.$watchGroup(y,function(r,i){var o=x(r);isFunction(t)&&t.call(this,o,r!==i?n:o,e),n=o})}})}}var o=e.length,s=t.length,a=new RegExp(e.replace(/./g,escape),"g"),c=new RegExp(t.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return e},$interpolate.endSymbol=function(){return t},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(e,t,n,r,i){function interval(s,a,c,u){function callback(){l?s.apply(null,f):s(d)}var l=arguments.length>4,f=l?sliceArgs(arguments,4):[],h=t.setInterval,p=t.clearInterval,d=0,m=isDefined(u)&&!u,g=(m?r:n).defer(),v=g.promise;return c=isDefined(c)?c:0,v.$$intervalId=h(function(){m?i.defer(callback):e.$evalAsync(callback),g.notify(d++),c>0&&d>=c&&(g.resolve(d),p(v.$$intervalId),delete o[v.$$intervalId]),m||e.$apply()},a),o[v.$$intervalId]=g,v}var o={};return interval.cancel=function(e){return!!(e&&e.$$intervalId in o)&&(o[e.$$intervalId].reject("canceled"),t.clearInterval(e.$$intervalId),delete o[e.$$intervalId],!0)},interval}]}function encodePath(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=encodeUriSegment(t[n]);return t.join("/")}function parseAbsoluteUrl(e,t){var n=urlResolve(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=toInt(n.port)||je[n.protocol]||null}function parseAppUrl(e,t){var n="/"!==e.charAt(0);n&&(e="/"+e);var r=urlResolve(e);t.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),t.$$search=parseKeyValue(r.search),t.$$hash=decodeURIComponent(r.hash),t.$$path&&"/"!=t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function startsWith(e,t){return 0===e.lastIndexOf(t,0)}function stripBaseUrl(e,t){if(startsWith(t,e))return t.substr(e.length)}function stripHash(e){var t=e.indexOf("#");return t==-1?e:e.substr(0,t)}function trimEmptyHash(e){return e.replace(/(#.+)|#$/,"$1")}function stripFile(e){return e.substr(0,stripHash(e).lastIndexOf("/")+1)}function serverBase(e){return e.substring(0,e.indexOf("/",e.indexOf("//")+2))}function LocationHtml5Url(e,t,n){this.$$html5=!0,n=n||"",parseAbsoluteUrl(e,this),this.$$parse=function(e){var n=stripBaseUrl(t,e);if(!isString(n))throw Ne("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,t);parseAppUrl(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=toKeyValue(this.$$search),n=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=t+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s,a;return isDefined(o=stripBaseUrl(e,r))?(s=o,a=isDefined(o=stripBaseUrl(n,o))?t+(stripBaseUrl("/",o)||o):e+s):isDefined(o=stripBaseUrl(t,r))?a=t+o:t==r+"/"&&(a=t),a&&this.$$parse(a),!!a}}function LocationHashbangUrl(e,t,n){parseAbsoluteUrl(e,this),this.$$parse=function(r){function removeWindowsDriveName(e,t,n){var r,i=/^\/[A-Z]:(\/.*)/;return startsWith(t,n)&&(t=t.replace(n,"")),i.exec(t)?e:(r=i.exec(e),r?r[1]:e)}var i,o=stripBaseUrl(e,r)||stripBaseUrl(t,r);isUndefined(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",isUndefined(o)&&(e=r,this.replace())):(i=stripBaseUrl(n,o),isUndefined(i)&&(i=o)),parseAppUrl(i,this),this.$$path=removeWindowsDriveName(this.$$path,i,e),this.$$compose()},this.$$compose=function(){var t=toKeyValue(this.$$search),r=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(t,n){return stripHash(e)==stripHash(t)&&(this.$$parse(t),!0)}}function LocationHashbangInHtml5Url(e,t,n){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return e==stripHash(r)?o=r:(s=stripBaseUrl(t,r))?o=e+n+s:t===r+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$compose=function(){var t=toKeyValue(this.$$search),r=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(t?"?"+t:"")+r,this.$$absUrl=e+n+this.$$url}}function locationGetter(e){return function(){return this[e]}}function locationGetterSetter(e,t){return function(n){return isUndefined(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function $LocationProvider(){var e="",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return isDefined(t)?(e=t,this):e},this.html5Mode=function(e){return isBoolean(e)?(t.enabled=e,this):isObject(e)?(isBoolean(e.enabled)&&(t.enabled=e.enabled),isBoolean(e.requireBase)&&(t.requireBase=e.requireBase),isBoolean(e.rewriteLinks)&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){function setBrowserUrlWithFallback(e,t,n){var i=a.url(),o=a.$$state;try{r.url(e,t,n),a.$$state=r.state()}catch(e){throw a.url(i),a.$$state=o,e}}function afterLocationChange(e,t){n.$broadcast("$locationChangeSuccess",a.absUrl(),e,a.$$state,t)}var a,c,l,f=r.baseHref(),h=r.url();if(t.enabled){if(!f&&t.requireBase)throw Ne("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=serverBase(h)+(f||"/"),c=i.history?LocationHtml5Url:LocationHashbangInHtml5Url}else l=stripHash(h),c=LocationHashbangUrl;var p=stripFile(l);a=new c(l,p,"#"+e),a.$$parseLinkUrl(h,h),a.$$state=r.state();var d=/^\s*(javascript|mailto):/i;o.on("click",function(e){if(t.rewriteLinks&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!=e.which&&2!=e.button){for(var i=u(e.target);"a"!==nodeName_(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var c=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");isObject(c)&&"[object SVGAnimatedString]"===c.toString()&&(c=urlResolve(c.animVal).href),d.test(c)||!c||i.attr("target")||e.isDefaultPrevented()||a.$$parseLinkUrl(c,l)&&(e.preventDefault(),a.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash(a.absUrl())!=trimEmptyHash(h)&&r.url(a.absUrl(),!0);var m=!0;return r.onUrlChange(function(e,t){return isUndefined(stripBaseUrl(p,e))?void(s.location.href=e):(n.$evalAsync(function(){var r,i=a.absUrl(),o=a.$$state;e=trimEmptyHash(e),a.$$parse(e),a.$$state=t,r=n.$broadcast("$locationChangeStart",e,i,t,o).defaultPrevented,a.absUrl()===e&&(r?(a.$$parse(i),a.$$state=o,setBrowserUrlWithFallback(i,!1,o)):(m=!1,afterLocationChange(i,o)))}),void(n.$$phase||n.$digest()))}),n.$watch(function(){var e=trimEmptyHash(r.url()),t=trimEmptyHash(a.absUrl()),o=r.state(),s=a.$$replace,c=e!==t||a.$$html5&&i.history&&o!==a.$$state;(m||c)&&(m=!1,n.$evalAsync(function(){var t=a.absUrl(),r=n.$broadcast("$locationChangeStart",t,e,a.$$state,o).defaultPrevented;a.absUrl()===t&&(r?(a.$$parse(e),a.$$state=o):(c&&setBrowserUrlWithFallback(t,s,o===a.$$state?null:a.$$state),afterLocationChange(e,o)))})),a.$$replace=!1}),a}]}function $LogProvider(){var e=!0,t=this;this.debugEnabled=function(t){return isDefined(t)?(e=t,this):e},this.$get=["$window",function(n){function formatError(e){return e instanceof Error&&(e.stack?e=e.message&&e.stack.indexOf(e.message)===-1?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function consoleLog(e){var t=n.console||{},r=t[e]||t.log||noop,i=!1;try{i=!!r.apply}catch(e){}return i?function(){var e=[];return forEach(arguments,function(t){e.push(formatError(t))}),r.apply(t,e)}:function(e,t){r(e,null==t?"":t)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var n=consoleLog("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function ensureSafeMemberName(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw Ie("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function getStringValue(e){return e+""}function ensureSafeObject(e,t){if(e){if(e.constructor===e)throw Ie("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw Ie("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw Ie("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw Ie("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function ensureSafeFunction(e,t){if(e){if(e.constructor===e)throw Ie("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===Re||e===Le||e===Fe)throw Ie("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function ensureSafeAssignContext(e,t){if(e&&(e===(0).constructor||e===(!1).constructor||e==="".constructor||e==={}.constructor||e===[].constructor||e===Function.constructor))throw Ie("isecaf","Assigning to a constructor is disallowed! Expression: {0}",t)}function ifDefined(e,t){return"undefined"!=typeof e?e:t}function plusFn(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function isStateless(e,t){var n=e(t);return!n.$stateful}function findConstantAndWatchExpressions(e,t){var n,r;switch(e.type){case Ve.Program:n=!0,forEach(e.body,function(e){findConstantAndWatchExpressions(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case Ve.Literal:e.constant=!0,e.toWatch=[];break;case Ve.UnaryExpression:findConstantAndWatchExpressions(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Ve.BinaryExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Ve.LogicalExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Ve.ConditionalExpression:findConstantAndWatchExpressions(e.test,t),findConstantAndWatchExpressions(e.alternate,t),findConstantAndWatchExpressions(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Ve.Identifier:e.constant=!1,e.toWatch=[e];break;case Ve.MemberExpression:findConstantAndWatchExpressions(e.object,t),e.computed&&findConstantAndWatchExpressions(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case Ve.CallExpression:n=!!e.filter&&isStateless(t,e.callee.name),r=[],forEach(e.arguments,function(e){findConstantAndWatchExpressions(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=e.filter&&isStateless(t,e.callee.name)?r:[e];break;case Ve.AssignmentExpression:findConstantAndWatchExpressions(e.left,t),findConstantAndWatchExpressions(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Ve.ArrayExpression:n=!0,r=[],forEach(e.elements,function(e){findConstantAndWatchExpressions(e,t),n=n&&e.constant,e.constant||r.push.apply(r,e.toWatch)}),e.constant=n,e.toWatch=r;break;case Ve.ObjectExpression:n=!0,r=[],forEach(e.properties,function(e){findConstantAndWatchExpressions(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||r.push.apply(r,e.value.toWatch)}),e.constant=n,e.toWatch=r;break;case Ve.ThisExpression:e.constant=!1,e.toWatch=[];break;case Ve.LocalsExpression:e.constant=!1,e.toWatch=[]}}function getInputs(e){if(1==e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function isAssignable(e){return e.type===Ve.Identifier||e.type===Ve.MemberExpression}function assignableAST(e){if(1===e.body.length&&isAssignable(e.body[0].expression))return{type:Ve.AssignmentExpression,left:e.body[0].expression,right:{type:Ve.NGValueParameter},operator:"="}}function isLiteral(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===Ve.Literal||e.body[0].expression.type===Ve.ArrayExpression||e.body[0].expression.type===Ve.ObjectExpression)}function isConstant(e){return e.constant}function ASTCompiler(e,t){this.astBuilder=e,this.$filter=t}function ASTInterpreter(e,t){this.astBuilder=e,this.$filter=t}function isPossiblyDangerousMemberName(e){return"constructor"==e}function getValueOf(e){return isFunction(e.valueOf)?e.valueOf():We.call(e)}function $ParseProvider(){var e,t,n=createMap(),r=createMap(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,r){return e=n,t=r,this},this.$get=["$filter",function(o){function $parse(e,t,i){var s,l,f;switch(i=i||u,typeof e){case"string":e=e.trim(),f=e;var h=i?r:n;if(s=h[f],!s){":"===e.charAt(0)&&":"===e.charAt(1)&&(l=!0,e=e.substring(2));var p=i?c:a,d=new Be(p),m=new He(d,o,p);s=m.parse(e),s.constant?s.$$watchDelegate=constantWatchDelegate:l?s.$$watchDelegate=s.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate:s.inputs&&(s.$$watchDelegate=inputsWatchDelegate),i&&(s=expensiveChecksInterceptor(s)),h[f]=s}return addInterceptor(s,t);case"function":return addInterceptor(e,t);default:return addInterceptor(noop,t)}}function expensiveChecksInterceptor(e){function expensiveCheckFn(t,n,r,i){var o=u;u=!0;try{return e(t,n,r,i)}finally{u=o}}if(!e)return e;expensiveCheckFn.$$watchDelegate=e.$$watchDelegate,expensiveCheckFn.assign=expensiveChecksInterceptor(e.assign),expensiveCheckFn.constant=e.constant,expensiveCheckFn.literal=e.literal;for(var t=0;e.inputs&&t<e.inputs.length;++t)e.inputs[t]=expensiveChecksInterceptor(e.inputs[t]);return expensiveCheckFn.inputs=e.inputs,expensiveCheckFn}function expressionInputDirtyCheck(e,t){return null==e||null==t?e===t:("object"!=typeof e||(e=getValueOf(e),"object"!=typeof e))&&(e===t||e!==e&&t!==t)}function inputsWatchDelegate(e,t,n,r,i){var o,s=r.inputs;if(1===s.length){var a=expressionInputDirtyCheck;return s=s[0],e.$watch(function(e){var t=s(e);return expressionInputDirtyCheck(t,a)||(o=r(e,void 0,void 0,[t]),a=t&&getValueOf(t)),o},t,n,i)}for(var c=[],u=[],l=0,f=s.length;l<f;l++)c[l]=expressionInputDirtyCheck,u[l]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var a=s[n](e);(t||(t=!expressionInputDirtyCheck(a,c[n])))&&(u[n]=a,c[n]=a&&getValueOf(a))}return t&&(o=r(e,void 0,void 0,u)),o},t,n,i)}function oneTimeWatchDelegate(e,t,n,r){var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,isFunction(t)&&t.apply(this,arguments),isDefined(e)&&r.$$postDigest(function(){isDefined(o)&&i()})},n)}function oneTimeLiteralWatchDelegate(e,t,n,r){function isAllDefined(e){var t=!0;return forEach(e,function(e){isDefined(e)||(t=!1)}),t}var i,o;return i=e.$watch(function(e){return r(e)},function(e,n,r){o=e,isFunction(t)&&t.call(this,e,n,r),isAllDefined(e)&&r.$$postDigest(function(){isAllDefined(o)&&i()})},n)}function constantWatchDelegate(e,t,n,r){var i;return i=e.$watch(function(e){return i(),r(e)},t,n)}function addInterceptor(e,t){if(!t)return e;var n=e.$$watchDelegate,r=!1,i=n!==oneTimeLiteralWatchDelegate&&n!==oneTimeWatchDelegate,o=i?function(n,i,o,s){var a=r&&s?s[0]:e(n,i,o,s);return t(a,n,i)}:function(n,r,i,o){var s=e(n,r,i,o),a=t(s,n,r);return isDefined(s)?a:s};return e.$$watchDelegate&&e.$$watchDelegate!==inputsWatchDelegate?o.$$watchDelegate=e.$$watchDelegate:t.$stateful||(o.$$watchDelegate=inputsWatchDelegate,r=!e.inputs,o.inputs=e.inputs?e.inputs:[e]),o}var s=C().noUnsafeEval,a={csp:s,expensiveChecks:!1,literals:copy(i),isIdentifierStart:isFunction(e)&&e,isIdentifierContinue:isFunction(t)&&t},c={csp:s,expensiveChecks:!0,literals:copy(i),isIdentifierStart:isFunction(e)&&e,isIdentifierContinue:isFunction(t)&&t},u=!1;return $parse.$$runningExpensiveChecks=function(){return u},$parse}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return qFactory(function(t){e.$evalAsync(t)},t)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function(e,t){return qFactory(function(t){e.defer(t)},t)}]}function qFactory(e,t){function Promise(){this.$$state={status:0}}function simpleBind(e,t){return function(n){t.call(e,n)}}function processQueue(e){var n,r,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var o=0,s=i.length;o<s;++o){r=i[o][0],n=i[o][e.status];try{isFunction(n)?r.resolve(n(e.value)):1===e.status?r.resolve(e.value):r.reject(e.value)}catch(e){r.reject(e),t(e)}}}function scheduleProcessQueue(t){!t.processScheduled&&t.pending&&(t.processScheduled=!0,e(function(){processQueue(t)}))}function Deferred(){this.promise=new Promise}function all(e){var t=new Deferred,n=0,r=b(e)?[]:{};return forEach(e,function(e,i){n++,a(e).then(function(e){r.hasOwnProperty(i)||(r[i]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(i)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}function race(e){var t=r();return forEach(e,function(e){a(e).then(t.resolve,t.reject)}),t.promise}var n=minErr("$q",TypeError),r=function(){var e=new Deferred;return e.resolve=simpleBind(e,e.resolve),e.reject=simpleBind(e,e.reject),e.notify=simpleBind(e,e.notify),e};extend(Promise.prototype,{then:function(e,t,n){if(isUndefined(e)&&isUndefined(t)&&isUndefined(n))return this;var r=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,e,t,n]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),r.promise},catch:function(e){return this.then(null,e)},finally:function(e,t){return this.then(function(t){return s(t,!0,e)},function(t){return s(t,!1,e)},t)}}),extend(Deferred.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){function resolvePromise(e){i||(i=!0,r.$$resolve(e))}function rejectPromise(e){i||(i=!0,r.$$reject(e))}var n,r=this,i=!1;try{(isObject(e)||isFunction(e))&&(n=e&&e.then),isFunction(n)?(this.promise.$$state.status=-1,n.call(e,resolvePromise,rejectPromise,simpleBind(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){rejectPromise(e),t(e)}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&e(function(){for(var e,i,o=0,s=r.length;o<s;o++){i=r[o][0],e=r[o][3];try{i.notify(isFunction(e)?e(n):n)}catch(e){t(e)}}})}});var i=function(e){var t=new Deferred;return t.reject(e),t.promise},o=function(e,t){var n=new Deferred;return t?n.resolve(e):n.reject(e),n.promise},s=function(e,t,n){var r=null;try{isFunction(n)&&(r=n())}catch(e){return o(e,!1)}return isPromiseLike(r)?r.then(function(){return o(e,t)},function(e){return o(e,!1)}):o(e,t)},a=function(e,t,n,r){var i=new Deferred;return i.resolve(e),i.promise.then(t,n,r)},c=a,u=function(e){function resolveFn(e){t.resolve(e)}function rejectFn(e){t.reject(e)}if(!isFunction(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new Deferred;return e(resolveFn,rejectFn),t.promise};return u.prototype=Promise.prototype,u.defer=r,u.reject=i,u.when=a,u.resolve=c,u.all=all,u.race=race,u}function $$RAFProvider(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(e){var t=n(e);return function(){r(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=i,o}]}function $RootScopeProvider(){function createChildScopeClass(e){function ChildScope(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=nextUid(),this.$$ChildScope=null}return ChildScope.prototype=e,ChildScope}var e=10,t=minErr("$rootScope"),n=null,i=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(o,s,a){function destroyChildScope(e){e.currentScope.$$destroyed=!0}function cleanUpScope(e){9===c&&(e.$$childHead&&cleanUpScope(e.$$childHead),e.$$nextSibling&&cleanUpScope(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function beginPhase(e){if(u.$$phase)throw t("inprog","{0} already in progress",u.$$phase);u.$$phase=e}function clearPhase(){u.$$phase=null}function incrementWatchersCount(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function decrementListenerCount(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;h.length;)try{h.shift()()}catch(e){o(e)}i=null}function scheduleApplyAsync(){null===i&&(i=a.defer(function(){u.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(e,t){var n;return t=t||this,e?(n=new Scope,n.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=createChildScopeClass(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!=this)&&n.$on("$destroy",destroyChildScope),n},$watch:function(e,t,r,i){var o=s(e);if(o.$$watchDelegate)return o.$$watchDelegate(this,t,r,o,e);var a=this,c=a.$$watchers,u={fn:t,last:initWatchVal,get:o,exp:i||e,eq:!!r};return n=null,isFunction(t)||(u.fn=noop),c||(c=a.$$watchers=[]),c.unshift(u),incrementWatchersCount(this,1),function(){arrayRemove(c,u)>=0&&incrementWatchersCount(a,-1),n=null}},$watchGroup:function(e,t){function watchGroupAction(){s=!1,a?(a=!1,t(r,r,o)):t(r,n,o)}var n=new Array(e.length),r=new Array(e.length),i=[],o=this,s=!1,a=!0;if(!e.length){var c=!0;return o.$evalAsync(function(){c&&t(r,r,o)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,i,o){r[0]=e,n[0]=i,t(r,e===i?r:n,o)}):(forEach(e,function(e,t){var a=o.$watch(e,function(e,i){r[t]=e,n[t]=i,s||(s=!0,o.$evalAsync(watchGroupAction))});i.push(a)}),function(){for(;i.length;)i.shift()()})},$watchCollection:function(e,t){function $watchCollectionInterceptor(e){n=e;var t,o,s,a,c;if(!isUndefined(n)){if(isObject(n))if(isArrayLike(n)){i!==f&&(i=f,d=i.length=0,u++),t=n.length,d!==t&&(u++,i.length=d=t);for(var l=0;l<t;l++)c=i[l],a=n[l],s=c!==c&&a!==a,s||c===a||(u++,i[l]=a)}else{i!==h&&(i=h={},d=0,u++),t=0;for(o in n)r.call(n,o)&&(t++,a=n[o],c=i[o],o in i?(s=c!==c&&a!==a,s||c===a||(u++,i[o]=a)):(d++,i[o]=a,u++));if(d>t){u++;for(o in i)r.call(n,o)||(d--,delete i[o])}}else i!==n&&(i=n,u++);return u}}function $watchCollectionAction(){if(p?(p=!1,t(n,n,a)):t(n,o,a),c)if(isObject(n))if(isArrayLike(n)){o=new Array(n.length);for(var e=0;e<n.length;e++)o[e]=n[e]}else{o={};for(var i in n)r.call(n,i)&&(o[i]=n[i])}else o=n}$watchCollectionInterceptor.$stateful=!0;var n,i,o,a=this,c=t.length>1,u=0,l=s(e,$watchCollectionInterceptor),f=[],h={},p=!0,d=0;return this.$watch(l,$watchCollectionAction)},$digest:function(){var r,s,c,h,d,m,g,v,y,$,b,w,x=e,S=this,C=[];beginPhase("$digest"),a.$$checkUrlChange(),this===u&&null!==i&&(a.defer.cancel(i),flushApplyAsync()),n=null;do{v=!1,$=S;for(var k=0;k<l.length;k++){try{w=l[k],w.scope.$eval(w.expression,w.locals)}catch(e){o(e)}n=null}l.length=0;e:do{if(m=$.$$watchers)for(g=m.length;g--;)try{if(r=m[g])if(d=r.get,(s=d($))===(c=r.last)||(r.eq?equals(s,c):"number"==typeof s&&"number"==typeof c&&isNaN(s)&&isNaN(c))){if(r===n){v=!1;break e}}else v=!0,n=r,r.last=r.eq?copy(s,null):s,h=r.fn,h(s,c===initWatchVal?s:c,$),x<5&&(b=4-x,C[b]||(C[b]=[]),C[b].push({msg:isFunction(r.exp)?"fn: "+(r.exp.name||r.exp.toString()):r.exp,newVal:s,oldVal:c}))}catch(e){o(e)}if(!(y=$.$$watchersCount&&$.$$childHead||$!==S&&$.$$nextSibling))for(;$!==S&&!(y=$.$$nextSibling);)$=$.$parent}while($=y);if((v||l.length)&&!x--)throw clearPhase(),t("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(v||l.length);for(clearPhase();p<f.length;)try{f[p++]()}catch(e){o(e)}f.length=p=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===u&&a.$$applicationDestroyed(),incrementWatchersCount(this,-this.$$watchersCount);for(var t in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[t],t);e&&e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$$nextSibling=null,cleanUpScope(this)}},$eval:function(e,t){return s(e)(this,t)},$evalAsync:function(e,t){u.$$phase||l.length||a.defer(function(){l.length&&u.$digest()}),l.push({scope:this,expression:s(e),locals:t})},$$postDigest:function(e){f.push(e)},$apply:function(e){try{beginPhase("$apply");try{return this.$eval(e)}finally{clearPhase()}}catch(e){o(e)}finally{try{u.$digest()}catch(e){throw o(e),e}}},$applyAsync:function(e){function $applyAsyncExpression(){t.$eval(e)}var t=this;e&&h.push($applyAsyncExpression),e=s(e),scheduleApplyAsync()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var r=this;do r.$$listenerCount[e]||(r.$$listenerCount[e]=0),r.$$listenerCount[e]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(t);r!==-1&&(n[r]=null,decrementListenerCount(i,1,e))}},$emit:function(e,t){var n,r,i,s=[],a=this,c=!1,u={name:e,targetScope:a,stopPropagation:function(){c=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},l=concat([u],arguments,1);do{for(n=a.$$listeners[e]||s,u.currentScope=a,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,l)}catch(e){o(e)}else n.splice(r,1),r--,i--;if(c)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=n,i=n,s={name:e,targetScope:n,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[e])return s;for(var a,c,u,l=concat([s],arguments,1);r=i;){for(s.currentScope=r,a=r.$$listeners[e]||[],c=0,u=a.length;c<u;c++)if(a[c])try{a[c].apply(null,l)}catch(e){o(e)}else a.splice(c,1),c--,u--;if(!(i=r.$$listenerCount[e]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return s.currentScope=null,s}};var u=new Scope,l=u.$$asyncQueue=[],f=u.$$postDigestQueue=[],h=u.$$applyAsyncQueue=[],p=0;return u}]}function $$SanitizeUriProvider(){var e=/^\s*(https?|ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return isDefined(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return isDefined(e)?(t=e,this):t},this.$get=function(){return function(n,r){var i,o=r?t:e;return i=urlResolve(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function adjustMatcher(e){if("self"===e)return e;if(isString(e)){if(e.indexOf("***")>-1)throw ze("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=S(e).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+e+"$")}if(isRegExp(e))return new RegExp("^"+e.source+"$");throw ze("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(e){var t=[];return isDefined(e)&&forEach(e,function(e){t.push(adjustMatcher(e))}),t}function $SceDelegateProvider(){this.SCE_CONTEXTS=Je;var e=["self"],t=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(e=adjustMatchers(t)),e},this.resourceUrlBlacklist=function(e){return arguments.length&&(t=adjustMatchers(e)),t},this.$get=["$injector",function(n){function matchUrl(e,t){return"self"===e?urlIsSameOrigin(t):!!e.exec(t.href)}function isResourceUrlAllowedByPolicy(n){var r,i,o=urlResolve(n.toString()),s=!1;for(r=0,i=e.length;r<i;r++)if(matchUrl(e[r],o)){s=!0;break}if(s)for(r=0,i=t.length;r<i;r++)if(matchUrl(t[r],o)){s=!1;break}return s}function generateHolderType(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}function trustAs(e,t){
var n=o.hasOwnProperty(e)?o[e]:null;if(!n)throw ze("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||isUndefined(t)||""===t)return t;if("string"!=typeof t)throw ze("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)}function valueOf(e){return e instanceof i?e.$$unwrapTrustedValue():e}function getTrusted(e,t){if(null===t||isUndefined(t)||""===t)return t;var n=o.hasOwnProperty(e)?o[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===Je.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(t))return t;throw ze("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===Je.HTML)return r(t);throw ze("unsafe","Attempting to use an unsafe value in a safe context.")}var r=function(e){throw ze("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(r=n.get("$sanitize"));var i=generateHolderType(),o={};return o[Je.HTML]=generateHolderType(i),o[Je.CSS]=generateHolderType(i),o[Je.URL]=generateHolderType(i),o[Je.JS]=generateHolderType(i),o[Je.RESOURCE_URL]=generateHolderType(o[Je.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&c<8)throw ze("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=shallowCopy(Je);r.isEnabled=function(){return e},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,e||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=identity),r.parseAs=function(e,n){var i=t(n);return i.literal&&i.constant?i:t(n,function(t){return r.getTrusted(e,t)})};var o=r.parseAs,s=r.getTrusted,a=r.trustAs;return forEach(Je,function(e,t){var n=i(t);r[camelCase("parse_as_"+n)]=function(t){return o(e,t)},r[camelCase("get_trusted_"+n)]=function(t){return s(e,t)},r[camelCase("trust_as_"+n)]=function(t){return a(e,t)}}),r}]}function $SnifferProvider(){this.$get=["$window","$document",function(e,t){var n,r,o={},s=e.chrome&&e.chrome.app&&e.chrome.app.runtime,a=!s&&e.history&&e.history.pushState,u=toInt((/android (\d+)/.exec(i((e.navigator||{}).userAgent))||[])[1]),l=/Boxee/i.test((e.navigator||{}).userAgent),f=t[0]||{},h=/^(Moz|webkit|ms)(?=[A-Z])/,p=f.body&&f.body.style,d=!1,m=!1;if(p){for(var g in p)if(r=h.exec(g)){n=r[0],n=n[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in p&&"webkit"),d=!!("transition"in p||n+"Transition"in p),m=!!("animation"in p||n+"Animation"in p),!u||d&&m||(d=isString(p.webkitTransition),m=isString(p.webkitAnimation))}return{history:!(!a||u<4||l),hasEvent:function(e){if("input"===e&&c<=11)return!1;if(isUndefined(o[e])){var t=f.createElement("div");o[e]="on"+e in t}return o[e]},csp:C(),vendorPrefix:n,transitions:d,animations:m,android:u}}]}function $TemplateRequestProvider(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$templateCache","$http","$q","$sce",function(t,n,r,i){function handleRequestFn(o,s){function handleError(e){if(!s)throw Ge("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,e.status,e.statusText);return r.reject(e)}handleRequestFn.totalPendingRequests++,isString(o)&&!isUndefined(t.get(o))||(o=i.getTrustedResourceUrl(o));var a=n.defaults&&n.defaults.transformResponse;return b(a)?a=a.filter(function(e){return e!==defaultHttpResponseTransform}):a===defaultHttpResponseTransform&&(a=null),n.get(o,extend({cache:t,transformResponse:a},e)).finally(function(){handleRequestFn.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function(e,t,n){var r={};return r.findBindings=function(e,t,n){var r=e.getElementsByClassName("ng-binding"),i=[];return forEach(r,function(e){var r=y.element(e).data("$binding");r&&forEach(r,function(r){if(n){var o=new RegExp("(^|\\s)"+S(t)+"(\\s|\\||$)");o.test(r)&&i.push(e)}else r.indexOf(t)!=-1&&i.push(e)})}),i},r.findModels=function(e,t,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",s="["+r[i]+"model"+o+'"'+t+'"]',a=e.querySelectorAll(s);if(a.length)return a}},r.getLocation=function(){return n.url()},r.setLocation=function(t){t!==n.url()&&(n.url(t),e.$digest())},r.whenStable=function(e){t.notifyWhenNoOutstandingRequests(e)},r}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,r,i){function timeout(s,a,c){isFunction(s)||(c=a,a=s,s=noop);var u,l=sliceArgs(arguments,3),f=isDefined(c)&&!c,h=(f?r:n).defer(),p=h.promise;return u=t.defer(function(){try{h.resolve(s.apply(null,l))}catch(e){h.reject(e),i(e)}finally{delete o[p.$$timeoutId]}f||e.$apply()},a),p.$$timeoutId=u,o[u]=h,p}var o={};return timeout.cancel=function(e){return!!(e&&e.$$timeoutId in o)&&(o[e.$$timeoutId].reject("canceled"),delete o[e.$$timeoutId],t.defer.cancel(e.$$timeoutId))},timeout}]}function urlResolve(e){var t=e;return c&&(Qe.setAttribute("href",t),t=Qe.href),Qe.setAttribute("href",t),{href:Qe.href,protocol:Qe.protocol?Qe.protocol.replace(/:$/,""):"",host:Qe.host,search:Qe.search?Qe.search.replace(/^\?/,""):"",hash:Qe.hash?Qe.hash.replace(/^#/,""):"",hostname:Qe.hostname,port:Qe.port,pathname:"/"===Qe.pathname.charAt(0)?Qe.pathname:"/"+Qe.pathname}}function urlIsSameOrigin(e){var t=isString(e)?urlResolve(e):e;return t.protocol===Ke.protocol&&t.host===Ke.host}function $WindowProvider(){this.$get=valueFn(e)}function $$CookieReader(e){function safeDecodeURIComponent(e){try{return decodeURIComponent(e)}catch(t){return e}}var t=e[0]||{},n={},r="";return function(){var e,i,o,s,a,c=t.cookie||"";if(c!==r)for(r=c,e=r.split("; "),n={},o=0;o<e.length;o++)i=e[o],s=i.indexOf("="),s>0&&(a=safeDecodeURIComponent(i.substring(0,s)),isUndefined(n[a])&&(n[a]=safeDecodeURIComponent(i.substring(s+1))));return n}}function $$CookieReaderProvider(){this.$get=$$CookieReader}function $FilterProvider(e){function register(n,r){if(isObject(n)){var i={};return forEach(n,function(e,t){i[t]=register(t,e)}),i}return e.factory(n+t,r)}var t="Filter";this.register=register,this.$get=["$injector",function(e){return function(n){return e.get(n+t)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",rt),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",it)}function filterFilter(){return function(e,t,n,r){if(!isArrayLike(e)){if(null==e)return e;throw minErr("filter")("notarray","Expected array but received: {0}",e)}r=r||"$";var i,o,s=getTypeForFilter(t);switch(s){case"function":i=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":i=createPredicateFn(t,n,r,o);break;default:return e}return Array.prototype.filter.call(e,i)}}function createPredicateFn(e,t,n,r){var o,s=isObject(e)&&n in e;return t===!0?t=equals:isFunction(t)||(t=function(e,t){return!isUndefined(e)&&(null===e||null===t?e===t:!(isObject(t)||isObject(e)&&!hasCustomToString(e))&&(e=i(""+e),t=i(""+t),e.indexOf(t)!==-1))}),o=function(i){return s&&!isObject(i)?deepCompare(i,e[n],t,n,!1):deepCompare(i,e,t,n,r)}}function deepCompare(e,t,n,r,i,o){var s=getTypeForFilter(e),a=getTypeForFilter(t);if("string"===a&&"!"===t.charAt(0))return!deepCompare(e,t.substring(1),n,r,i);if(b(e))return e.some(function(e){return deepCompare(e,t,n,r,i)});switch(s){case"object":var c;if(i){for(c in e)if("$"!==c.charAt(0)&&deepCompare(e[c],t,n,r,!0))return!0;return!o&&deepCompare(e,t,n,r,!1)}if("object"===a){for(c in t){var u=t[c];if(!isFunction(u)&&!isUndefined(u)){var l=c===r,f=l?e:e[c];if(!deepCompare(f,u,n,r,l,l))return!1}}return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function getTypeForFilter(e){return null===e?"null":typeof e}function currencyFilter(e){var t=e.NUMBER_FORMATS;return function(e,n,r){return isUndefined(n)&&(n=t.CURRENCY_SYM),isUndefined(r)&&(r=t.PATTERNS[1].maxFrac),null==e?e:formatNumber(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function numberFilter(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:formatNumber(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function parse(e){var t,n,r,i,o,s=0;for((n=e.indexOf(Ye))>-1&&(e=e.replace(Ye,"")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charAt(r)==Ze;r++);if(r==(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)==Ze;)o--;for(n-=r,t=[],i=0;r<=o;r++,i++)t[i]=+e.charAt(r)}return n>Xe&&(t=t.splice(0,Xe-1),s=n-1,n=1),{d:t,e:s,i:n}}function roundNumber(e,t,n,r){var i=e.d,o=i.length-e.i;t=isUndefined(t)?Math.min(Math.max(n,o),r):+t;var s=t+e.i,a=i[s];if(s>0){i.splice(Math.max(e.i,s));for(var c=s;c<i.length;c++)i[c]=0}else{o=Math.max(0,o),e.i=1,i.length=Math.max(1,s=t+1),i[0]=0;for(var u=1;u<s;u++)i[u]=0}if(a>=5)if(s-1<0){for(var l=0;l>s;l--)i.unshift(0),e.i++;i.unshift(1),e.i++}else i[s-1]++;for(;o<Math.max(0,t);o++)i.push(0);var f=i.reduceRight(function(e,t,n,r){return t+=e,r[n]=t%10,Math.floor(t/10)},0);f&&(i.unshift(f),e.i++)}function formatNumber(e,t,n,r,i){if(!isString(e)&&!isNumber(e)||isNaN(e))return"";var o,s=!isFinite(e),a=!1,c=Math.abs(e)+"",u="";if(s)u="∞";else{o=parse(c),roundNumber(o,i,t.minFrac,t.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(a=l.reduce(function(e,t){return e&&!t},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=t.lgSize&&d.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)d.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),u=d.join(n),p.length&&(u+=r+p.join("")),h&&(u+="e+"+h)}return e<0&&!a?t.negPre+u+t.negSuf:t.posPre+u+t.posSuf}function padNumber(e,t,n,r){var i="";for((e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,i="-")),e=""+e;e.length<t;)e=Ze+e;return n&&(e=e.substr(e.length-t)),i+e}function dateGetter(e,t,n,r,i){return n=n||0,function(o){var s=o["get"+e]();return(n>0||s>-n)&&(s+=n),0===s&&n==-12&&(s=12),padNumber(s,t,r,i)}}function dateStrGetter(e,t,n){return function(r,i){var s=r["get"+e](),a=(n?"STANDALONE":"")+(t?"SHORT":""),c=o(a+e);return i[c][s]}}function timeZoneGetter(e,t,n){var r=-1*n,i=r>=0?"+":"";return i+=padNumber(Math[r>0?"floor":"ceil"](r/60),2)+padNumber(Math.abs(r%60),2)}function getFirstThursdayOfYear(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function getThursdayThisWeek(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function weekGetter(e){return function(t){var n=getFirstThursdayOfYear(t.getFullYear()),r=getThursdayThisWeek(t),i=+r-+n,o=1+Math.round(i/6048e5);return padNumber(o,e)}}function ampmGetter(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]}function eraGetter(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}function longEraGetter(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}function dateFilter(e){function jsonStringToDate(e){var n;if(n=e.match(t)){var r=new Date(0),i=0,o=0,s=n[8]?r.setUTCFullYear:r.setFullYear,a=n[8]?r.setUTCHours:r.setHours;n[9]&&(i=toInt(n[9]+n[10]),o=toInt(n[9]+n[11])),s.call(r,toInt(n[1]),toInt(n[2])-1,toInt(n[3]));var c=toInt(n[4]||0)-i,u=toInt(n[5]||0)-o,l=toInt(n[6]||0),f=Math.round(1e3*parseFloat("0."+(n[7]||0)));return a.call(r,c,u,l,f),r}return e}var t=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,n,r){var i,o,s="",a=[];if(n=n||"mediumDate",n=e.DATETIME_FORMATS[n]||n,isString(t)&&(t=nt.test(t)?toInt(t):jsonStringToDate(t)),isNumber(t)&&(t=new Date(t)),!isDate(t)||!isFinite(t.getTime()))return t;for(;n;)o=tt.exec(n),o?(a=concat(a,o,1),n=a.pop()):(a.push(n),n=null);var c=t.getTimezoneOffset();return r&&(c=timezoneToOffset(r,c),t=convertTimezoneToLocal(t,r,!0)),forEach(a,function(n){i=et[n],s+=i?i(t,e.DATETIME_FORMATS,c):"''"===n?"'":n.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),s}}function jsonFilter(){return function(e,t){return isUndefined(t)&&(t=2),toJson(e,t)}}function limitToFilter(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):toInt(t),isNaN(t)?e:(isNumber(e)&&(e=e.toString()),isArrayLike(e)?(n=!n||isNaN(n)?0:toInt(n),n=n<0?Math.max(0,e.length+n):n,t>=0?sliceFn(e,n,n+t):0===n?sliceFn(e,t,e.length):sliceFn(e,Math.max(0,n+t),n)):e)}}function sliceFn(e,t,n){return isString(e)?e.slice(t,n):h.call(e,t,n)}function orderByFilter(e){function processPredicates(t){return t.map(function(t){var n=1,r=identity;if(isFunction(t))r=t;else if(isString(t)&&("+"!=t.charAt(0)&&"-"!=t.charAt(0)||(n="-"==t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(r=e(t),r.constant))){var i=r();r=function(e){return e[i]}}return{get:r,descending:n}})}function isPrimitive(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function objectValue(e){return isFunction(e.valueOf)&&(e=e.valueOf(),isPrimitive(e))?e:hasCustomToString(e)&&(e=e.toString(),isPrimitive(e))?e:e}function getPredicateValue(e,t){var n=typeof e;return null===e?(n="string",e="null"):"object"===n&&(e=objectValue(e)),{value:e,type:n,index:t}}function defaultCompare(e,t){var n=0,r=e.type,i=t.type;if(r===i){var o=e.value,s=t.value;"string"===r?(o=o.toLowerCase(),s=s.toLowerCase()):"object"===r&&(isObject(o)&&(o=e.index),isObject(s)&&(s=t.index)),o!==s&&(n=o<s?-1:1)}else n=r<i?-1:1;return n}return function(e,t,n,r){function getComparisonObject(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:i.map(function(n){return getPredicateValue(n.get(e),t)})}}function doComparison(e,t){for(var n=0,r=i.length;n<r;n++){var a=s(e.predicateValues[n],t.predicateValues[n]);if(a)return a*i[n].descending*o}return s(e.tieBreaker,t.tieBreaker)*o}if(null==e)return e;if(!isArrayLike(e))throw minErr("orderBy")("notarray","Expected array but received: {0}",e);b(t)||(t=[t]),0===t.length&&(t=["+"]);var i=processPredicates(t),o=n?-1:1,s=isFunction(r)?r:defaultCompare,a=Array.prototype.map.call(e,getComparisonObject);return a.sort(doComparison),e=a.map(function(e){return e.value})}}function ngDirective(e){return isFunction(e)&&(e={link:e}),e.restrict=e.restrict||"AC",valueFn(e)}function nullFormRenameControl(e,t){e.$name=t}function FormController(e,t,n,r,i){var o=this,s=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=i(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=at,o.$rollbackViewValue=function(){forEach(s,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){forEach(s,function(e){e.$commitViewValue()})},o.$addControl=function(e){assertNotHasOwnProperty(e.$name,"input"),s.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],o[t]=e,e.$name=t},o.$removeControl=function(e){e.$name&&o[e.$name]===e&&delete o[e.$name],forEach(o.$pending,function(t,n){o.$setValidity(n,null,e)}),forEach(o.$error,function(t,n){o.$setValidity(n,null,e)}),forEach(o.$$success,function(t,n){o.$setValidity(n,null,e)}),arrayRemove(s,e),e.$$parentForm=at},addSetValidityMethod({ctrl:this,$element:e,set:function(e,t,n){var r=e[t];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else e[t]=[n]},unset:function(e,t,n){var r=e[t];r&&(arrayRemove(r,n),0===r.length&&delete e[t])},$animate:r}),o.$setDirty=function(){r.removeClass(e,Wt),r.addClass(e,zt),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){r.setClass(e,Wt,zt+" "+ct),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,forEach(s,function(e){e.$setPristine()})},o.$setUntouched=function(){forEach(s,function(e){e.$setUntouched()})},o.$setSubmitted=function(){r.addClass(e,ct),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}function stringBasedInputType(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function textInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r)}function baseInputType(e,t,r,o,s,a){var c=i(t[0].type);if(!s.android){var u=!1;t.on("compositionstart",function(){u=!0}),t.on("compositionend",function(){u=!1,f()})}var l,f=function(e){if(l&&(a.defer.cancel(l),l=null),!u){var n=t.val(),i=e&&e.type;"password"===c||r.ngTrim&&"false"===r.ngTrim||(n=x(n)),(o.$viewValue!==n||""===n&&o.$$hasNativeValidators)&&o.$setViewValue(n,i)}};if(s.hasEvent("input"))t.on("input",f);else{var h=function(e,t,n){l||(l=a.defer(function(){l=null,t&&t.value===n||f(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||h(e,this,this.value)}),s.hasEvent("paste")&&t.on("paste cut",h)}t.on("change",f),xt[c]&&o.$$hasNativeValidators&&c===r.type&&t.on(wt,function(e){if(!l){var t=this[n],r=t.badInput,i=t.typeMismatch;l=a.defer(function(){l=null,t.badInput===r&&t.typeMismatch===i||f(e)})}}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;t.val()!==e&&t.val(e)}}function weekParser(e,t){if(isDate(e))return e;if(isString(e)){yt.lastIndex=0;var n=yt.exec(e);if(n){var r=+n[1],i=+n[2],o=0,s=0,a=0,c=0,u=getFirstThursdayOfYear(r),l=7*(i-1);return t&&(o=t.getHours(),s=t.getMinutes(),a=t.getSeconds(),c=t.getMilliseconds()),new Date(r,0,u.getDate()+l,o,s,a,c)}}return NaN}function createDateParser(e,t){return function(n,r){var i,o;if(isDate(n))return n;if(isString(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ht.test(n))return new Date(n);if(e.lastIndex=0,i=e.exec(n))return i.shift(),o=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(i,function(e,n){n<t.length&&(o[t[n]]=+e)}),new Date(o.yyyy,o.MM-1,o.dd,o.HH,o.mm,o.ss||0,1e3*o.sss||0)}return NaN}}function createDateInputType(e,t,n,r){return function(i,o,s,a,c,u,l){function isValidDate(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function parseObservedDateValue(e){return isDefined(e)&&!isDate(e)?n(e)||void 0:e}badInputChecker(i,o,s,a),baseInputType(i,o,s,a,c,u);var f,h=a&&a.$options&&a.$options.timezone;if(a.$$parserName=e,a.$parsers.push(function(e){if(a.$isEmpty(e))return null;if(t.test(e)){var r=n(e,f);return h&&(r=convertTimezoneToLocal(r,h)),r}}),a.$formatters.push(function(e){if(e&&!isDate(e))throw Yt("datefmt","Expected `{0}` to be a date",e);return isValidDate(e)?(f=e,f&&h&&(f=convertTimezoneToLocal(f,h,!0)),l("date")(e,r,h)):(f=null,"")}),isDefined(s.min)||s.ngMin){var p;a.$validators.min=function(e){return!isValidDate(e)||isUndefined(p)||n(e)>=p},s.$observe("min",function(e){p=parseObservedDateValue(e),a.$validate()})}if(isDefined(s.max)||s.ngMax){var d;a.$validators.max=function(e){return!isValidDate(e)||isUndefined(d)||n(e)<=d},s.$observe("max",function(e){d=parseObservedDateValue(e),a.$validate()})}}}function badInputChecker(e,t,r,i){var o=t[0],s=i.$$hasNativeValidators=isObject(o.validity);s&&i.$parsers.push(function(e){var r=t.prop(n)||{};return r.badInput||r.typeMismatch?void 0:e})}function numberInputType(e,t,n,r,i,o){if(badInputChecker(e,t,n,r),baseInputType(e,t,n,r,i,o),r.$$parserName="number",r.$parsers.push(function(e){return r.$isEmpty(e)?null:mt.test(e)?parseFloat(e):void 0}),r.$formatters.push(function(e){if(!r.$isEmpty(e)){if(!isNumber(e))throw Yt("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e}),isDefined(n.min)||n.ngMin){var s;r.$validators.min=function(e){return r.$isEmpty(e)||isUndefined(s)||e>=s},n.$observe("min",function(e){isDefined(e)&&!isNumber(e)&&(e=parseFloat(e)),s=isNumber(e)&&!isNaN(e)?e:void 0,r.$validate()})}if(isDefined(n.max)||n.ngMax){var a;r.$validators.max=function(e){return r.$isEmpty(e)||isUndefined(a)||e<=a},n.$observe("max",function(e){isDefined(e)&&!isNumber(e)&&(e=parseFloat(e)),a=isNumber(e)&&!isNaN(e)?e:void 0,r.$validate()})}}function urlInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r),r.$$parserName="url",r.$validators.url=function(e,t){var n=e||t;return r.$isEmpty(n)||pt.test(n)}}function emailInputType(e,t,n,r,i,o){baseInputType(e,t,n,r,i,o),stringBasedInputType(r),r.$$parserName="email",r.$validators.email=function(e,t){var n=e||t;return r.$isEmpty(n)||dt.test(n)}}function radioInputType(e,t,n,r){isUndefined(n.name)&&t.attr("name",nextUid());var i=function(e){t[0].checked&&r.$setViewValue(n.value,e&&e.type)};t.on("click",i),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function parseConstantExpr(e,t,n,r,i){var o;if(isDefined(r)){if(o=e(r),!o.constant)throw Yt("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(t)}return i}function checkboxInputType(e,t,n,r,i,o,s,a){var c=parseConstantExpr(a,e,"ngTrueValue",n.ngTrueValue,!0),u=parseConstantExpr(a,e,"ngFalseValue",n.ngFalseValue,!1),l=function(e){r.$setViewValue(t[0].checked,e&&e.type)};t.on("click",l),r.$render=function(){t[0].checked=r.$viewValue},r.$isEmpty=function(e){return e===!1},r.$formatters.push(function(e){return equals(e,c)}),r.$parsers.push(function(e){return e?c:u})}function classDirective(e,t){return e="ngClass"+e,["$animate",function(n){function arrayDifference(e,t){var n=[];e:for(var r=0;r<e.length;r++){for(var i=e[r],o=0;o<t.length;o++)if(i==t[o])continue e;n.push(i)}return n}function arrayClasses(e){var t=[];return b(e)?(forEach(e,function(e){t=t.concat(arrayClasses(e))}),t):isString(e)?e.split(" "):isObject(e)?(forEach(e,function(e,n){e&&(t=t.concat(n.split(" ")))}),t):e}return{restrict:"AC",link:function(r,i,o){function addClasses(e){var t=digestClassCounts(e,1);o.$addClass(t)}function removeClasses(e){var t=digestClassCounts(e,-1);o.$removeClass(t)}function digestClassCounts(e,t){var n=i.data("$classCounts")||createMap(),r=[];return forEach(e,function(e){(t>0||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(t>0)&&r.push(e))}),i.data("$classCounts",n),r.join(" ")}function updateClasses(e,t){var r=arrayDifference(t,e),o=arrayDifference(e,t);r=digestClassCounts(r,1),o=digestClassCounts(o,-1),r&&r.length&&n.addClass(i,r),o&&o.length&&n.removeClass(i,o)}function ngClassWatchAction(e){if(t===!0||(1&r.$index)===t){var n=arrayClasses(e||[]);if(s){if(!equals(e,s)){var i=arrayClasses(s);updateClasses(i,n)}}else addClasses(n)}s=b(e)?e.map(function(e){return shallowCopy(e)}):shallowCopy(e)}var s;r.$watch(o[e],ngClassWatchAction,!0),o.$observe("class",function(t){ngClassWatchAction(r.$eval(o[e]))}),"ngClass"!==e&&r.$watch("$index",function(n,i){var s=1&n;if(s!==(1&i)){var a=arrayClasses(r.$eval(o[e]));s===t?addClasses(a):removeClasses(a)}})}}}]}function addSetValidityMethod(e){function setValidity(e,n,r){isUndefined(n)?createAndSet("$pending",e,r):unsetAndCleanup("$pending",e,r),isBoolean(n)?n?(o(t.$error,e,r),i(t.$$success,e,r)):(i(t.$error,e,r),o(t.$$success,e,r)):(o(t.$error,e,r),o(t.$$success,e,r)),t.$pending?(cachedToggleClass(Qt,!0),t.$valid=t.$invalid=void 0,toggleValidationCss("",null)):(cachedToggleClass(Qt,!1),t.$valid=isObjectEmpty(t.$error),t.$invalid=!t.$valid,toggleValidationCss("",t.$valid));var s;s=t.$pending&&t.$pending[e]?void 0:!t.$error[e]&&(!!t.$$success[e]||null),toggleValidationCss(e,s),t.$$parentForm.$setValidity(e,s,t)}function createAndSet(e,n,r){t[e]||(t[e]={}),i(t[e],n,r)}function unsetAndCleanup(e,n,r){t[e]&&o(t[e],n,r),isObjectEmpty(t[e])&&(t[e]=void 0)}function cachedToggleClass(e,t){t&&!r[e]?(s.addClass(n,e),r[e]=!0):!t&&r[e]&&(s.removeClass(n,e),r[e]=!1)}function toggleValidationCss(e,t){e=e?"-"+snake_case(e,"-"):"",cachedToggleClass(Vt+e,t===!0),cachedToggleClass(Ht+e,t===!1)}var t=e.ctrl,n=e.$element,r={},i=e.set,o=e.unset,s=e.$animate;r[Ht]=!(r[Vt]=n.hasClass(Vt)),t.$setValidity=setValidity}function isObjectEmpty(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function chromeHack(e){e[0].hasAttribute("selected")&&(e[0].selected=!0)}var t=/^\/(.+)\/([a-z]*)$/,n="validity",r=Object.prototype.hasOwnProperty,i=function(e){return isString(e)?e.toLowerCase():e},o=function(e){return isString(e)?e.toUpperCase():e},s=function(e){return isString(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},a=function(e){return isString(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)&-33)}):e};"i"!=="I".toLowerCase()&&(i=s,o=a);var c,u,l,f,h=[].slice,p=[].splice,d=[].push,m=Object.prototype.toString,g=Object.getPrototypeOf,v=minErr("ng"),y=e.angular||(e.angular={}),$=0;c=e.document.documentMode,noop.$inject=[],identity.$inject=[];var b=Array.isArray,w=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,x=function(e){return isString(e)?e.trim():e},S=function(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},C=function(){function noUnsafeEval(){try{return new Function(""),!1}catch(e){return!0}}if(!isDefined(C.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");C.rules={noUnsafeEval:!n||n.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!n||n.indexOf("no-inline-style")!==-1}}else C.rules={noUnsafeEval:noUnsafeEval(),noInlineStyle:!1}}return C.rules},k=function(){if(isDefined(k.name_))return k.name_;var t,n,r,i,o=A.length;for(n=0;n<o;++n)if(r=A[n],t=e.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return k.name_=i},E=/:/g,A=["ng-","data-ng-","ng:","x-ng-"],_=/[A-Z]/g,T=!1,O=1,P=2,D=3,j=8,N=9,M=11,I={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};JQLite.expando="ng339";var R=JQLite.cache={},L=1,F=function(e,t,n){e.addEventListener(t,n,!1)},q=function(e,t,n){e.removeEventListener(t,n,!1)};JQLite._data=function(e){return this.cache[e[this.expando]]||{}};var U=/([\:\-\_]+(.))/g,B=/^moz([A-Z])/,V={mouseleave:"mouseout",mouseenter:"mouseover"},H=minErr("jqLite"),W=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,z=/<|&#?\w+;/,J=/<([\w:-]+)/,G=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Q={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Q.optgroup=Q.option,Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead,Q.th=Q.td;var K=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},X=JQLite.prototype={ready:function(t){function trigger(){n||(n=!0,t())}var n=!1;"complete"===e.document.readyState?e.setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(e).on("load",trigger))},toString:function(){var e=[];return forEach(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return u(e>=0?this[e]:this[this.length+e])},length:0,push:d,sort:[].sort,splice:[].splice},Y={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){Y[i(e)]=e});var Z={};forEach("input,select,option,textarea,button,form,details".split(","),function(e){Z[e]=!0});var ee={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData,hasData:jqLiteHasData,cleanData:jqLiteCleanData},function(e,t){JQLite[t]=e}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(e){return u.data(e,"$scope")||jqLiteInheritedData(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return u.data(e,"$isolateScope")||u.data(e,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(e){return jqLiteInheritedData(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:jqLiteHasClass,css:function(e,t,n){return t=camelCase(t),isDefined(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var r=e.nodeType;if(r!==D&&r!==P&&r!==j){var o=i(t);if(Y[o]){if(!isDefined(n))return e[t]||(e.attributes.getNamedItem(t)||noop).specified?o:void 0;n?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(isDefined(n))e.setAttribute(t,n);else if(e.getAttribute){var s=e.getAttribute(t,2);return null===s?void 0:s}}},prop:function(e,t,n){return isDefined(n)?void(e[t]=n):e[t]},text:function(){function getText(e,t){if(isUndefined(t)){var n=e.nodeType;return n===O||n===D?e.textContent:""}e.textContent=t}return getText.$dv="",getText}(),val:function(e,t){if(isUndefined(t)){if(e.multiple&&"select"===nodeName_(e)){var n=[];return forEach(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){return isUndefined(t)?e.innerHTML:(jqLiteDealoc(e,!0),void(e.innerHTML=t))},empty:jqLiteEmpty},function(e,t){JQLite.prototype[t]=function(t,n){var r,i,o=this.length;if(e!==jqLiteEmpty&&isUndefined(2==e.length&&e!==jqLiteHasClass&&e!==jqLiteController?t:n)){if(isObject(t)){for(r=0;r<o;r++)if(e===jqLiteData)e(this[r],t);else for(i in t)e(this[r],i,t[i]);return this}for(var s=e.$dv,a=isUndefined(s)?Math.min(o,1):o,c=0;c<a;c++){var u=e(this[c],t,n);s=s?s+u:u}return s}for(r=0;r<o;r++)e(this[r],t,n);return this}}),forEach({removeData:jqLiteRemoveData,on:function(e,t,n,r){if(isDefined(r))throw H("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(e)){var i=jqLiteExpandoStore(e,!0),o=i.events,s=i.handle;s||(s=i.handle=createEventHandler(e,o));for(var a=t.indexOf(" ")>=0?t.split(" "):[t],c=a.length,u=function(t,r,i){var a=o[t];a||(a=o[t]=[],a.specialHandlerWrapper=r,"$destroy"===t||i||F(e,t,s)),a.push(n)};c--;)t=a[c],V[t]?(u(V[t],specialMouseHandlerWrapper),u(t,void 0,!0)):u(t)}},off:jqLiteOff,one:function(e,t,n){e=u(e),e.on(t,function onFn(){e.off(t,n),e.off(t,onFn)}),e.on(t,n)},replaceWith:function(e,t){var n,r=e.parentNode;jqLiteDealoc(e),forEach(new JQLite(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return forEach(e.childNodes,function(e){e.nodeType===O&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===O||n===M){t=new JQLite(t);for(var r=0,i=t.length;r<i;r++){var o=t[r];e.appendChild(o)}}},prepend:function(e,t){if(e.nodeType===O){var n=e.firstChild;forEach(new JQLite(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){jqLiteWrapNode(e,u(t).eq(0).clone()[0])},remove:jqLiteRemove,detach:function(e){jqLiteRemove(e,!0)},after:function(e,t){var n=e,r=e.parentNode;t=new JQLite(t);for(var i=0,o=t.length;i<o;i++){var s=t[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(e,t,n){t&&forEach(t.split(" "),function(t){var r=n;isUndefined(r)&&(r=!jqLiteHasClass(e,t)),(r?jqLiteAddClass:jqLiteRemoveClass)(e,t)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==M?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:jqLiteClone,triggerHandler:function(e,t,n){var r,i,o,s=t.type||t,a=jqLiteExpandoStore(e),c=a&&a.events,u=c&&c[s];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:s,target:e},t.type&&(r=extend(r,t)),i=shallowCopy(u),o=n?[r].concat(n):[r],forEach(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,o)}))}},function(e,t){JQLite.prototype[t]=function(t,n,r){for(var i,o=0,s=this.length;o<s;o++)isUndefined(i)?(i=e(this[o],t,n,r),isDefined(i)&&(i=u(i))):jqLiteAddNodes(i,e(this[o],t,n,r));return isDefined(i)?i:this},JQLite.prototype.bind=JQLite.prototype.on,
JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(e,t){this[hashKey(e,this.nextUid)]=t},get:function(e){return this[hashKey(e,this.nextUid)]},remove:function(e){var t=this[e=hashKey(e,this.nextUid)];return delete this[e],t}};var te=[function(){this.$get=[function(){return HashMap}]}],ne=/^([^\(]+?)=>/,re=/^[^\(]*\(\s*([^\)]*)\)/m,ie=/,/,oe=/^\s*(_?)(\S+?)\1\s*$/,se=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ae=minErr("$injector");createInjector.$$annotate=annotate;var ce=minErr("$animate"),ue=1,le="ng-animate",fe=function(){this.$get=noop},he=function(){var e=new HashMap,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function updateData(e,t,n){var r=!1;return t&&(t=isString(t)?t.split(" "):b(t)?t:[],forEach(t,function(t){t&&(r=!0,e[t]=n)})),r}function handleCSSClassChanges(){forEach(t,function(t){var n=e.get(t);if(n){var r=splitClasses(t.attr("class")),i="",o="";forEach(n,function(e,t){var n=!!r[t];e!==n&&(e?i+=(i.length?" ":"")+t:o+=(o.length?" ":"")+t)}),forEach(t,function(e){i&&jqLiteAddClass(e,i),o&&jqLiteRemoveClass(e,o)}),e.remove(t)}}),t.length=0}function addRemoveClassesPostDigest(n,i,o){var s=e.get(n)||{},a=updateData(s,i,!0),c=updateData(s,o,!1);(a||c)&&(e.put(n,s),t.push(n),1===t.length&&r.$$postDigest(handleCSSClassChanges))}return{enabled:noop,on:noop,off:noop,pin:noop,push:function(e,t,r,i){i&&i(),r=r||{},r.from&&e.css(r.from),r.to&&e.css(r.to),(r.addClass||r.removeClass)&&addRemoveClassesPostDigest(e,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},pe=["$provide",function(e){var t=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw ce("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";t.$$registeredAnimations[n.substr(1)]=i,e.factory(i,r)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter)){var t=new RegExp("(\\s+|\\/)"+le+"(\\s+|\\/)");if(t.test(this.$$classNameFilter.toString()))throw ce("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',le)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(e){function domInsert(e,t,n){if(n){var r=extractElementNode(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.end&&e.end()},enter:function(t,n,r,i){return n=n&&u(n),r=r&&u(r),n=n||r.parent(),domInsert(t,n,r),e.push(t,"enter",prepareAnimateOptions(i))},move:function(t,n,r,i){return n=n&&u(n),r=r&&u(r),n=n||r.parent(),domInsert(t,n,r),e.push(t,"move",prepareAnimateOptions(i))},leave:function(t,n){return e.push(t,"leave",prepareAnimateOptions(n),function(){t.remove()})},addClass:function(t,n,r){return r=prepareAnimateOptions(r),r.addClass=mergeClasses(r.addclass,n),e.push(t,"addClass",r)},removeClass:function(t,n,r){return r=prepareAnimateOptions(r),r.removeClass=mergeClasses(r.removeClass,n),e.push(t,"removeClass",r)},setClass:function(t,n,r,i){return i=prepareAnimateOptions(i),i.addClass=mergeClasses(i.addClass,n),i.removeClass=mergeClasses(i.removeClass,r),e.push(t,"setClass",i)},animate:function(t,n,r,i,o){return o=prepareAnimateOptions(o),o.from=o.from?extend(o.from,n):n,o.to=o.to?extend(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=mergeClasses(o.tempClasses,i),e.push(t,"animate",o)}}}]}],de=function(){this.$get=["$$rAF",function(e){function waitForTick(n){t.push(n),t.length>1||e(function(){for(var e=0;e<t.length;e++)t[e]();t=[]})}var t=[];return function(){var e=!1;return waitForTick(function(){e=!0}),function(t){e?t():waitForTick(t)}}}]},me=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(e,t,n,r,i){function AnimateRunner(e){this.setHost(e);var t=n(),o=function(e){i(e,0,!1)};this._doneCallbacks=[],this._tick=function(e){var n=r[0];n&&n.hidden?o(e):t(e)},this._state=0}var o=0,s=1,a=2;return AnimateRunner.chain=function(e,t){function next(){return n===e.length?void t(!0):void e[n](function(e){return e===!1?void t(!1):(n++,void next())})}var n=0;next()},AnimateRunner.all=function(e,t){function onProgress(i){r=r&&i,++n===e.length&&t(r)}var n=0,r=!0;forEach(e,function(e){e.done(onProgress)})},AnimateRunner.prototype={setHost:function(e){this.host=e||{}},done:function(e){this._state===a?e():this._doneCallbacks.push(e)},progress:noop,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){t===!1?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;t._state===o&&(t._state=s,t._tick(function(){t._resolve(e)}))},_resolve:function(e){this._state!==a&&(forEach(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=a)}},AnimateRunner}]},ge=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,r){function run(){return e(function(){applyAnimationContents(),o||s.complete(),o=!0}),s}function applyAnimationContents(){i.addClass&&(t.addClass(i.addClass),i.addClass=null),i.removeClass&&(t.removeClass(i.removeClass),i.removeClass=null),i.to&&(t.css(i.to),i.to=null)}var i=r||{};i.$$prepared||(i=copy(i)),i.cleanupStyles&&(i.from=i.to=null),i.from&&(t.css(i.from),i.from=null);var o,s=new n;return{start:run,end:run}}}]},ve=minErr("$compile"),ye=new UNINITIALIZED_VALUE;$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"],SimpleChange.prototype.isFirstChange=function(){return this.previousValue===ye};var $e=/^((?:x|data)[\:\-_])/i,be=minErr("$controller"),we=/^(\S+)(\s+as\s+([\w$]+))?$/,xe=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof u&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Se="application/json",Ce={"Content-Type":Se+";charset=utf-8"},ke=/^\[|^\{(?!\{)/,Ee={"[":/]$/,"{":/}$/},Ae=/^\)\]\}',?\n/,_e=minErr("$http"),Te=function(e){return function(){throw _e("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}},Oe=y.$interpolateMinErr=minErr("$interpolate");Oe.throwNoconcat=function(e){throw Oe("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Oe.interr=function(e,t){return Oe("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Pe=function(){this.$get=["$window",function(e){function createCallback(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=e.angular.callbacks,n={};return{createCallback:function(e){var r="_"+(t.$$counter++).toString(36),i="angular.callbacks."+r,o=createCallback(r);return n[i]=t[r]=o,i},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){var r=n[e];delete t[r.id],delete n[e]}}}]},De=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,je={http:80,https:443,ftp:21},Ne=minErr("$location"),Me={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(e){if(isUndefined(e))return this.$$url;var t=De.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(e){return e=null!==e?e.toString():"","/"==e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(e)||isNumber(e))e=e.toString(),this.$$search=parseKeyValue(e);else{if(!isObject(e))throw Ne("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e=copy(e,{}),forEach(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:isUndefined(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(e){e.prototype=Object.create(Me),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==LocationHtml5Url||!this.$$html5)throw Ne("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(t)?null:t,this}});var Ie=minErr("$parse"),Re=Function.prototype.call,Le=Function.prototype.apply,Fe=Function.prototype.bind,qe=createMap();forEach("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){qe[e]=!0});var Ue={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Be=function(e){this.options=e};Be.prototype={constructor:Be,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),r=n+this.peek(2),i=qe[t],o=qe[n],s=qe[r];if(i||o||s){var a=s?r:o?n:t;this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return t.indexOf(e)!==-1},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),r=t.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var r=isDefined(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw Ie("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,r,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=i(this.text.charAt(this.index));if("."==n||this.isNumber(n))e+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))e+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",r=e,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var s=this.text.substring(this.index+1,this.index+5);s.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+s+"]"),this.index+=4,n+=String.fromCharCode(parseInt(s,16))}else{var a=Ue[o];n+=a||o}i=!1}else if("\\"===o)i=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Ve=function(e,t){this.lexer=e,this.options=t};Ve.Program="Program",Ve.ExpressionStatement="ExpressionStatement",Ve.AssignmentExpression="AssignmentExpression",Ve.ConditionalExpression="ConditionalExpression",Ve.LogicalExpression="LogicalExpression",Ve.BinaryExpression="BinaryExpression",Ve.UnaryExpression="UnaryExpression",Ve.CallExpression="CallExpression",Ve.MemberExpression="MemberExpression",Ve.Identifier="Identifier",Ve.Literal="Literal",Ve.ArrayExpression="ArrayExpression",Ve.Property="Property",Ve.ObjectExpression="ObjectExpression",Ve.ThisExpression="ThisExpression",Ve.LocalsExpression="LocalsExpression",Ve.NGValueParameter="NGValueParameter",Ve.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Ve.Program,body:e}},expressionStatement:function(){return{type:Ve.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e,t=this.expression();e=this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();return this.expect("=")&&(e={type:Ve.AssignmentExpression,left:e,right:this.assignment(),operator:"="}),e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Ve.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Ve.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Ve.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Ve.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Ve.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Ve.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Ve.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Ve.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=copy(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Ve.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Ve.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Ve.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Ve.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:Ve.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Ve.Identifier,name:e.text}},constant:function(){return{type:Ve.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Ve.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Ve.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Ve.ObjectExpression,properties:t}},throwError:function(e,t){throw Ie("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw Ie("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw Ie("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,r){return this.peekAhead(0,e,t,n,r)},peekAhead:function(e,t,n,r,i){if(this.tokens.length>e){var o=this.tokens[e],s=o.text;if(s===t||s===n||s===r||s===i||!t&&!n&&!r&&!i)return o}return!1},expect:function(e,t,n,r){var i=this.peek(e,t,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Ve.ThisExpression},$locals:{type:Ve.LocalsExpression}}},ASTCompiler.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},findConstantAndWatchExpressions(r,n.$filter);var i,o="";if(this.stage="assign",i=assignableAST(r)){this.state.computing="assign";var s=this.nextId();this.recurse(i,s),this.return_(s),o="fn.assign="+this.generateFunction("assign","s,v,l")}var a=getInputs(r.body);n.stage="inputs",forEach(a,function(e,t){var r="fn"+t;n.state[r]={vars:[],body:[],own:{}},n.state.computing=r;var i=n.nextId();n.recurse(e,i),n.return_(i),n.state.inputs.push(r),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(r);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",u=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",c)(this.$filter,ensureSafeMemberName,ensureSafeObject,ensureSafeFunction,getStringValue,ensureSafeAssignContext,ifDefined,plusFn,e);return this.state=this.stage=void 0,u.literal=isLiteral(r),u.constant=isConstant(r),u},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return forEach(t,function(t){e.push("var "+t+"="+n.generateFunction(t,"s"))}),t.length&&e.push("fn.inputs=["+t.join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return forEach(this.state.filters,function(n,r){e.push(n+"=$filter("+t.escape(r)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,r,i,o){var s,a,c,u,l,f=this;if(r=r||noop,!o&&isDefined(e.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,r,i,!0));switch(e.type){case Ve.Program:forEach(e.body,function(t,n){f.recurse(t.expression,void 0,void 0,function(e){a=e}),n!==e.body.length-1?f.current().body.push(a,";"):f.return_(a)});break;case Ve.Literal:u=this.escape(e.value),this.assign(t,u),r(u);break;case Ve.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){a=e}),u=e.operator+"("+this.ifDefined(a,0)+")",this.assign(t,u),r(u);break;case Ve.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){a=e}),u="+"===e.operator?this.plus(s,a):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(a,0):"("+s+")"+e.operator+"("+a+")",this.assign(t,u),r(u);break;case Ve.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),r(t);break;case Ve.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),r(t);break;case Ve.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),ensureSafeMemberName(e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){i&&1!==i&&f.if_(f.not(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),(f.state.expensiveChecks||isPossiblyDangerousMemberName(e.name))&&f.addEnsureSafeObject(t),r(t);break;case Ve.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,s,void 0,function(){f.if_(f.notNull(s),function(){i&&1!==i&&f.addEnsureSafeAssignContext(s),e.computed?(a=f.nextId(),f.recurse(e.property,a),f.getStringValue(a),f.addEnsureSafeMemberName(a),i&&1!==i&&f.if_(f.not(f.computedMember(s,a)),f.lazyAssign(f.computedMember(s,a),"{}")),u=f.ensureSafeObject(f.computedMember(s,a)),f.assign(t,u),n&&(n.computed=!0,n.name=a)):(ensureSafeMemberName(e.property.name),i&&1!==i&&f.if_(f.not(f.nonComputedMember(s,e.property.name)),f.lazyAssign(f.nonComputedMember(s,e.property.name),"{}")),u=f.nonComputedMember(s,e.property.name),(f.state.expensiveChecks||isPossiblyDangerousMemberName(e.property.name))&&(u=f.ensureSafeObject(u)),f.assign(t,u),n&&(n.computed=!1,n.name=e.property.name))},function(){f.assign(t,"undefined")}),r(t)},!!i);break;case Ve.CallExpression:t=t||this.nextId(),e.filter?(a=f.filter(e.callee.name),c=[],forEach(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),c.push(t)}),u=a+"("+c.join(",")+")",f.assign(t,u),r(t)):(a=f.nextId(),s={},c=[],f.recurse(e.callee,a,s,function(){f.if_(f.notNull(a),function(){f.addEnsureSafeFunction(a),forEach(e.arguments,function(e){f.recurse(e,f.nextId(),void 0,function(e){c.push(f.ensureSafeObject(e))})}),s.name?(f.state.expensiveChecks||f.addEnsureSafeObject(s.context),u=f.member(s.context,s.name,s.computed)+"("+c.join(",")+")"):u=a+"("+c.join(",")+")",u=f.ensureSafeObject(u),f.assign(t,u)},function(){f.assign(t,"undefined")}),r(t)}));break;case Ve.AssignmentExpression:if(a=this.nextId(),s={},!isAssignable(e.left))throw Ie("lval","Trying to assign a value to a non l-value");this.recurse(e.left,void 0,s,function(){f.if_(f.notNull(s.context),function(){f.recurse(e.right,a),f.addEnsureSafeObject(f.member(s.context,s.name,s.computed)),f.addEnsureSafeAssignContext(s.context),u=f.member(s.context,s.name,s.computed)+e.operator+a,f.assign(t,u),r(t||u)})},1);break;case Ve.ArrayExpression:c=[],forEach(e.elements,function(e){f.recurse(e,f.nextId(),void 0,function(e){c.push(e)})}),u="["+c.join(",")+"]",this.assign(t,u),r(u);break;case Ve.ObjectExpression:c=[],l=!1,forEach(e.properties,function(e){e.computed&&(l=!0)}),l?(t=t||this.nextId(),this.assign(t,"{}"),forEach(e.properties,function(e){e.computed?(s=f.nextId(),f.recurse(e.key,s)):s=e.key.type===Ve.Identifier?e.key.name:""+e.key.value,a=f.nextId(),f.recurse(e.value,a),f.assign(f.member(t,s,e.computed),a)})):(forEach(e.properties,function(t){f.recurse(t.value,e.constant?void 0:f.nextId(),void 0,function(e){c.push(f.escape(t.key.type===Ve.Identifier?t.key.name:""+t.key.value)+":"+e)})}),u="{"+c.join(",")+"}",this.assign(t,u)),r(t||u);break;case Ve.ThisExpression:this.assign(t,"s"),r("s");break;case Ve.LocalsExpression:this.assign(t,"l"),r("l");break;case Ve.NGValueParameter:this.assign(t,"v"),r("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),r[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(e===!0)t();else{var r=this.current().body;r.push("if(",e,"){"),t(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[$_a-zA-Z][$_a-zA-Z0-9]*/,r=/[^$_a-zA-Z0-9]/g;return n.test(t)?e+"."+t:e+'["'+t.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,r,i,o){var s=this;return function(){s.recurse(e,t,n,r,i,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(isString(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(isNumber(e))return e.toString();if(e===!0)return"true";if(e===!1)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw Ie("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},ASTInterpreter.prototype={compile:function(e,t){var n=this,r=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,findConstantAndWatchExpressions(r,n.$filter);var i,o;(i=assignableAST(r))&&(o=this.recurse(i));var s,a=getInputs(r.body);a&&(s=[],forEach(a,function(e,t){var r=n.recurse(e);e.input=r,s.push(r),e.watchId=t}));var c=[];forEach(r.body,function(e){c.push(n.recurse(e.expression))});var u=0===r.body.length?noop:1===r.body.length?c[0]:function(e,t){var n;return forEach(c,function(r){n=r(e,t)}),n};return o&&(u.assign=function(e,t,n){return o(e,n,t)}),s&&(u.inputs=s),u.literal=isLiteral(r),u.constant=isConstant(r),u},recurse:function(e,t,n){var r,i,o,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Ve.Literal:return this.value(e.value,t);case Ve.UnaryExpression:return i=this.recurse(e.argument),this["unary"+e.operator](i,t);case Ve.BinaryExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Ve.LogicalExpression:return r=this.recurse(e.left),i=this.recurse(e.right),this["binary"+e.operator](r,i,t);case Ve.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Ve.Identifier:return ensureSafeMemberName(e.name,s.expression),s.identifier(e.name,s.expensiveChecks||isPossiblyDangerousMemberName(e.name),t,n,s.expression);case Ve.MemberExpression:return r=this.recurse(e.object,!1,!!n),e.computed||(ensureSafeMemberName(e.property.name,s.expression),i=e.property.name),e.computed&&(i=this.recurse(e.property)),e.computed?this.computedMember(r,i,t,n,s.expression):this.nonComputedMember(r,i,s.expensiveChecks,t,n,s.expression);case Ve.CallExpression:return o=[],forEach(e.arguments,function(e){o.push(s.recurse(e))}),e.filter&&(i=this.$filter(e.callee.name)),e.filter||(i=this.recurse(e.callee,!0)),e.filter?function(e,n,r,s){for(var a=[],c=0;c<o.length;++c)a.push(o[c](e,n,r,s));var u=i.apply(void 0,a,s);return t?{context:void 0,name:void 0,value:u}:u}:function(e,n,r,a){var c,u=i(e,n,r,a);if(null!=u.value){ensureSafeObject(u.context,s.expression),ensureSafeFunction(u.value,s.expression);for(var l=[],f=0;f<o.length;++f)l.push(ensureSafeObject(o[f](e,n,r,a),s.expression));c=ensureSafeObject(u.value.apply(u.context,l),s.expression)}return t?{value:c}:c};case Ve.AssignmentExpression:return r=this.recurse(e.left,!0,1),i=this.recurse(e.right),function(e,n,o,a){var c=r(e,n,o,a),u=i(e,n,o,a);return ensureSafeObject(c.value,s.expression),ensureSafeAssignContext(c.context),c.context[c.name]=u,t?{value:u}:u};case Ve.ArrayExpression:return o=[],forEach(e.elements,function(e){o.push(s.recurse(e))}),function(e,n,r,i){for(var s=[],a=0;a<o.length;++a)s.push(o[a](e,n,r,i));return t?{value:s}:s};case Ve.ObjectExpression:return o=[],forEach(e.properties,function(e){e.computed?o.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):o.push({key:e.key.type===Ve.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,r,i){for(var s={},a=0;a<o.length;++a)o[a].computed?s[o[a].key(e,n,r,i)]=o[a].value(e,n,r,i):s[o[a].key]=o[a].value(e,n,r,i);return t?{value:s}:s};case Ve.ThisExpression:return function(e){return t?{value:e}:e};case Ve.LocalsExpression:return function(e,n){return t?{value:n}:n};case Ve.NGValueParameter:return function(e,n,r){return t?{value:r}:r}}},"unary+":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=isDefined(s)?+s:0,t?{value:s}:s}},"unary-":function(e,t){return function(n,r,i,o){var s=e(n,r,i,o);return s=isDefined(s)?-s:0,t?{value:s}:s}},"unary!":function(e,t){return function(n,r,i,o){var s=!e(n,r,i,o);return t?{value:s}:s}},"binary+":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),c=t(r,i,o,s),u=plusFn(a,c);return n?{value:u}:u}},"binary-":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s),c=t(r,i,o,s),u=(isDefined(a)?a:0)-(isDefined(c)?c:0);return n?{value:u}:u}},"binary*":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)*t(r,i,o,s);return n?{value:a}:a}},"binary/":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)/t(r,i,o,s);return n?{value:a}:a}},"binary%":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)%t(r,i,o,s);return n?{value:a}:a}},"binary===":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)===t(r,i,o,s);return n?{value:a
}:a}},"binary!==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!==t(r,i,o,s);return n?{value:a}:a}},"binary==":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)==t(r,i,o,s);return n?{value:a}:a}},"binary!=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)!=t(r,i,o,s);return n?{value:a}:a}},"binary<":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<t(r,i,o,s);return n?{value:a}:a}},"binary>":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>t(r,i,o,s);return n?{value:a}:a}},"binary<=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)<=t(r,i,o,s);return n?{value:a}:a}},"binary>=":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)>=t(r,i,o,s);return n?{value:a}:a}},"binary&&":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)&&t(r,i,o,s);return n?{value:a}:a}},"binary||":function(e,t,n){return function(r,i,o,s){var a=e(r,i,o,s)||t(r,i,o,s);return n?{value:a}:a}},"ternary?:":function(e,t,n,r){return function(i,o,s,a){var c=e(i,o,s,a)?t(i,o,s,a):n(i,o,s,a);return r?{value:c}:c}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n,r,i){return function(o,s,a,c){var u=s&&e in s?s:o;r&&1!==r&&u&&!u[e]&&(u[e]={});var l=u?u[e]:void 0;return t&&ensureSafeObject(l,i),n?{context:u,name:e,value:l}:l}},computedMember:function(e,t,n,r,i){return function(o,s,a,c){var u,l,f=e(o,s,a,c);return null!=f&&(u=t(o,s,a,c),u=getStringValue(u),ensureSafeMemberName(u,i),r&&1!==r&&(ensureSafeAssignContext(f),f&&!f[u]&&(f[u]={})),l=f[u],ensureSafeObject(l,i)),n?{context:f,name:u,value:l}:l}},nonComputedMember:function(e,t,n,r,i,o){return function(s,a,c,u){var l=e(s,a,c,u);i&&1!==i&&(ensureSafeAssignContext(l),l&&!l[t]&&(l[t]={}));var f=null!=l?l[t]:void 0;return(n||isPossiblyDangerousMemberName(t))&&ensureSafeObject(f,o),r?{context:l,name:t,value:f}:f}},inputs:function(e,t){return function(n,r,i,o){return o?o[t]:e(n,r,i)}}};var He=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new Ve(e,n),this.astCompiler=n.csp?new ASTInterpreter(this.ast,t):new ASTCompiler(this.ast,t)};He.prototype={constructor:He,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var We=Object.prototype.valueOf,ze=minErr("$sce"),Je={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ge=minErr("$compile"),Qe=e.document.createElement("a"),Ke=urlResolve(e.location.href);$$CookieReader.$inject=["$document"],$FilterProvider.$inject=["$provide"];var Xe=22,Ye=".",Ze="0";currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var et={yyyy:dateGetter("FullYear",4,0,!1,!0),yy:dateGetter("FullYear",2,0,!0,!0),y:dateGetter("FullYear",1,0,!1,!0),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),LLLL:dateStrGetter("Month",!1,!0),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1),G:eraGetter,GG:eraGetter,GGG:eraGetter,GGGG:longEraGetter},tt=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,nt=/^\-?\d+$/;dateFilter.$inject=["$locale"];var rt=valueFn(i),it=valueFn(o);orderByFilter.$inject=["$parse"];var ot=valueFn({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===m.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),st={};forEach(Y,function(e,t){function defaultLinkFn(e,r,i){e.$watch(i[n],function(e){i.$set(t,!!e)})}if("multiple"!=e){var n=directiveNormalize("ng-"+t),r=defaultLinkFn;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[n]&&defaultLinkFn(e,t,r)}),st[n]=function(){return{restrict:"A",priority:100,link:r}}}}),forEach(ee,function(e,n){st[n]=function(){return{priority:100,link:function(e,r,i){if("ngPattern"===n&&"/"==i.ngPattern.charAt(0)){var o=i.ngPattern.match(t);if(o)return void i.$set("ngPattern",new RegExp(o[1],o[2]))}e.$watch(i[n],function(e){i.$set(n,e)})}}}}),forEach(["src","srcset","href"],function(e){var t=directiveNormalize("ng-"+e);st[t]=function(){return{priority:99,link:function(n,r,i){var o=e,s=e;"href"===e&&"[object SVGAnimatedString]"===m.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(t,function(t){return t?(i.$set(s,t),void(c&&o&&r.prop(o,i[s]))):void("href"===e&&i.$set(s,null))})}}}});var at={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},ct="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var ut=function(e){return["$timeout","$parse",function(t,n){function getSetter(e){return""===e?n('this[""]').assign:n(e).assign||noop}var r={name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:FormController,compile:function(n,r){n.addClass(Wt).addClass(Vt);var i=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,o){var s=o[0];if(!("action"in r)){var a=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};F(n[0],"submit",a),n.on("$destroy",function(){t(function(){q(n[0],"submit",a)},0,!1)})}var c=o[1]||s.$$parentForm;c.$addControl(s);var u=i?getSetter(s.$name):noop;i&&(u(e,s),r.$observe(i,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=getSetter(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),extend(s,at)})}}}};return r}]},lt=ut(),ft=ut(!0),ht=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,pt=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,dt=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mt=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,gt=/^(\d{4,})-(\d{2})-(\d{2})$/,vt=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,yt=/^(\d{4,})-W(\d\d)$/,$t=/^(\d{4,})-(\d\d)$/,bt=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,wt="keydown wheel mousedown",xt=createMap();forEach("date,datetime-local,month,time,week".split(","),function(e){xt[e]=!0});var St={text:textInputType,date:createDateInputType("date",gt,createDateParser(gt,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",vt,createDateParser(vt,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",bt,createDateParser(bt,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",yt,weekParser,"yyyy-Www"),month:createDateInputType("month",$t,createDateParser($t,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},Ct=["$browser","$sniffer","$filter","$parse",function(e,t,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(o,s,a,c){c[0]&&(St[i(a.type)]||St.text)(o,s,a,c[0],t,e,n,r)}}}}],kt=/^(true|false|\d+)$/,Et=function(){return{restrict:"A",priority:100,compile:function(e,t){return kt.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},At=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,r){e.$$addBindingInfo(n,r.ngBind),n=n[0],t.$watch(r.ngBind,function(e){n.textContent=isUndefined(e)?"":e})}}}}],_t=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,r,i){var o=e(r.attr(i.$attr.ngBindTemplate));t.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(e){r.textContent=isUndefined(e)?"":e})}}}}],Tt=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(r,i){var o=t(i.ngBindHtml),s=t(i.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(r),function(t,r,i){n.$$addBindingInfo(r,i.ngBindHtml),t.$watch(s,function(){var n=o(t);r.html(e.getTrustedHtml(n)||"")})}}}}],Ot=valueFn({restrict:"A",require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Pt=classDirective("",!0),Dt=classDirective("Odd",0),jt=classDirective("Even",1),Nt=ngDirective({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),Mt=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],It={},Rt={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=directiveNormalize("ng-"+e);It[t]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[t],null,!0);return function(t,n){n.on(e,function(n){var i=function(){s(t,{$event:n})};Rt[e]&&r.$$phase?t.$evalAsync(i):t.$apply(i)})}}}}]});var Lt=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,c,u;n.$watch(i.ngIf,function(n){n?c||s(function(n,o){c=o,n[n.length++]=t.$$createComment("end ngIf",i.ngIf),a={clone:n},e.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),c&&(c.$destroy(),c=null),a&&(u=getBlockNodes(a.clone),e.leave(u).then(function(){u=null}),a=null))})}}}],Ft=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:y.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,c,u,l){var f,h,p,d=0,m=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){h=null}),h=p,p=null)};r.$watch(o,function(o){var c=function(){!isDefined(a)||a&&!r.$eval(a)||t()},h=++d;o?(e(o,!0).then(function(e){if(!r.$$destroyed&&h===d){var t=r.$new();u.template=e;var a=l(t,function(e){m(),n.enter(e,null,i).then(c)});f=t,p=a,f.$emit("$includeContentLoaded",o),r.$eval(s)}},function(){r.$$destroyed||h===d&&(m(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],qt=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return m.call(r[0]).match(/SVG/)?(r.empty(),void t(jqLiteBuildFragment(o.template,e.document).childNodes)(n,function(e){r.append(e)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Ut=ngDirective({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Bt=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,r){var i=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,s=o?x(i):i,a=function(e){if(!isUndefined(e)){var t=[];return e&&forEach(e.split(s),function(e){e&&t.push(o?x(e):e)}),t}};r.$parsers.push(a),r.$formatters.push(function(e){if(b(e))return e.join(i)}),r.$isEmpty=function(e){return!e||!e.length}}}},Vt="ng-valid",Ht="ng-invalid",Wt="ng-pristine",zt="ng-dirty",Jt="ng-untouched",Gt="ng-touched",Qt="ng-pending",Kt="ng-empty",Xt="ng-not-empty",Yt=minErr("ngModel"),Zt=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(e,t,n,r,i,o,s,a,c,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(e),this.$$parentForm=at;var l,f=i(n.ngModel),h=f.assign,p=f,d=h,m=null,g=this;this.$$setOptions=function(e){if(g.$options=e,e&&e.getterSetter){var t=i(n.ngModel+"()"),o=i(n.ngModel+"($$$p)");p=function(e){var n=f(e);return isFunction(n)&&(n=t(e)),n},d=function(e,t){isFunction(f(e))?o(e,{$$$p:t}):h(e,t)}}else if(!f.assign)throw Yt("nonassign","Expression '{0}' is non-assignable. Element: {1}",n.ngModel,startingTag(r))},this.$render=noop,this.$isEmpty=function(e){return isUndefined(e)||""===e||null===e||e!==e},this.$$updateEmptyClasses=function(e){g.$isEmpty(e)?(o.removeClass(r,Xt),o.addClass(r,Kt)):(o.removeClass(r,Kt),o.addClass(r,Xt))};var v=0;addSetValidityMethod({ctrl:this,$element:r,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:o}),this.$setPristine=function(){g.$dirty=!1,g.$pristine=!0,o.removeClass(r,zt),o.addClass(r,Wt)},this.$setDirty=function(){g.$dirty=!0,g.$pristine=!1,o.removeClass(r,Wt),o.addClass(r,zt),g.$$parentForm.$setDirty()},this.$setUntouched=function(){g.$touched=!1,g.$untouched=!0,o.setClass(r,Jt,Gt)},this.$setTouched=function(){g.$touched=!0,g.$untouched=!1,o.setClass(r,Gt,Jt)},this.$rollbackViewValue=function(){s.cancel(m),g.$viewValue=g.$$lastCommittedViewValue,g.$render()},this.$validate=function(){if(!isNumber(g.$modelValue)||!isNaN(g.$modelValue)){var e=g.$$lastCommittedViewValue,t=g.$$rawModelValue,n=g.$valid,r=g.$modelValue,i=g.$options&&g.$options.allowInvalid;g.$$runValidators(t,e,function(e){i||n===e||(g.$modelValue=e?t:void 0,g.$modelValue!==r&&g.$$writeModelToScope())})}},this.$$runValidators=function(e,t,n){function processParseErrors(){var e=g.$$parserName||"parse";return isUndefined(l)?(setValidity(e,null),!0):(l||(forEach(g.$validators,function(e,t){setValidity(t,null)}),forEach(g.$asyncValidators,function(e,t){setValidity(t,null)})),setValidity(e,l),l)}function processSyncValidators(){var n=!0;return forEach(g.$validators,function(r,i){var o=r(e,t);n=n&&o,setValidity(i,o)}),!!n||(forEach(g.$asyncValidators,function(e,t){setValidity(t,null)}),!1)}function processAsyncValidators(){var n=[],r=!0;forEach(g.$asyncValidators,function(i,o){var s=i(e,t);if(!isPromiseLike(s))throw Yt("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",s);setValidity(o,void 0),n.push(s.then(function(){setValidity(o,!0)},function(){r=!1,setValidity(o,!1)}))}),n.length?c.all(n).then(function(){validationDone(r)},noop):validationDone(!0)}function setValidity(e,t){r===v&&g.$setValidity(e,t)}function validationDone(e){r===v&&n(e)}v++;var r=v;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var e=g.$viewValue;s.cancel(m),(g.$$lastCommittedViewValue!==e||""===e&&g.$$hasNativeValidators)&&(g.$$updateEmptyClasses(e),g.$$lastCommittedViewValue=e,g.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){g.$modelValue!==i&&g.$$writeModelToScope()}var t=g.$$lastCommittedViewValue,n=t;if(l=!isUndefined(n)||void 0)for(var r=0;r<g.$parsers.length;r++)if(n=g.$parsers[r](n),isUndefined(n)){l=!1;break}isNumber(g.$modelValue)&&isNaN(g.$modelValue)&&(g.$modelValue=p(e));var i=g.$modelValue,o=g.$options&&g.$options.allowInvalid;g.$$rawModelValue=n,o&&(g.$modelValue=n,writeToModelIfNeeded()),g.$$runValidators(n,g.$$lastCommittedViewValue,function(e){o||(g.$modelValue=e?n:void 0,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){d(e,g.$modelValue),forEach(g.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){g.$viewValue=e,g.$options&&!g.$options.updateOnDefault||g.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(t){var n,r=0,i=g.$options;i&&isDefined(i.debounce)&&(n=i.debounce,isNumber(n)?r=n:isNumber(n[t])?r=n[t]:isNumber(n.default)&&(r=n.default)),s.cancel(m),r?m=s(function(){g.$commitViewValue()},r):a.$$phase?g.$commitViewValue():e.$apply(function(){g.$commitViewValue()})},e.$watch(function(){var t=p(e);if(t!==g.$modelValue&&(g.$modelValue===g.$modelValue||t===t)){g.$modelValue=g.$$rawModelValue=t,l=void 0;for(var n=g.$formatters,r=n.length,i=t;r--;)i=n[r](i);g.$viewValue!==i&&(g.$$updateEmptyClasses(i),g.$viewValue=g.$$lastCommittedViewValue=i,g.$render(),g.$$runValidators(t,i,noop))}return t})}],en=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Zt,priority:1,compile:function(t){return t.addClass(Wt).addClass(Jt).addClass(Vt),{pre:function(e,t,n,r){var i=r[0],o=r[1]||i.$$parentForm;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(e){i.$name!==e&&i.$$parentForm.$$renameControl(i,e)}),e.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(e){o.$$debounceViewValueCommit(e&&e.type)}),n.on("blur",function(){o.$touched||(e.$$phase?t.$evalAsync(o.$setTouched):t.$apply(o.$setTouched))})}}}}}],tn=/(\s+|^)default(\s+|$)/,nn=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=copy(e.$eval(t.ngModelOptions)),isDefined(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=x(this.$options.updateOn.replace(tn,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},rn=ngDirective({terminal:!0,priority:1e3}),on=minErr("ngOptions"),sn=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,an=["$compile","$document","$parse",function(t,n,r){function parseOptionsExpression(e,t,n){function Option(e,t,n,r,i){this.selectValue=e,this.viewValue=t,this.label=n,this.group=r,this.disabled=i}function getOptionValuesKeys(e){var t;if(!s&&isArrayLike(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var i=e.match(sn);if(!i)throw on("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,startingTag(t));var o=i[5]||i[7],s=i[6],a=/ as /.test(i[0])&&i[1],c=i[9],u=r(i[2]?i[1]:o),l=a&&r(a),f=l||u,h=c&&r(c),p=c?function(e,t){return h(n,t)}:function(e){return hashKey(e)},d=function(e,t){return p(e,w(e,t))},m=r(i[2]||i[1]),g=r(i[3]||""),v=r(i[4]||""),$=r(i[8]),b={},w=s?function(e,t){return b[s]=t,b[o]=e,b}:function(e){return b[o]=e,b};return{trackBy:c,getTrackByValue:d,getWatchables:r($,function(e){var t=[];e=e||[];for(var r=getOptionValuesKeys(e),o=r.length,s=0;s<o;s++){var a=e===r?s:r[s],c=e[a],u=w(c,a),l=p(c,u);if(t.push(l),i[2]||i[1]){var f=m(n,u);t.push(f)}if(i[4]){var h=v(n,u);t.push(h)}}return t}),getOptions:function(){for(var e=[],t={},r=$(n)||[],i=getOptionValuesKeys(r),o=i.length,s=0;s<o;s++){var a=r===i?s:i[s],u=r[a],l=w(u,a),h=f(n,l),b=p(h,l),x=m(n,l),S=g(n,l),C=v(n,l),k=new Option(b,h,x,S,C);e.push(k),t[b]=k}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[d(e)]},getViewValueFromOption:function(e){return c?y.copy(e.viewValue):e.viewValue}}}}}function ngOptionsPostLink(e,r,s,a){function addOptionElement(e,t){var n=i.cloneNode(!1);t.appendChild(n),updateOptionElement(e,n)}function updateOptionElement(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),e.value!==t.value&&(t.value=e.selectValue)}function updateOptions(){var e=y&&l.readValue();if(y)for(var t=y.items.length-1;t>=0;t--){var n=y.items[t];jqLiteRemove(isDefined(n.group)?n.element.parentNode:n.element)}y=$.getOptions();var i={};if(g&&r.prepend(c),y.items.forEach(function(e){var t;isDefined(e.group)?(t=i[e.group],t||(t=o.cloneNode(!1),w.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),addOptionElement(e,t)):addOptionElement(e,w)}),r[0].appendChild(w),f.$render(),!f.$isEmpty(e)){var s=l.readValue(),a=$.trackBy||h;(a?equals(e,s):e===s)||(f.$setViewValue(s),f.$render())}}for(var c,l=a[0],f=a[1],h=s.multiple,p=0,d=r.children(),m=d.length;p<m;p++)if(""===d[p].value){c=d.eq(p);break}var g=!!c,v=u(i.cloneNode(!1));v.val("?");var y,$=parseOptionsExpression(s.ngOptions,r,e),w=n[0].createDocumentFragment(),x=function(){g||r.prepend(c),r.val(""),c.prop("selected",!0),c.attr("selected",!0)},S=function(){g||c.remove()},C=function(){r.prepend(v),r.val("?"),v.prop("selected",!0),v.attr("selected",!0)},k=function(){v.remove()};h?(f.$isEmpty=function(e){return!e||0===e.length},l.writeValue=function(e){y.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=y.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},l.readValue=function(){var e=r.val()||[],t=[];return forEach(e,function(e){var n=y.selectValueMap[e];n&&!n.disabled&&t.push(y.getViewValueFromOption(n))}),t},$.trackBy&&e.$watchCollection(function(){if(b(f.$viewValue))return f.$viewValue.map(function(e){return $.getTrackByValue(e)})},function(){f.$render()})):(l.writeValue=function(e){var t=y.getOptionFromViewValue(e);t?(r[0].value!==t.selectValue&&(k(),S(),r[0].value=t.selectValue,t.element.selected=!0),t.element.setAttribute("selected","selected")):null===e||g?(k(),x()):(S(),C())},l.readValue=function(){var e=y.selectValueMap[r.val()];return e&&!e.disabled?(S(),k(),y.getViewValueFromOption(e)):null},$.trackBy&&e.$watch(function(){return $.getTrackByValue(f.$viewValue)},function(){f.$render()})),g?(c.remove(),t(c)(e),c.removeClass("ng-scope")):c=u(i.cloneNode(!1)),r.empty(),updateOptions(),e.$watchCollection($.getWatchables,updateOptions)}var i=e.document.createElement("option"),o=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,r){r[0].registerOption=noop},post:ngOptionsPostLink}}}],cn=["$locale","$interpolate","$log",function(e,t,n){var r=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(s,a,c){function updateElementText(e){a.text(e||"")}var u,l=c.count,f=c.$attr.when&&a.attr(c.$attr.when),h=c.offset||0,p=s.$eval(f)||{},d={},m=t.startSymbol(),g=t.endSymbol(),v=m+l+"-"+h+g,$=y.noop;forEach(c,function(e,t){var n=o.exec(t);if(n){var r=(n[1]?"-":"")+i(n[2]);p[r]=a.attr(c.$attr[t])}}),forEach(p,function(e,n){d[n]=t(e.replace(r,v))}),s.$watch(l,function(t){var r=parseFloat(t),i=isNaN(r);if(i||r in p||(r=e.pluralCat(r-h)),r!==u&&!(i&&isNumber(u)&&isNaN(u))){$();var o=d[r];isUndefined(o)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),$=noop,updateElementText()):$=s.$watch(o,updateElementText),u=r}})}}}],un=["$parse","$animate","$compile",function(e,t,n){var i="$$NG_REMOVED",o=minErr("ngRepeat"),s=function(e,t,n,r,i,o,s){e[n]=r,i&&(e[i]=o),e.$index=t,e.$first=0===t,e.$last=t===s-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},a=function(e){return e.clone[0]},c=function(e){return e.clone[e.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(u,l){var f=l.ngRepeat,h=n.$$createComment("end ngRepeat",f),p=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw o("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var d=p[1],m=p[2],g=p[3],v=p[4];if(p=d.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw o("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",d);var y=p[3]||p[1],$=p[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw o("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",g);var b,w,x,S,C={$id:hashKey};return v?b=e(v):(x=function(e,t){return hashKey(t)},S=function(e){return e}),function(e,n,u,l,p){b&&(w=function(t,n,r){return $&&(C[$]=t),C[y]=n,C.$index=r,b(e,C)});var d=createMap();e.$watchCollection(m,function(u){var l,m,v,b,C,k,E,A,_,T,O,P,D=n[0],j=createMap();if(g&&(e[g]=u),isArrayLike(u))_=u,A=w||x;else{A=w||S,_=[];for(var N in u)r.call(u,N)&&"$"!==N.charAt(0)&&_.push(N)}for(b=_.length,O=new Array(b),l=0;l<b;l++)if(C=u===_?l:_[l],k=u[C],E=A(C,k,l),d[E])T=d[E],delete d[E],j[E]=T,O[l]=T;else{if(j[E])throw forEach(O,function(e){e&&e.scope&&(d[e.id]=e)}),o("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,E,k);O[l]={id:E,scope:void 0,clone:void 0},j[E]=!0}for(var M in d){if(T=d[M],P=getBlockNodes(T.clone),t.leave(P),P[0].parentNode)for(l=0,m=P.length;l<m;l++)P[l][i]=!0;T.scope.$destroy()}for(l=0;l<b;l++)if(C=u===_?l:_[l],k=u[C],T=O[l],T.scope){v=D;do v=v.nextSibling;while(v&&v[i]);a(T)!=v&&t.move(getBlockNodes(T.clone),null,D),D=c(T),s(T.scope,l,y,k,$,C,b)}else p(function(e,n){T.scope=n;var r=h.cloneNode(!1);e[e.length++]=r,t.enter(e,null,D),D=r,T.clone=e,j[T.id]=T,s(T.scope,l,y,k,$,C,b)});d=j})}}}}],ln="ng-hide",fn="ng-hide-animate",hn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngShow,function(t){e[t?"removeClass":"addClass"](n,ln,{tempClasses:fn})})}}}],pn=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,r){t.$watch(r.ngHide,function(t){e[t?"addClass":"removeClass"](n,ln,{tempClasses:fn})})}}}],dn=ngDirective(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&forEach(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),mn=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,o){var s=i.ngSwitch||i.on,a=[],c=[],u=[],l=[],f=function(e,t){return function(){e.splice(t,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=u.length;r<i;++r)e.cancel(u[r]);for(u.length=0,r=0,i=l.length;r<i;++r){var s=getBlockNodes(c[r].clone);l[r].$destroy();var h=u[r]=e.leave(s);h.then(f(u,r))}c.length=0,l.length=0,(a=o.cases["!"+n]||o.cases["?"])&&forEach(a,function(n){n.transclude(function(r,i){l.push(i);var o=n.element;r[r.length++]=t.$$createComment("end ngSwitchWhen");var s={clone:r};c.push(s),e.enter(r,o.parent(),o)})})})}}}],gn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:t})}}),vn=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:t})}}),yn=minErr("ngTransclude"),$n=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,r,i,o){function ngTranscludeCloneAttachFn(e,n){e.length?t.append(e):(useFallbackContent(),n.$destroy())}function useFallbackContent(){n(e,function(e){t.append(e)})}if(!o)throw yn("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag(t));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var s=r.ngTransclude||r.ngTranscludeSlot;o(ngTranscludeCloneAttachFn,null,s),s&&!o.isSlotFilled(s)&&useFallbackContent()}}}}],bn=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,i=t[0].text;e.put(r,i)}}}}],wn={$setViewValue:noop,$render:noop},xn=["$element","$scope",function(t,n){var r=this,i=new HashMap;r.ngModelCtrl=wn,r.unknownOption=u(e.document.createElement("option")),r.renderUnknownOption=function(e){var n="? "+hashKey(e)+" ?";r.unknownOption.val(n),t.prepend(r.unknownOption),t.val(n)},n.$on("$destroy",function(){r.renderUnknownOption=noop}),r.removeUnknownOption=function(){r.unknownOption.parent()&&r.unknownOption.remove()},r.readValue=function(){return r.removeUnknownOption(),t.val()},r.writeValue=function(e){r.hasOption(e)?(r.removeUnknownOption(),t.val(e),""===e&&r.emptyOption.prop("selected",!0)):null==e&&r.emptyOption?(r.removeUnknownOption(),t.val("")):r.renderUnknownOption(e)},r.addOption=function(e,t){if(t[0].nodeType!==j){assertNotHasOwnProperty(e,'"option value"'),""===e&&(r.emptyOption=t);var n=i.get(e)||0;i.put(e,n+1),r.ngModelCtrl.$render(),chromeHack(t)}},r.removeOption=function(e){var t=i.get(e);t&&(1===t?(i.remove(e),""===e&&(r.emptyOption=void 0)):i.put(e,t-1))},r.hasOption=function(e){return!!i.get(e)},r.registerOption=function(e,t,n,i,o){if(i){var s;n.$observe("value",function(e){isDefined(s)&&r.removeOption(s),s=e,r.addOption(e,t)})}else o?e.$watch(o,function(e,i){n.$set("value",e),i!==e&&r.removeOption(i),r.addOption(e,t)}):r.addOption(n.value,t);t.on("$destroy",function(){r.removeOption(n.value),r.ngModelCtrl.$render()})}}],Sn=function(){function selectPreLink(e,t,n,r){var i=r[1];if(i){var o=r[0];if(o.ngModelCtrl=i,t.on("change",function(){e.$apply(function(){i.$setViewValue(o.readValue())})}),n.multiple){o.readValue=function(){var e=[];return forEach(t.find("option"),function(t){t.selected&&e.push(t.value)}),e},o.writeValue=function(e){var n=new HashMap(e);forEach(t.find("option"),function(e){e.selected=isDefined(n.get(e.value))})};var s,a=NaN;e.$watch(function(){a!==i.$viewValue||equals(s,i.$viewValue)||(s=shallowCopy(i.$viewValue),i.$render()),a=i.$viewValue}),i.$isEmpty=function(e){return!e||0===e.length}}}}function selectPostLink(e,t,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:xn,priority:1,link:{pre:selectPreLink,post:selectPostLink}}},Cn=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){if(isDefined(n.value))var r=e(n.value,!0);else{var i=e(t.text(),!0);i||n.$set("value",t.text())}return function(e,t,n){var o="$selectController",s=t.parent(),a=s.data(o)||s.parent().data(o);a&&a.registerOption(e,t,n,r,i)}}}}],kn=valueFn({restrict:"E",terminal:!1}),En=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){r&&(n.required=!0,r.$validators.required=function(e,t){return!n.required||!r.$isEmpty(t)},n.$observe("required",function(){r.$validate()}))}}},An=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(isString(e)&&e.length>0&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,startingTag(t));i=e||void 0,r.$validate()}),r.$validators.pattern=function(e,t){return r.$isEmpty(t)||isUndefined(i)||i.test(t)}}}}},_n=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=-1;n.$observe("maxlength",function(e){var t=toInt(e);i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(e,t){return i<0||r.$isEmpty(t)||t.length<=i}}}}},Tn=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,r){if(r){var i=0;n.$observe("minlength",function(e){i=toInt(e)||0,r.$validate()}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=i}}}}};return e.angular.bootstrap?void(e.console&&console.log("WARNING: Tried to load angular more than once.")):(bindJQuery(),publishExternalAPI(y),y.module("ngLocale",[],["$provide",function(e){function getDecimals(e){e+="";var t=e.indexOf(".");return t==-1?0:e.length-t-1}function getVF(e,t){var n=t;void 0===n&&(n=Math.min(getDecimals(e),3));var r=Math.pow(10,n),i=(e*r|0)%r;return{v:n,f:i}}var t={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var r=0|e,i=getVF(e,n);return 1==r&&0==i.v?t.ONE:t.OTHER}})}]),void u(e.document).ready(function(){angularInit(e.document,bootstrap)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>')},,function(e,t){"undefined"!=typeof e&&"undefined"!=typeof t&&e.exports===t&&(e.exports="ui.router"),function(e,t,n){"use strict";function inherit(e,t){return u(new(u(function(){},{prototype:e})),t)}function merge(e){return c(arguments,function(t){t!==e&&c(t,function(t,n){e.hasOwnProperty(n)||(e[n]=t)})}),e}function ancestors(e,t){var n=[];for(var r in e.path){if(e.path[r]!==t.path[r])break;n.push(e.path[r])}return n}function objectKeys(e){if(Object.keys)return Object.keys(e);var t=[];return c(e,function(e,n){t.push(n)}),t}function indexOf(e,t){if(Array.prototype.indexOf)return e.indexOf(t,Number(arguments[2])||0);var n=e.length>>>0,r=Number(arguments[2])||0;for(r=r<0?Math.ceil(r):Math.floor(r),r<0&&(r+=n);r<n;r++)if(r in e&&e[r]===t)return r;return-1}function inheritParams(e,t,n,r){var i,o=ancestors(n,r),s={},a=[];for(var c in o)if(o[c]&&o[c].params&&(i=objectKeys(o[c].params),i.length))for(var l in i)indexOf(a,i[l])>=0||(a.push(i[l]),s[i[l]]=e[i[l]]);return u({},s,t)}function equalForKeys(e,t,n){if(!n){n=[];for(var r in e)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(e[o]!=t[o])return!1}return!0}function filterByKeys(e,t){var n={};return c(e,function(e){n[e]=t[e]}),n}function pick(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return c(n,function(n){n in e&&(t[n]=e[n])}),t}function omit(e){var t={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in e)indexOf(n,r)==-1&&(t[r]=e[r]);return t}function filter(e,t){var n=a(e),r=n?[]:{};return c(e,function(e,i){t(e,i)&&(r[n?r.length:i]=e)}),r}function map(e,t){var n=a(e)?[]:{};return c(e,function(e,r){n[r]=t(e,r)}),n}function silenceUncaughtInPromise(e){return e.then(n,function(){})&&e}function $Resolve(e,t){var i=1,a=2,l={},f=[],h=l,p=u(e.when(l),{$$promises:l,$$values:l});this.study=function(l){function visit(e,n){if(v[n]!==a){if(g.push(n),v[n]===i)throw g.splice(0,indexOf(g,n)),new Error("Cyclic dependency: "+g.join(" -> "));if(v[n]=i,o(e))m.push(n,[function(){return t.get(e)}],f);else{var r=t.annotate(e);c(r,function(e){e!==n&&l.hasOwnProperty(e)&&visit(l[e],e)}),m.push(n,e,r)}g.pop(),v[n]=a}}function isResolve(e){return s(e)&&e.then&&e.$$promises}if(!s(l))throw new Error("'invocables' must be an object");var d=objectKeys(l||{}),m=[],g=[],v={};return c(l,visit),l=g=v=null,function(i,o,a){function done(){--y||($||merge(v,o.$$values),f.$$values=v,f.$$promises=f.$$promises||!0,delete f.$$inheritedValues,l.resolve(v))}function fail(e){f.$$failure=e,l.reject(e)}function invoke(n,o,s){function onfailure(e){u.reject(e),fail(e)}function proceed(){if(!r(f.$$failure))try{u.resolve(t.invoke(o,a,v)),u.promise.then(function(e){v[n]=e,done()},onfailure)}catch(e){onfailure(e)}}var u=e.defer(),l=0;c(s,function(e){g.hasOwnProperty(e)&&!i.hasOwnProperty(e)&&(l++,g[e].then(function(t){v[e]=t,--l||proceed()},onfailure))}),l||proceed(),g[n]=u.promise}if(isResolve(i)&&a===n&&(a=o,o=i,i=null),i){if(!s(i))throw new Error("'locals' must be an object")}else i=h;if(o){if(!isResolve(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=p;var l=e.defer(),f=l.promise,g=f.$$promises={},v=u({},i),y=1+m.length/3,$=!1;if(r(o.$$failure))return fail(o.$$failure),f;o.$$inheritedValues&&merge(v,omit(o.$$inheritedValues,d)),u(g,o.$$promises),o.$$values?($=merge(v,omit(o.$$values,d)),f.$$inheritedValues=omit(o.$$values,d),done()):(o.$$inheritedValues&&(f.$$inheritedValues=omit(o.$$inheritedValues,d)),o.then(done,fail));for(var b=0,w=m.length;b<w;b+=3)i.hasOwnProperty(m[b])?done():invoke(m[b],m[b+1],m[b+2]);return f}},this.resolve=function(e,t,n,r){return this.study(e)(t,n,r)}}function $TemplateFactory(e,t,n){this.fromConfig=function(e,t,n){return r(e.template)?this.fromString(e.template,t):r(e.templateUrl)?this.fromUrl(e.templateUrl,t):r(e.templateProvider)?this.fromProvider(e.templateProvider,t,n):null},this.fromString=function(e,t){return i(e)?e(t):e},this.fromUrl=function(n,r){return i(n)&&(n=n(r)),null==n?null:e.get(n,{cache:t,headers:{Accept:"text/html"}}).then(function(e){return e.data})},this.fromProvider=function(e,t,r){return n.invoke(e,null,r||{params:t})}}function UrlMatcher(e,t,r){function addParameter(t,n,r,i){if(m.push(t),p[t])return p[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+e+"'");if(d[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+e+"'");return d[t]=new h.Param(t,n,r,i),d[t]}function quoteRegExp(e,t,n,r){var i=["",""],o=e.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!t)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:o=o.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+t+i[1]}function matchDetails(r,i){var o,s,a,c,u;return o=r[2]||r[3],u=t.params[o],a=e.substring(l,r.index),s=i?r[4]:r[4]||("*"==r[1]?".*":null),s&&(c=h.type(s)||inherit(h.type("string"),{pattern:new RegExp(s,t.caseInsensitive?"i":n)})),{id:o,regexp:s,segment:a,type:c,cfg:u}}t=u({params:{}},s(t)?t:{});var i,o=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,a=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c="^",l=0,f=this.segments=[],p=r?r.params:{},d=this.params=r?r.params.$$new():new h.ParamSet,m=[];this.source=e;for(var g,v,y;(i=o.exec(e))&&(g=matchDetails(i,!1),!(g.segment.indexOf("?")>=0));)v=addParameter(g.id,g.type,g.cfg,"path"),c+=quoteRegExp(g.segment,v.type.pattern.source,v.squash,v.isOptional),f.push(g.segment),l=o.lastIndex;y=e.substring(l);var $=y.indexOf("?");if($>=0){var b=this.sourceSearch=y.substring($);if(y=y.substring(0,$),this.sourcePath=e.substring(0,l+$),b.length>0)for(l=0;i=a.exec(b);)g=matchDetails(i,!0),v=addParameter(g.id,g.type,g.cfg,"search"),l=o.lastIndex}else this.sourcePath=e,this.sourceSearch="";c+=quoteRegExp(y)+(t.strict===!1?"/?":"")+"$",f.push(y),this.regexp=new RegExp(c,t.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function Type(e){u(this,e)}function $UrlMatcherFactory(){function valToString(e){return null!=e?e.toString().replace(/(~|\/)/g,function(e){return{"~":"~~","/":"~2F"}[e]}):e}function valFromString(e){return null!=e?e.toString().replace(/(~~|~2F)/g,function(e){return{"~~":"~","~2F":"/"}[e]}):e}function getDefaultConfig(){return{strict:f,caseInsensitive:l}}function isInjectable(e){return i(e)||a(e)&&i(e[e.length-1])}function flushTypeQueue(){for(;g.length;){var n=g.shift();if(n.pattern)throw new Error("You cannot override a type's .pattern at runtime.");t.extend(d[n.name],e.invoke(n.def))}}function ParamSet(e){u(this,e||{})}h=this;var e,l=!1,f=!0,p=!1,d={},m=!0,g=[],v={string:{encode:valToString,decode:valFromString,is:function(e){return null==e||!r(e)||"string"==typeof e},pattern:/[^\/]*/},int:{encode:valToString,decode:function(e){return parseInt(e,10)},is:function(e){return r(e)&&this.decode(e.toString())===e},pattern:/\d+/},bool:{encode:function(e){return e?1:0},decode:function(e){return 0!==parseInt(e,10)},is:function(e){return e===!0||e===!1},pattern:/0|1/},date:{encode:function(e){return this.is(e)?[e.getFullYear(),("0"+(e.getMonth()+1)).slice(-2),("0"+e.getDate()).slice(-2)].join("-"):n},decode:function(e){if(this.is(e))return e;var t=this.capture.exec(e);return t?new Date(t[1],t[2]-1,t[3]):n},is:function(e){return e instanceof Date&&!isNaN(e.valueOf())},equals:function(e,t){return this.is(e)&&this.is(t)&&e.toISOString()===t.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:t.toJson,decode:t.fromJson,is:t.isObject,equals:t.equals,pattern:/[^\/]*/},any:{encode:t.identity,decode:t.identity,equals:t.equals,pattern:/.*/}};$UrlMatcherFactory.$$getDefaultValue=function(t){if(!isInjectable(t.value))return t.value;if(!e)throw new Error("Injectable functions cannot be called at configuration time");return e.invoke(t.value)},this.caseInsensitive=function(e){return r(e)&&(l=e),l},this.strictMode=function(e){return r(e)&&(f=e),f},this.defaultSquashPolicy=function(e){if(!r(e))return p;if(e!==!0&&e!==!1&&!o(e))throw new Error("Invalid squash policy: "+e+". Valid policies: false, true, arbitrary-string");return p=e,e},this.compile=function(e,t){return new UrlMatcher(e,u(getDefaultConfig(),t))},this.isMatcher=function(e){if(!s(e))return!1;var t=!0;return c(UrlMatcher.prototype,function(n,o){i(n)&&(t=t&&r(e[o])&&i(e[o]))}),t},this.type=function(e,t,n){if(!r(t))return d[e];if(d.hasOwnProperty(e))throw new Error("A type named '"+e+"' has already been defined.");return d[e]=new Type(u({name:e},t)),n&&(g.push({name:e,def:n}),m||flushTypeQueue()),this},c(v,function(e,t){d[t]=new Type(u({name:t},e))}),d=inherit(d,{}),this.$get=["$injector",function(t){return e=t,m=!1,flushTypeQueue(),c(v,function(e,t){d[t]||(d[t]=new Type(e))}),this}],this.Param=function(i,c,l,f){function unwrapShorthand(e){var t=s(e)?objectKeys(e):[],n=indexOf(t,"value")===-1&&indexOf(t,"type")===-1&&indexOf(t,"squash")===-1&&indexOf(t,"array")===-1;return n&&(e={value:e}),e.$$fn=isInjectable(e.value)?e.value:function(){return e.value},e}function getType(e,n,r){if(e.type&&n)throw new Error("Param '"+i+"' has two type configurations.");return n?n:e.type?t.isString(e.type)?d[e.type]:e.type instanceof Type?e.type:new Type(e.type):"config"===r?d.any:d.string}function getArrayMode(){var e={array:"search"===f&&"auto"},t=i.match(/\[\]$/)?{array:!0}:{};return u(e,t,l).array}function getSquashPolicy(e,t){var n=e.squash;if(!t||n===!1)return!1;if(!r(n)||null==n)return p;if(n===!0||o(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function getReplace(e,t,r,i){var s,c,u=[{from:"",to:r||t?n:""},{from:null,to:r||t?n:""}];return s=a(e.replace)?e.replace:[],o(i)&&s.push({from:i,to:n}),c=map(s,function(e){return e.from}),filter(u,function(e){return indexOf(c,e.from)===-1}).concat(s)}function $$getDefaultValue(){if(!e)throw new Error("Injectable functions cannot be called at configuration time");var t=e.invoke(l.$$fn);if(null!==t&&t!==n&&!h.type.is(t))throw new Error("Default value ("+t+") for parameter '"+h.id+"' is not an instance of Type ("+h.type.name+")");return t}function $value(e){function hasReplaceVal(e){return function(t){return t.from===e}}function $replace(e){var t=map(filter(h.replace,hasReplaceVal(e)),function(e){return e.to});return t.length?t[0]:e}return e=$replace(e),r(e)?h.type.$normalize(e):$$getDefaultValue()}function toString(){return"{Param:"+i+" "+c+" squash: '"+v+"' optional: "+g+"}"}var h=this;l=unwrapShorthand(l),c=getType(l,c,f);var m=getArrayMode();c=m?c.$asArray(m,"search"===f):c,"string"!==c.name||m||"path"!==f||l.value!==n||(l.value="");var g=l.value!==n,v=getSquashPolicy(l,g),y=getReplace(l,m,g,v);u(this,{id:i,type:c,location:f,array:m,squash:v,replace:y,isOptional:g,value:$value,dynamic:n,config:l,toString:toString})},ParamSet.prototype={$$new:function(){return inherit(this,u(new ParamSet,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=objectKeys(ParamSet.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),c(t,function(t){c(objectKeys(t),function(t){indexOf(e,t)===-1&&indexOf(r,t)===-1&&e.push(t)})}),e},$$values:function(e){var t={},n=this;return c(n.$$keys(),function(r){t[r]=n[r].value(e&&e[r])}),t},$$equals:function(e,t){var n=!0,r=this;return c(r.$$keys(),function(i){var o=e&&e[i],s=t&&t[i];r[i].type.equals(o,s)||(n=!1)}),n},$$validates:function(e){var r,i,o,s,a,c=this.$$keys();for(r=0;r<c.length&&(i=this[c[r]],o=e[c[r]],o!==n&&null!==o||!i.isOptional);r++){if(s=i.type.$normalize(o),!i.type.is(s))return!1;if(a=i.type.encode(s),t.isString(a)&&!i.type.pattern.exec(a))return!1}return!0},$$parent:n},this.ParamSet=ParamSet}function $UrlRouterProvider(e,s){function regExpPrefix(e){var t=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);return null!=t?t[1].replace(/\\(.)/g,"$1"):""}function interpolate(e,t){return e.replace(/\$(\$|\d{1,2})/,function(e,n){return t["$"===n?0:Number(n)]})}function handleIfMatch(e,t,n){if(!n)return!1;var i=e.invoke(t,t,{$match:n});return!r(i)||i}function $get(r,i,s,a,u){function appendBasePath(e,t,n){return"/"===d?e:t?d.slice(0,-1)+e:n?d.slice(1)+e:e}function update(e){function check(e){var t=e(s,r);return!!t&&(o(t)&&r.replace().url(t),!0)}if(!e||!e.defaultPrevented){p&&r.url()===p;p=n;var t,i=l.length;for(t=0;t<i;t++)if(check(l[t]))return;f&&check(f)}}function listen(){return c=c||i.$on("$locationChangeSuccess",update)}var p,d=a.baseHref(),m=r.url();return h||listen(),{sync:function(){update()},listen:function(){return listen()},update:function(e){return e?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(e,t,i){var o=e.format(t||{});null!==o&&t&&t["#"]&&(o+="#"+t["#"]),r.url(o),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var s=e.html5Mode();t.isObject(s)&&(s=s.enabled),s=s&&u.history;var a=n.format(i);if(o=o||{},s||null===a||(a="#"+e.hashPrefix()+a),null!==a&&i&&i["#"]&&(a+="#"+i["#"]),a=appendBasePath(a,s,o.absolute),!o.absolute||!a)return a;var c=!s&&a?"/":"",l=r.port();return l=80===l||443===l?"":":"+l,[r.protocol(),"://",r.host(),l,c,a].join("")}}}var c,l=[],f=null,h=!1;this.rule=function(e){if(!i(e))throw new Error("'rule' must be a function");return l.push(e),this},this.otherwise=function(e){if(o(e)){var t=e;e=function(){return t}}else if(!i(e))throw new Error("'rule' must be a function");return f=e,this},this.when=function(e,t){var n,r=o(t);if(o(e)&&(e=s.compile(e)),!r&&!i(t)&&!a(t))throw new Error("invalid 'handler' in when()");var c={matcher:function(e,t){return r&&(n=s.compile(t),t=["$match",function(e){return n.format(e)}]),u(function(n,r){return handleIfMatch(n,t,e.exec(r.path(),r.search()))},{prefix:o(e.prefix)?e.prefix:""})},regex:function(e,t){if(e.global||e.sticky)throw new Error("when() RegExp must not be global or sticky");return r&&(n=t,t=["$match",function(e){return interpolate(n,e)}]),u(function(n,r){return handleIfMatch(n,t,e.exec(r.path()))},{prefix:regExpPrefix(e)})}},l={matcher:s.isMatcher(e),regex:e instanceof RegExp};for(var f in l)if(l[f])return this.rule(c[f](e,t));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(e){e===n&&(e=!0),h=e},this.$get=$get,$get.$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function $StateProvider(e,f){function isRelative(e){return 0===e.indexOf(".")||0===e.indexOf("^")}function findState(e,t){if(!e)return n;var r=o(e),i=r?e:e.name,s=isRelative(i);if(s){if(!t)throw new Error("No reference point given for path '"+i+"'");t=findState(t);for(var a=i.split("."),c=0,u=a.length,l=t;c<u;c++)if(""!==a[c]||0!==c){if("^"!==a[c])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+t.name+"'");l=l.parent}else l=t;a=a.slice(c).join("."),i=l.name+(l.name&&a?".":"")+a}var f=m[i];return!f||!r&&(r||f!==e&&f.self!==e)?n:f}function queueState(e,t){g[e]||(g[e]=[]),g[e].push(t)}function flushQueuedChildren(e){for(var t=g[e]||[];t.length;)registerState(t.shift())}function registerState(t){t=inherit(t,{self:t,resolve:t.resolve||{},toString:function(){return this.name}});var n=t.name;if(!o(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(m.hasOwnProperty(n))throw new Error("State '"+n+"' is already defined");var r=n.indexOf(".")!==-1?n.substring(0,n.lastIndexOf(".")):o(t.parent)?t.parent:s(t.parent)&&o(t.parent.name)?t.parent.name:"";if(r&&!m[r])return queueState(r,t.self);for(var a in y)i(y[a])&&(t[a]=y[a](t,y.$delegates[a]));return m[n]=t,!t[v]&&t.url&&e.when(t.url,["$match","$stateParams",function(e,n){d.$current.navigable==t&&equalForKeys(e,n)||d.transitionTo(t,e,{inherit:!0,location:!1})}]),flushQueuedChildren(n),t}function isGlob(e){return e.indexOf("*")>-1}function doesStateMatchGlob(e){for(var t=e.split("."),n=d.$current.name.split("."),r=0,i=t.length;r<i;r++)"*"===t[r]&&(n[r]="*");return"**"===t[0]&&(n=n.slice(indexOf(n,t[1])),n.unshift("**")),"**"===t[t.length-1]&&(n.splice(indexOf(n,t[t.length-2])+1,Number.MAX_VALUE),n.push("**")),t.length==n.length&&n.join("")===t.join("")}function decorator(e,t){return o(e)&&!r(t)?y[e]:i(t)&&o(e)?(y[e]&&!y.$delegates[e]&&(y.$delegates[e]=y[e]),y[e]=t,this):this}function state(e,t){return s(e)?t=e:t.name=e,registerState(t),this}function $get(e,f,h,g,y,$,b,w,x){function handleRedirect(t,n,r,i){var o=e.$broadcast("$stateNotFound",t,n,r);if(o.defaultPrevented)return b.update(),E;if(!o.retry)return null;if(i.$retry)return b.update(),A;var s=d.transition=f.when(o.retry);return s.then(function(){return s!==d.transition?(e.$broadcast("$stateChangeCancel",t.to,t.toParams,n,r),C):(t.options.$retry=!0,d.transitionTo(t.to,t.toParams,t.options))},function(){return E}),b.update(),s}function resolveState(e,n,r,o,s,u){function resolveViews(){var n=[];return c(e.views,function(r,o){var c=r.resolve&&r.resolve!==e.resolve?r.resolve:{};c.$template=[function(){return h.load(o,{view:r,locals:s.globals,params:l,notify:u.notify})||""}],n.push(y.resolve(c,s.globals,s.resolve,e).then(function(n){if(i(r.controllerProvider)||a(r.controllerProvider)){var u=t.extend({},c,s.globals);n.$$controller=g.invoke(r.controllerProvider,null,u)}else n.$$controller=r.controller;n.$$state=e,n.$$controllerAs=r.controllerAs,n.$$resolveAs=r.resolveAs,s[o]=n}))}),f.all(n).then(function(){return s.globals})}var l=r?n:filterByKeys(e.params.$$keys(),n),p={$stateParams:l};s.resolve=y.resolve(e.resolve,p,s.resolve,e);var d=[s.resolve.then(function(e){s.globals=e})];return o&&d.push(o),f.all(d).then(resolveViews).then(function(e){return s})}var S=new Error("transition superseded"),C=silenceUncaughtInPromise(f.reject(S)),k=silenceUncaughtInPromise(f.reject(new Error("transition prevented"))),E=silenceUncaughtInPromise(f.reject(new Error("transition aborted"))),A=silenceUncaughtInPromise(f.reject(new Error("transition failed")));return p.locals={resolve:null,globals:{$stateParams:{}}},d={params:{},current:p.self,$current:p,transition:null},d.reload=function(e){return d.transitionTo(d.current,$,{reload:e||!0,inherit:!1,notify:!0})},d.go=function(e,t,n){return d.transitionTo(e,t,u({inherit:!0,relative:d.$current},n))},d.transitionTo=function(t,n,i){n=n||{},i=u({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},i||{});var a,c=d.$current,h=d.params,m=c.path,y=findState(t,i.relative),w=n["#"];if(!r(y)){var x={to:t,toParams:n,options:i},E=handleRedirect(x,c.self,h,i);if(E)return E;if(t=x.to,n=x.toParams,i=x.options,y=findState(t,i.relative),!r(y)){if(!i.relative)throw new Error("No such state '"+t+"'");throw new Error("Could not resolve '"+t+"' from state '"+i.relative+"'")}}if(y[v])throw new Error("Cannot transition to abstract state '"+t+"'");if(i.inherit&&(n=inheritParams($,n||{},d.$current,y)),!y.params.$$validates(n))return A;n=y.params.$$values(n),t=y;var _=t.path,T=0,O=_[T],P=p.locals,D=[];if(i.reload){if(o(i.reload)||s(i.reload)){if(s(i.reload)&&!i.reload.name)throw new Error("Invalid reload state object");var j=i.reload===!0?m[0]:findState(i.reload);if(i.reload&&!j)throw new Error("No such reload state '"+(o(i.reload)?i.reload:i.reload.name)+"'");for(;O&&O===m[T]&&O!==j;)P=D[T]=O.locals,T++,O=_[T]}}else for(;O&&O===m[T]&&O.ownParams.$$equals(n,h);)P=D[T]=O.locals,T++,O=_[T];if(shouldSkipReload(t,n,c,h,P,i))return w&&(n["#"]=w),d.params=n,l(d.params,$),l(filterByKeys(t.params.$$keys(),$),t.locals.globals.$stateParams),i.location&&t.navigable&&t.navigable.url&&(b.push(t.navigable.url,n,{$$avoidResync:!0,replace:"replace"===i.location}),b.update(!0)),d.transition=null,f.when(d.current);if(n=filterByKeys(t.params.$$keys(),n||{}),w&&(n["#"]=w),i.notify&&e.$broadcast("$stateChangeStart",t.self,n,c.self,h,i).defaultPrevented)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),null==d.transition&&b.update(),k;for(var N=f.when(P),M=T;M<_.length;M++,O=_[M])P=D[M]=inherit(P),N=resolveState(O,n,O===t,N,P,i);var I=d.transition=N.then(function(){var r,o,s;if(d.transition!==I)return e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),C;for(r=m.length-1;r>=T;r--)s=m[r],s.self.onExit&&g.invoke(s.self.onExit,s.self,s.locals.globals),s.locals=null;for(r=T;r<_.length;r++)o=_[r],o.locals=D[r],o.self.onEnter&&g.invoke(o.self.onEnter,o.self,o.locals.globals);return d.transition!==I?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),C):(d.$current=t,d.current=t.self,d.params=n,l(d.params,$),d.transition=null,i.location&&t.navigable&&b.push(t.navigable.url,t.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===i.location}),i.notify&&e.$broadcast("$stateChangeSuccess",t.self,n,c.self,h),b.update(!0),d.current)}).then(null,function(r){return r===S?C:d.transition!==I?(e.$broadcast("$stateChangeCancel",t.self,n,c.self,h),C):(d.transition=null,a=e.$broadcast("$stateChangeError",t.self,n,c.self,h,r),a.defaultPrevented||b.update(),f.reject(r))});return I},d.is=function(e,t,i){i=u({relative:d.$current},i||{});var o=findState(e,i.relative);return r(o)?d.$current===o&&(!t||equalForKeys(o.params.$$values(t),$)):n},d.includes=function(e,t,i){if(i=u({relative:d.$current},i||{}),o(e)&&isGlob(e)){if(!doesStateMatchGlob(e))return!1;e=d.$current.name}var s=findState(e,i.relative);if(!r(s))return n;if(!r(d.$current.includes[s.name]))return!1;if(!t)return!0;for(var a=objectKeys(t),c=0;c<a.length;c++){var l=a[c],f=s.params[l];if(f&&!f.type.equals($[l],t[l]))return!1}return!0},d.href=function(e,t,i){i=u({lossy:!0,inherit:!0,absolute:!1,relative:d.$current},i||{});var o=findState(e,i.relative);if(!r(o))return null;i.inherit&&(t=inheritParams($,t||{},d.$current,o));var s=o&&i.lossy?o.navigable:o;return s&&s.url!==n&&null!==s.url?b.href(s.url,filterByKeys(o.params.$$keys().concat("#"),t||{}),{absolute:i.absolute}):null},d.get=function(e,t){if(0===arguments.length)return map(objectKeys(m),function(e){return m[e].self});var n=findState(e,t||d.$current);return n&&n.self?n.self:null},d}function shouldSkipReload(e,t,n,r,i,o){function nonSearchParamsEqual(e,t,n){function notSearchParam(t){return"search"!=e.params[t].location}var r=e.params.$$keys().filter(notSearchParam),i=pick.apply({},[e.params].concat(r)),o=new h.ParamSet(i);return o.$$equals(t,n)}if(!o.reload&&e===n&&(i===n.locals||e.self.reloadOnSearch===!1&&nonSearchParamsEqual(n,r,t)))return!0}var p,d,m={},g={},v="abstract",y={parent:function(e){if(r(e.parent)&&e.parent)return findState(e.parent);var t=/^(.+)\.[^.]+$/.exec(e.name);return t?findState(t[1]):p},data:function(e){return e.parent&&e.parent.data&&(e.data=e.self.data=inherit(e.parent.data,e.data)),e.data},url:function(e){var t=e.url,n={params:e.params||{}};if(o(t))return"^"==t.charAt(0)?f.compile(t.substring(1),n):(e.parent.navigable||p).url.concat(t,n);if(!t||f.isMatcher(t))return t;throw new Error("Invalid url '"+t+"' in state '"+e+"'")},navigable:function(e){return e.url?e:e.parent?e.parent.navigable:null},ownParams:function(e){var t=e.url&&e.url.params||new h.ParamSet;return c(e.params||{},function(e,n){t[n]||(t[n]=new h.Param(n,null,e,"config"))}),t},params:function(e){var t=pick(e.ownParams,e.ownParams.$$keys());return e.parent&&e.parent.params?u(e.parent.params.$$new(),t):new h.ParamSet},views:function(e){var t={};return c(r(e.views)?e.views:{"":e},function(n,r){r.indexOf("@")<0&&(r+="@"+e.parent.name),n.resolveAs=n.resolveAs||e.resolveAs||"$resolve",t[r]=n}),t},path:function(e){return e.parent?e.parent.path.concat(e):[]},includes:function(e){var t=e.parent?u({},e.parent.includes):{};return t[e.name]=!0,t},$delegates:{}};p=registerState({name:"",url:"^",views:null,abstract:!0}),p.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function $ViewProvider(){function $get(e,t){return{load:function(e,n){var r,i={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return n=u(i,n),n.view&&(r=t.fromConfig(n.view,n.params,n.locals)),r}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var e=!1;this.useAnchorScroll=function(){e=!0},this.$get=["$anchorScroll","$timeout",function(t,n){return e?t:function(e){return n(function(){e[0].scrollIntoView()},0,!1)}}]}function $ViewDirective(e,n,r,i,o){function getService(){return n.has?function(e){return n.has(e)?n.get(e):null}:function(e){try{return n.get(e)}catch(e){return null}}}function getRenderer(e,n){var r=function(){return{enter:function(e,t,n){t.after(e),n()},leave:function(e,t){e.remove(),t()}}};if(c)return{enter:function(e,n,r){t.version.minor>2?c.enter(e,null,n).then(r):c.enter(e,null,n,r)},leave:function(e,n){t.version.minor>2?c.leave(e).then(n):c.leave(e,n)}};if(a){var i=a&&a(n,e);return{enter:function(e,t,n){i.enter(e,null,t),n()},leave:function(e,t){i.leave(e),t()}}}return r()}var s=getService(),a=s("$animator"),c=s("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,s,a){return function(n,s,c){function cleanupLastView(){if(u&&(u.remove(),u=null),f&&(f.$destroy(),f=null),l){var e=l.data("$uiViewAnim");m.leave(l,function(){e.$$animLeave.resolve(),u=null}),u=l,l=null}}function updateView(u){var g,v=getUiViewName(n,c,s,i),y=v&&e.$current&&e.$current.locals[v];if(u||y!==h){g=n.$new(),h=e.$current.locals[v],g.$emit("$viewContentLoading",v);var $=a(g,function(e){var i=o.defer(),a=o.defer(),c={$animEnter:i.promise,$animLeave:a.promise,$$animLeave:a};e.data("$uiViewAnim",c),m.enter(e,s,function(){i.resolve(),f&&f.$emit("$viewContentAnimationEnded"),(t.isDefined(d)&&!d||n.$eval(d))&&r(e)}),cleanupLastView()});l=$,f=g,f.$emit("$viewContentLoaded",v),f.$eval(p)}}var u,l,f,h,p=c.onload||"",d=c.autoscroll,m=getRenderer(c,n);s.inheritedData("$uiView");n.$on("$stateChangeSuccess",function(){updateView(!1)}),updateView(!0)}}};return u}function $ViewDirectiveFill(e,n,r,o){return{restrict:"ECA",priority:-400,compile:function(s){var a=s.html();return function(s,c,u){var l=r.$current,f=getUiViewName(s,u,c,o),h=l&&l.locals[f];if(h){c.data("$uiView",{name:f,state:h.$$state}),c.html(h.$template?h.$template:a);var p=t.extend({},h);s[h.$$resolveAs]=p;var d=e(c.contents());if(h.$$controller){h.$scope=s,h.$element=c;var m=n(h.$$controller,h);h.$$controllerAs&&(s[h.$$controllerAs]=m,s[h.$$controllerAs][h.$$resolveAs]=p),i(m.$onInit)&&m.$onInit(),c.data("$ngControllerController",m),c.children().data("$ngControllerController",m)}d(s)}}}}}function getUiViewName(e,t,n,r){var i=r(t.uiView||t.name||"")(e),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function parseStateRef(e,t){var n,r=e.match(/^\s*({[^}]*})\s*$/);if(r&&(e=t+"("+r[1]+")"),n=e.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+e+"'");return{state:n[1],paramExpr:n[3]||null}}function stateContext(e){var t=e.parent().inheritedData("$uiView");if(t&&t.state&&t.state.name)return t.state}function getTypeInfo(e){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(e.prop("href")),n="FORM"===e[0].nodeName;return{attr:n?"action":t?"xlink:href":"href",isAnchor:"A"===e.prop("tagName").toUpperCase(),clickable:!n}}function clickHook(e,t,n,r,i){return function(o){var s=o.which||o.button,a=i();if(!(s>1||o.ctrlKey||o.metaKey||o.shiftKey||e.attr("target"))){var c=n(function(){t.go(a.state,a.params,a.options)});o.preventDefault();var u=r.isAnchor&&!a.href?1:0;o.preventDefault=function(){u--<=0&&n.cancel(c)}}}}function defaultOpts(e,t){return{relative:stateContext(e)||t.$current,inherit:!0}}function $StateRefDirective(e,n){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,o,s){var a,c=parseStateRef(o.uiSref,e.current.name),l={state:c.state,href:null,params:null},f=getTypeInfo(i),h=s[1]||s[0],p=null;l.options=u(defaultOpts(i,e),o.uiSrefOpts?r.$eval(o.uiSrefOpts):{});var d=function(n){n&&(l.params=t.copy(n)),l.href=e.href(c.state,l.params,l.options),p&&p(),h&&(p=h.$$addStateInfo(c.state,l.params)),null!==l.href&&o.$set(f.attr,l.href)};c.paramExpr&&(r.$watch(c.paramExpr,function(e){e!==l.params&&d(e)},!0),l.params=t.copy(r.$eval(c.paramExpr))),d(),f.clickable&&(a=clickHook(i,e,n,f,function(){return l}),i[i.on?"on":"bind"]("click",a),r.$on("$destroy",function(){i[i.off?"off":"unbind"]("click",a)}))}}}function $StateRefDynamicDirective(e,t){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,r,i,o){function runStateRefLink(t){f.state=t[0],f.params=t[1],f.options=t[2],f.href=e.href(f.state,f.params,f.options),h&&h(),c&&(h=c.$$addStateInfo(f.state,f.params)),f.href&&i.$set(a.attr,f.href)}var s,a=getTypeInfo(r),c=o[1]||o[0],u=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],l="["+u.map(function(e){return e||"null"}).join(", ")+"]",f={state:null,params:null,options:null,href:null},h=null;n.$watch(l,runStateRefLink,!0),runStateRefLink(n.$eval(l)),a.clickable&&(s=clickHook(r,e,t,a,function(){return f}),r[r.on?"on":"bind"]("click",s),n.$on("$destroy",function(){r[r.off?"off":"unbind"]("click",s)}))}}}function $StateRefActiveDirective(e,t,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(t,r,i,a){function addState(t,n,i){var o=e.get(t,stateContext(r)),s=createStateHash(t,n),a={state:o||{name:t},params:n,hash:s};return h.push(a),p[s]=i,function(){var e=h.indexOf(a);e!==-1&&h.splice(e,1)}}function createStateHash(e,n){if(!o(e))throw new Error("state should be a string");return s(n)?e+f(n):(n=t.$eval(n),s(n)?e+f(n):e)}function update(){for(var e=0;e<h.length;e++)anyMatch(h[e].state,h[e].params)?addClass(r,p[h[e].hash]):removeClass(r,p[h[e].hash]),exactMatch(h[e].state,h[e].params)?addClass(r,u):removeClass(r,u)}function addClass(e,t){a(function(){e.addClass(t)})}function removeClass(e,t){e.removeClass(t)}function anyMatch(t,n){return e.includes(t.name,n)}function exactMatch(t,n){return e.is(t.name,n)}var u,l,h=[],p={};u=n(i.uiSrefActiveEq||"",!1)(t);try{l=t.$eval(i.uiSrefActive)}catch(e){}l=l||n(i.uiSrefActive||"",!1)(t),s(l)&&c(l,function(n,r){if(o(n)){var i=parseStateRef(n,e.current.name);addState(i.state,t.$eval(i.paramExpr),r)}}),this.$$addStateInfo=function(e,t){if(!(s(l)&&h.length>0)){var n=addState(e,t,l);return update(),n}},t.$on("$stateChangeSuccess",update),update()}]}}function $IsStateFilter(e){var t=function(t,n){return e.is(t,n)};return t.$stateful=!0,t}function $IncludedByStateFilter(e){var t=function(t,n,r){
return e.includes(t,n,r)};return t.$stateful=!0,t}var r=t.isDefined,i=t.isFunction,o=t.isString,s=t.isObject,a=t.isArray,c=t.forEach,u=t.extend,l=t.copy,f=t.toJson;t.module("ui.router.util",["ng"]),t.module("ui.router.router",["ui.router.util"]),t.module("ui.router.state",["ui.router.router","ui.router.util"]),t.module("ui.router",["ui.router.state"]),t.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],t.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],t.module("ui.router.util").service("$templateFactory",$TemplateFactory);var h;UrlMatcher.prototype.concat=function(e,t){var n={caseInsensitive:h.caseInsensitive(),strict:h.strictMode(),squash:h.defaultSquashPolicy()};return new UrlMatcher(this.sourcePath+e+this.sourceSearch,u(n,t),this)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(e,t){function decodePathArray(e){function reverseString(e){return e.split("").reverse().join("")}function unquoteDashes(e){return e.replace(/\\-/g,"-")}var t=reverseString(e).split(/-(?!\\)/),n=map(t,reverseString);return map(n,unquoteDashes).reverse()}var n=this.regexp.exec(e);if(!n)return null;t=t||{};var i,o,s,a=this.parameters(),c=a.length,u=this.segments.length-1,l={};if(u!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");var f,h;for(i=0;i<u;i++){for(s=a[i],f=this.params[s],h=n[i+1],o=0;o<f.replace.length;o++)f.replace[o].from===h&&(h=f.replace[o].to);h&&f.array===!0&&(h=decodePathArray(h)),r(h)&&(h=f.type.decode(h)),l[s]=f.value(h)}for(;i<c;i++){for(s=a[i],l[s]=this.params[s].value(t[s]),f=this.params[s],h=t[s],o=0;o<f.replace.length;o++)f.replace[o].from===h&&(h=f.replace[o].to);r(h)&&(h=f.type.decode(h)),l[s]=f.value(h)}return l},UrlMatcher.prototype.parameters=function(e){return r(e)?this.params[e]||null:this.$$paramNames},UrlMatcher.prototype.validates=function(e){return this.params.$$validates(e)},UrlMatcher.prototype.format=function(e){function encodeDashes(e){return encodeURIComponent(e).replace(/-/g,function(e){return"%5C%"+e.charCodeAt(0).toString(16).toUpperCase()})}e=e||{};var t=this.segments,n=this.parameters(),r=this.params;if(!this.validates(e))return null;var i,s=!1,c=t.length-1,u=n.length,l=t[0];for(i=0;i<u;i++){var f=i<c,h=n[i],p=r[h],d=p.value(e[h]),m=p.isOptional&&p.type.equals(p.value(),d),g=!!m&&p.squash,v=p.type.encode(d);if(f){var y=t[i+1],$=i+1===c;if(g===!1)null!=v&&(l+=a(v)?map(v,encodeDashes).join("-"):encodeURIComponent(v)),l+=y;else if(g===!0){var b=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=y.match(b)[1]}else o(g)&&(l+=g+y);$&&p.squash===!0&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==v||m&&g!==!1)continue;if(a(v)||(v=[v]),0===v.length)continue;v=map(v,encodeURIComponent).join("&"+h+"="),l+=(s?"&":"?")+(h+"="+v),s=!0}}return l},Type.prototype.is=function(e,t){return!0},Type.prototype.encode=function(e,t){return e},Type.prototype.decode=function(e,t){return e},Type.prototype.equals=function(e,t){return e==t},Type.prototype.$subPattern=function(){var e=this.pattern.toString();return e.substr(1,e.length-2)},Type.prototype.pattern=/.*/,Type.prototype.toString=function(){return"{Type:"+this.name+"}"},Type.prototype.$normalize=function(e){return this.is(e)?e:this.decode(e)},Type.prototype.$asArray=function(e,t){function ArrayType(e,t){function bindTo(e,t){return function(){return e[t].apply(e,arguments)}}function arrayWrap(e){return a(e)?e:r(e)?[e]:[]}function arrayUnwrap(e){switch(e.length){case 0:return n;case 1:return"auto"===t?e[0]:e;default:return e}}function falsey(e){return!e}function arrayHandler(e,t){return function(n){if(a(n)&&0===n.length)return n;n=arrayWrap(n);var r=map(n,e);return t===!0?0===filter(r,falsey).length:arrayUnwrap(r)}}function arrayEqualsHandler(e){return function(t,n){var r=arrayWrap(t),i=arrayWrap(n);if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(!e(r[o],i[o]))return!1;return!0}}this.encode=arrayHandler(bindTo(e,"encode")),this.decode=arrayHandler(bindTo(e,"decode")),this.is=arrayHandler(bindTo(e,"is"),!0),this.equals=arrayEqualsHandler(bindTo(e,"equals")),this.pattern=e.pattern,this.$normalize=arrayHandler(bindTo(e,"$normalize")),this.name=e.name,this.$arrayMode=t}if(!e)return this;if("auto"===e&&!t)throw new Error("'auto' array mode is for query parameters only");return new ArrayType(this,e)},t.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),t.module("ui.router.util").run(["$urlMatcherFactory",function(e){}]),$UrlRouterProvider.$inject=["$locationProvider","$urlMatcherFactoryProvider"],t.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],t.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",$StateProvider).run(["$injector",function(e){e.get("$state.runtime").autoinject&&e.get("$state")}]),$ViewProvider.$inject=[],t.module("ui.router.state").provider("$view",$ViewProvider),t.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],$ViewDirectiveFill.$inject=["$compile","$controller","$state","$interpolate"],t.module("ui.router.state").directive("uiView",$ViewDirective),t.module("ui.router.state").directive("uiView",$ViewDirectiveFill),$StateRefDirective.$inject=["$state","$timeout"],$StateRefDynamicDirective.$inject=["$state","$timeout"],$StateRefActiveDirective.$inject=["$state","$stateParams","$interpolate"],t.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateRefActiveDirective).directive("uiSrefActiveEq",$StateRefActiveDirective).directive("uiState",$StateRefDynamicDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],t.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter)}(window,window.angular)},function(e,t,n){n(6),e.exports="angularCSS"},function(e,t){"use strict";!function(e){var t=e.module("angularCSS",[]);e.module("door3.css",[]).run(function(){console.error('AngularCSS: The module name "door3.css" is now deprecated. Please use "angularCSS" instead.')}),t.provider("$css",[function(){var t=this.defaults={element:"link",rel:"stylesheet",type:"text/css",container:"head",method:"append",weight:0},r=!1;this.debugMode=function(t){return e.isDefined(t)&&(r=t),r},this.$get=["$rootScope","$injector","$q","$window","$timeout","$compile","$http","$filter","$log","$interpolate",function(i,o,s,a,c,u,l,f,h,p){function $directiveAddEventListener(e,t,n){n&&t.hasOwnProperty("css")&&d.bind(t.css,n)}function $routeEventListener(e,t,n){n&&(d.remove(d.getFromRoute(n).concat(w)),w.length=0),t&&d.add(d.getFromRoute(t))}function $stateEventListener(e,t,n,r){r&&(d.remove(d.getFromState(r).concat(w)),w.length=0),t&&d.add(d.getFromState(t))}function mapBreakpointToMedia(t){e.isDefined($.breakpoints)&&(t.breakpoint in $.breakpoints&&(t.media=$.breakpoints[t.breakpoint]),delete t.breakpoints)}function parse(t){if(t)return e.isFunction(t)&&(t=e.copy(o.invoke(t))),e.isString(t)&&(t=e.extend({href:t},$)),e.isArray(t)&&e.isString(t[0])&&e.forEach(t,function(n){t=e.extend({href:n},$)}),e.isObject(t)&&!e.isArray(t)&&(t=e.extend({},$,t)),e.isArray(t)&&e.isObject(t[0])&&e.forEach(t,function(n){t=e.extend(n,$)}),mapBreakpointToMedia(t),t}function bustCache(e){if(!e)return void(r&&h.error("No stylesheets provided"));var t="?cache=";e.href.indexOf(t)===-1&&(e.href=e.href+(e.bustCache?t+(new Date).getTime():""))}function filterBy(e,t){return e&&t?f("filter")(e,function(e){return e[t]}):void(r&&h.error("filterBy: missing array or property"))}function addViaMediaQuery(e){return e?(g[e.href]=a.matchMedia(e.media),v[e.href]=function(t){c(function(){if(t.matches)i.stylesheets.push(e);else{var n=i.stylesheets.indexOf(f("filter")(i.stylesheets,{href:e.href})[0]);n!==-1&&i.stylesheets.splice(n,1)}})},g[e.href].addListener(v[e.href]),void v[e.href](g[e.href])):void(r&&h.error("No stylesheet provided"))}function removeViaMediaQuery(t){return t?void(i&&e.isDefined(g)&&g[t.href]&&e.isDefined(v)&&g[t.href].removeListener(v[t.href])):void(r&&h.error("No stylesheet provided"))}function isMediaQuery(e){return e?!(!e.media||y.indexOf(e.media)!==-1||!a.matchMedia):void(r&&h.error("No stylesheet provided"))}var d={},m='<link ng-repeat="stylesheet in stylesheets | orderBy: \'weight\' track by $index " rel="{{ stylesheet.rel }}" type="{{ stylesheet.type }}" ng-href="{{ stylesheet.href }}" ng-attr-media="{{ stylesheet.media }}">';m=m.replace(/{{/g,p.startSymbol()).replace(/}}/g,p.endSymbol());var g={},v={},y=["print"],$=e.extend({},t),b=e.element(document.querySelector?document.querySelector($.container):document.getElementsByTagName($.container)[0]),w=[];return e.forEach(n,function(e,t){e.hasOwnProperty("css")&&(n[t]=parse(e.css))}),i.stylesheets=[],b[$.method](u(m)(i)),i.$on("$directiveAdd",$directiveAddEventListener),i.$on("$routeChangeSuccess",$routeEventListener),i.$on("$stateChangeSuccess",$stateEventListener),d.getFromRoute=function(t){if(!t)return void(r&&h.error("Get From Route: No route provided"));var n=null,i=[];return t.$$route&&t.$$route.css?n=t.$$route.css:t.css&&(n=t.css),n&&(e.isArray(n)?e.forEach(n,function(t){e.isFunction(t)&&w.push(parse(t)),i.push(parse(t))}):(e.isFunction(n)&&w.push(parse(n)),i.push(parse(n)))),i},d.getFromRoutes=function(t){if(!t)return void(r&&h.error("Get From Routes: No routes provided"));var n=[];return e.forEach(t,function(e){var t=d.getFromRoute(e);t.length&&n.push(t[0])}),n},d.getFromState=function(t){if(!t)return void(r&&h.error("Get From State: No state provided"));var n=[];if(e.isDefined(t.views)&&e.forEach(t.views,function(t){t.css&&(e.isFunction(t.css)&&w.push(parse(t.css)),n.push(parse(t.css)))}),e.isDefined(t.children)&&e.forEach(t.children,function(t){t.css&&(e.isFunction(t.css)&&w.push(parse(t.css)),n.push(parse(t.css))),e.isDefined(t.children)&&e.forEach(t.children,function(t){t.css&&(e.isFunction(t.css)&&w.push(parse(t.css)),n.push(parse(t.css)))})}),e.isDefined(t.css)||e.isDefined(t.data)&&e.isDefined(t.data.css)){var i=t.css||t.data.css;e.isArray(i)?e.forEach(i,function(t){e.isFunction(t)&&w.push(parse(t)),n.push(parse(t))}):(e.isFunction(i)&&w.push(parse(i)),n.push(parse(i)))}return n},d.getFromStates=function(t){if(!t)return void(r&&h.error("Get From States: No states provided"));var n=[];return e.forEach(t,function(t){var r=d.getFromState(t);e.isArray(r)?e.forEach(r,function(e){n.push(e)}):n.push(r)}),n},d.preload=function(t,i){t||(t=[],n.length&&Array.prototype.push.apply(t,n),o.has("$route")&&Array.prototype.push.apply(t,d.getFromRoutes(o.get("$route").routes)),o.has("$state")&&Array.prototype.push.apply(t,d.getFromStates(o.get("$state").get())),t=filterBy(t,"preload")),e.isArray(t)||(t=[t]);var a=[];e.forEach(t,function(e,n){e=t[n]=parse(e),a.push(l.get(e.href).error(function(t){r&&h.error("AngularCSS: Incorrect path for "+e.href)}))}),e.isFunction(i)&&s.all(a).then(function(){i(t)})},d.bind=function(t,n){if(!t||!n)return void(r&&h.error("No scope or stylesheets provided"));var i=[];e.isArray(t)?e.forEach(t,function(e){i.push(parse(e))}):i.push(parse(t)),d.add(i),r&&h.debug("$css.bind(): Added",i),n.$on("$destroy",function(){d.remove(i),r&&h.debug("$css.bind(): Removed",i)})},d.add=function(t,n){return t?(e.isArray(t)||(t=[t]),e.forEach(t,function(e){e=parse(e),e.href&&!f("filter")(i.stylesheets,{href:e.href}).length&&(bustCache(e),isMediaQuery(e)?addViaMediaQuery(e):i.stylesheets.push(e),r&&h.debug("$css.add(): "+e.href))}),void i.$broadcast("$cssAdd",t,i.stylesheets)):void(r&&h.error("No stylesheets provided"))},d.remove=function(t,n){return t?(e.isArray(t)||(t=[t]),t=f("filter")(t,function(e){return!e.persist}),e.forEach(t,function(e){e=parse(e);var t=i.stylesheets.indexOf(f("filter")(i.stylesheets,{href:e.href})[0]);t!==-1&&i.stylesheets.splice(t,1),removeViaMediaQuery(e),r&&h.debug("$css.remove(): "+e.href)}),void i.$broadcast("$cssRemove",t,i.stylesheets)):void(r&&h.error("No stylesheets provided"))},d.removeAll=function(){i&&i.hasOwnProperty("stylesheets")&&(i.stylesheets.length=0),r&&h.debug("all stylesheets removed")},d.preload(),d}]}]),t.filter("$cssLinks",function(){return function(t){if(!t||!e.isArray(t))return t;var n="";return e.forEach(t,function(e){n+='<link rel="'+e.rel+'" type="'+e.type+'" href="'+e.href+'"',n+=e.media?' media="'+e.media+'"':"",n+=">\n\n"}),n}}),t.run(["$css",function(e){}]);var n=[],r=e.module,i=function(e,t){return e.reduce(function(e,n){return e.push(t(n)),e},[])},o=function(e,t){return e.indexOf(t)>-1};e.module=function(){var t=r.apply(this,arguments),s=t.directive;t.directive=function(t,r){var a=e.isFunction(r)?r:r[r?r.length-1:0];try{var c=e.copy(a)();c.directiveName=t,c.hasOwnProperty("css")&&!o(i(n,function(e){return e.ddo.directiveName}),t)&&n.push({ddo:c,handled:!1})}catch(e){}return s.apply(this,arguments)};var a=t.component;return t.component=function(e,t){return t.directiveName=e,t.hasOwnProperty("css")&&!o(i(n,function(e){return e.ddo.directiveName}),e)&&n.push({ddo:t,handled:!1}),a.apply(this,arguments)},t.config(["$provide","$injector",function(t,r){e.forEach(n,function(e){if(!e.handled){var n=e.ddo,i=n.directiveName+"Directive";r.has(i)&&(e.handled=!0,t.decorator(i,["$delegate","$rootScope","$timeout",function(e,t,r){var i=e[0],o=i.compile;return i.css||(i.css=n.css),i.compile=function(){var e=!!o&&o.apply(this,arguments);return function(n){var o=arguments;r(function(){e&&e.apply(this,o)}),t.$broadcast("$directiveAdd",i,n)}},e}]))}})}]),t}}(angular)},function(e,t,n){n(8),e.exports="ngSanitize"},function(e,t){!function(e,t){"use strict";function $SanitizeProvider(){function toMap(e,t){var n,r={},i=e.split(",");for(n=0;n<i.length;n++)r[t?s(i[n]):i[n]]=!0;return r}function htmlParserImpl(t,n){null===t||void 0===t?t="":"string"!=typeof t&&(t=""+t),h.innerHTML=t;var r=5;do{if(0===r)throw l("uinput","Failed to sanitize html because the input is unstable");r--,e.document.documentMode&&stripCustomNsAttrs(h),t=h.innerHTML,h.innerHTML=t}while(t!==h.innerHTML);for(var i=h.firstChild;i;){switch(i.nodeType){case 1:n.start(i.nodeName.toLowerCase(),attrToMap(i.attributes));break;case 3:n.chars(i.textContent)}var o;if(!(o=i.firstChild)&&(1==i.nodeType&&n.end(i.nodeName.toLowerCase()),o=i.nextSibling,!o))for(;null==o&&(i=i.parentNode,i!==h);)o=i.nextSibling,1==i.nodeType&&n.end(i.nodeName.toLowerCase());i=o}for(;i=h.firstChild;)h.removeChild(i)}function attrToMap(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];t[i.name]=i.value}return t}function encodeEntities(e){return e.replace(/&/g,"&amp;").replace(p,function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1);return"&#"+(1024*(t-55296)+(n-56320)+65536)+";"}).replace(d,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriterImpl(e,t){var r=!1,o=n(e,e.push);return{start:function(e,n){e=s(e),!r&&x[e]&&(r=e),r||S[e]!==!0||(o("<"),o(e),i(n,function(n,r){var i=s(r),a="img"===e&&"src"===i||"background"===i;A[i]!==!0||C[i]===!0&&!t(n,a)||(o(" "),o(r),o('="'),o(encodeEntities(n)),o('"'))}),o(">"))},end:function(e){e=s(e),r||S[e]!==!0||m[e]===!0||(o("</"),o(e),o(">")),e==r&&(r=!1)},chars:function(e){r||o(encodeEntities(e))}}}function stripCustomNsAttrs(t){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,r=0,i=n.length;r<i;r++){var o=n[r],s=o.name.toLowerCase();"xmlns:ns1"!==s&&0!==s.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),r--,i--)}var a=t.firstChild;a&&stripCustomNsAttrs(a),a=t.nextSibling,a&&stripCustomNsAttrs(a)}var f=!1;this.$get=["$$sanitizeUri",function(e){return f&&r(S,w),function(t){var n=[];return c(t,u(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return o(e)?(f=e,this):f},n=t.bind,r=t.extend,i=t.forEach,o=t.isDefined,s=t.lowercase,a=t.noop,c=htmlParserImpl,u=htmlSanitizeWriterImpl;var h,p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,d=/([^\#-~ |!])/g,m=toMap("area,br,col,hr,img,wbr"),g=toMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=toMap("rp,rt"),y=r({},v,g),$=r({},g,toMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),b=r({},v,toMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),w=toMap("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),x=toMap("script,style"),S=r({},m,$,b,y),C=toMap("background,cite,href,longdesc,src,xlink:href"),k=toMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),E=toMap("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),A=r({},C,E,k);!function(e){var t;if(!e.document||!e.document.implementation)throw l("noinert","Can't create an inert html document");t=e.document.implementation.createHTMLDocument("inert");var n=t.documentElement||t.getDocumentElement(),r=n.getElementsByTagName("body");if(1===r.length)h=r[0];else{var i=t.createElement("html");h=t.createElement("body"),i.appendChild(h),t.appendChild(i)}}(e)}function sanitizeText(e){var t=[],n=u(t,a);return n.chars(e),t.join("")}var n,r,i,o,s,a,c,u,l=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,i=t.$$minErr("linky"),o=t.isDefined,s=t.isFunction,a=t.isObject,c=t.isString;return function(t,u,l){function addText(e){e&&g.push(sanitizeText(e))}function addLink(e,t){var n,r=d(e);g.push("<a ");for(n in r)g.push(n+'="'+r[n]+'" ');!o(u)||"target"in r||g.push('target="',u,'" '),g.push('href="',e.replace(/"/g,"&quot;"),'">'),addText(t),g.push("</a>")}if(null==t||""===t)return t;if(!c(t))throw i("notstring","Expected string but received: {0}",t);for(var f,h,p,d=s(l)?l:a(l)?function(){return l}:function(){return{}},m=t,g=[];f=m.match(n);)h=f[0],f[2]||f[4]||(h=(f[3]?"http://":"mailto:")+h),p=f.index,addText(m.substr(0,p)),addLink(h,f[0].replace(r,"")),m=m.substring(p+f[0].length);return addText(m),e(g.join(""))}}])}(window,window.angular)},,,,,,function(e,t,n){function lookup(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),c=i.source,u=i.id,l=i.path,f=a[u]&&l in a[u].nsps,h=t.forceNew||t["force new connection"]||!1===t.multiplex||f;return h?(s("ignoring socket cache for %s",c),n=o(c,t)):(a[u]||(s("new io instance for %s",c),a[u]=o(c,t)),n=a[u]),i.query&&!t.query?t.query=i.query:t&&"object"==typeof t.query&&(t.query=encodeQueryString(t.query)),n.socket(i.path,t)}function encodeQueryString(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")}var r=n(15),i=n(20),o=n(28),s=n(17)("socket.io-client");e.exports=t=lookup;var a=t.managers={};t.protocol=i.protocol,t.connect=lookup,t.Manager=n(28),t.Socket=n(56)},function(e,t,n){(function(t){function url(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e="undefined"!=typeof n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var s=o.host.indexOf(":")!==-1,a=s?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port===o.port?"":":"+o.port),o}var r=n(16),i=n(17)("socket.io-client:url");e.exports=url}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");i!=-1&&o!=-1&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=n.exec(e||""),a={},c=14;c--;)a[r[c]]=s[c]||"";return i!=-1&&o!=-1&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},function(e,t,n){function useColors(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function formatArgs(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e}function log(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function save(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}}function load(){var e;try{e=t.storage.debug}catch(e){}return e}function localstorage(){try{return window.localStorage}catch(e){}}t=e.exports=n(18),t.log=log,t.formatArgs=formatArgs,t.save=save,t.load=load,t.useColors=useColors,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:localstorage(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(load())},function(e,t,n){function selectColor(){return t.colors[i++%t.colors.length]}function debug(e){function disabled(){}function enabled(){var e=enabled,n=+new Date,i=n-(r||n);e.diff=i,e.prev=r,e.curr=n,r=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=selectColor());var o=Array.prototype.slice.call(arguments);o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var s=0;o[0]=o[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];if("function"==typeof i){var a=o[s];n=i.call(e,a),o.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(o=t.formatArgs.apply(e,o));var a=enabled.log||t.log||console.log.bind(console);a.apply(e,o)}disabled.enabled=!1,enabled.enabled=!0;var n=t.enabled(e)?enabled:disabled;return n.namespace=e,n}function enable(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&(e=n[i].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function disable(){t.enable("")}function enabled(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1}function coerce(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=debug,t.coerce=coerce,t.disable=disable,t.enable=enable,t.enabled=enabled,t.humanize=n(19),t.names=[],t.skips=[],t.formatters={};var r,i=0},function(e,t){function parse(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*s;case"days":case"day":case"d":return a*o;case"hours":case"hour":case"hrs":case"hr":case"h":return a*i;case"minutes":case"minute":case"mins":case"min":case"m":return a*r;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a}}}}function short(e){return e>=o?Math.round(e/o)+"d":e>=i?Math.round(e/i)+"h":e>=r?Math.round(e/r)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}function long(e){return plural(e,o,"day")||plural(e,i,"hour")||plural(e,r,"minute")||plural(e,n,"second")||e+" ms"}function plural(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var n=1e3,r=60*n,i=60*r,o=24*i,s=365.25*o;e.exports=function(e,t){return t=t||{},"string"==typeof e?parse(e):t.long?long(e):short(e)}},function(e,t,n){function Encoder(){}function encodeAsString(e){var n="",o=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,n+=e.nsp),null!=e.id&&(o&&(n+=",",o=!1),n+=e.id),null!=e.data&&(o&&(n+=","),n+=i.stringify(e.data)),r("encoded %j as %s",e,n),n}function encodeAsBinary(e,t){function writeEncoding(e){var n=s.deconstructPacket(e),r=encodeAsString(n.packet),i=n.buffers;i.unshift(r),t(i)}s.removeBlobs(e,writeEncoding)}function Decoder(){this.reconstructor=null}function decodeString(e){var n={},i=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return error();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var o="";"-"!=e.charAt(++i)&&(o+=e.charAt(i),i!=e.length););if(o!=Number(o)||"-"!=e.charAt(i))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"==e.charAt(i+1))for(n.nsp="";++i;){var s=e.charAt(i);if(","==s)break;if(n.nsp+=s,i==e.length)break}else n.nsp="/";var a=e.charAt(i+1);if(""!==a&&Number(a)==a){for(n.id="";++i;){var s=e.charAt(i);if(null==s||Number(s)!=s){--i;break}if(n.id+=e.charAt(i),i==e.length)break}n.id=Number(n.id)}return e.charAt(++i)&&(n=tryParse(n,e.substr(i))),r("decoded %s as %j",e,n),n}function tryParse(e,t){try{e.data=i.parse(t)}catch(e){return error()}return e}function BinaryReconstructor(e){this.reconPack=e,this.buffers=[]}function error(e){return{type:t.ERROR,data:"parser error"}}var r=n(17)("socket.io-parser"),i=n(21),o=n(24),s=n(25),a=n(27);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=Encoder,t.Decoder=Decoder,Encoder.prototype.encode=function(e,n){if(r("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)encodeAsBinary(e,n);else{var i=encodeAsString(e);n([i])}},o(Decoder.prototype),Decoder.prototype.add=function(e){var n;if("string"==typeof e)n=decodeString(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new BinaryReconstructor(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,this.emit("decoded",n))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r;(function(e,i){(function(){function runInContext(e,t){function has(e){if(has[e]!==d)return has[e];var i;if("bug-string-char-index"==e)i="a"!="a"[0];else if("json"==e)i=has("json-stringify")&&has("json-parse");else{var s,a='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var c=t.stringify,u="function"==typeof c&&v;if(u){(s=function(){return 1}).toJSON=s;try{u="0"===c(0)&&"0"===c(new n)&&'""'==c(new r)&&c(g)===d&&c(d)===d&&c()===d&&"1"===c(s)&&"[1]"==c([s])&&"[null]"==c([d])&&"null"==c(null)&&"[null,null,null]"==c([d,g,null])&&c({a:[s,!0,!1,null,"\0\b\n\f\r\t"]})==a&&"1"===c(null,s)&&"[\n 1,\n 2\n]"==c([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new o(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new o(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new o(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new o(-1))}catch(e){u=!1}}i=u}if("json-parse"==e){var l=t.parse;if("function"==typeof l)try{if(0===l("0")&&!l(!1)){s=l(a);var f=5==s.a.length&&1===s.a[0];if(f){try{f=!l('"\t"')}catch(e){}if(f)try{f=1!==l("01")}catch(e){}if(f)try{f=1!==l("1.")}catch(e){}}}}catch(e){f=!1}i=f}}return has[e]=!!i}e||(e=c.Object()),t||(t=c.Object());var n=e.Number||c.Number,r=e.String||c.String,i=e.Object||c.Object,o=e.Date||c.Date,a=e.SyntaxError||c.SyntaxError,u=e.TypeError||c.TypeError,l=e.Math||c.Math,f=e.JSON||c.JSON;"object"==typeof f&&f&&(t.stringify=f.stringify,t.parse=f.parse);var h,p,d,m=i.prototype,g=m.toString,v=new o(-0xc782b5b800cec);try{v=v.getUTCFullYear()==-109252&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(e){}if(!has("json")){var y="[object Function]",$="[object Date]",b="[object Number]",w="[object String]",x="[object Array]",S="[object Boolean]",C=has("bug-string-char-index");if(!v)var k=l.floor,E=[0,31,59,90,120,151,181,212,243,273,304,334],A=function(e,t){return E[t]+365*(e-1970)+k((e-1969+(t=+(t>1)))/4)-k((e-1901+t)/100)+k((e-1601+t)/400)};if((h=m.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),p=function(e,t){var n,r,i,o=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n;for(i in r)h.call(r,i)&&o++;return n=r=null,o?p=2==o?function(e,t){var n,r={},i=g.call(e)==y;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=g.call(e)==y;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(e,t){var n,i,o=g.call(e)==y,a=!o&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)o&&"prototype"==n||!a.call(e,n)||t(n);
for(i=r.length;n=r[--i];a.call(e,n)&&t(n));}),p(e,t)},!has("json-stringify")){var _={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},T="000000",O=function(e,t){return(T+(t||0)).slice(-e)},P="\\u00",D=function(e){for(var t='"',n=0,r=e.length,i=!C||r>10,o=i&&(C?e.split(""):e);n<r;n++){var s=e.charCodeAt(n);switch(s){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=_[s];break;default:if(s<32){t+=P+O(2,s.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},j=function(e,t,n,r,i,o,s){var a,c,l,f,m,v,y,C,E,_,T,P,N,M,I,R;try{a=t[e]}catch(e){}if("object"==typeof a&&a)if(c=g.call(a),c!=$||h.call(a,"toJSON"))"function"==typeof a.toJSON&&(c!=b&&c!=w&&c!=x||h.call(a,"toJSON"))&&(a=a.toJSON(e));else if(a>-1/0&&a<1/0){if(A){for(m=k(a/864e5),l=k(m/365.2425)+1970-1;A(l+1,0)<=m;l++);for(f=k((m-A(l,0))/30.42);A(l,f+1)<=m;f++);m=1+m-A(l,f),v=(a%864e5+864e5)%864e5,y=k(v/36e5)%24,C=k(v/6e4)%60,E=k(v/1e3)%60,_=v%1e3}else l=a.getUTCFullYear(),f=a.getUTCMonth(),m=a.getUTCDate(),y=a.getUTCHours(),C=a.getUTCMinutes(),E=a.getUTCSeconds(),_=a.getUTCMilliseconds();a=(l<=0||l>=1e4?(l<0?"-":"+")+O(6,l<0?-l:l):O(4,l))+"-"+O(2,f+1)+"-"+O(2,m)+"T"+O(2,y)+":"+O(2,C)+":"+O(2,E)+"."+O(3,_)+"Z"}else a=null;if(n&&(a=n.call(t,e,a)),null===a)return"null";if(c=g.call(a),c==S)return""+a;if(c==b)return a>-1/0&&a<1/0?""+a:"null";if(c==w)return D(""+a);if("object"==typeof a){for(M=s.length;M--;)if(s[M]===a)throw u();if(s.push(a),T=[],I=o,o+=i,c==x){for(N=0,M=a.length;N<M;N++)P=j(N,a,n,r,i,o,s),T.push(P===d?"null":P);R=T.length?i?"[\n"+o+T.join(",\n"+o)+"\n"+I+"]":"["+T.join(",")+"]":"[]"}else p(r||a,function(e){var t=j(e,a,n,r,i,o,s);t!==d&&T.push(D(e)+":"+(i?" ":"")+t)}),R=T.length?i?"{\n"+o+T.join(",\n"+o)+"\n"+I+"}":"{"+T.join(",")+"}":"{}";return s.pop(),R}};t.stringify=function(e,t,n){var r,i,o,a;if(s[typeof t]&&t)if((a=g.call(t))==y)i=t;else if(a==x){o={};for(var c,u=0,l=t.length;u<l;c=t[u++],a=g.call(c),(a==w||a==b)&&(o[c]=1));}if(n)if((a=g.call(n))==b){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==w&&(r=n.length<=10?n:n.slice(0,10));return j("",(c={},c[""]=e,c),i,o,r,"",[])}}if(!has("json-parse")){var N,M,I=r.fromCharCode,R={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},L=function(){throw N=M=null,a()},F=function(){for(var e,t,n,r,i,o=M,s=o.length;N<s;)switch(i=o.charCodeAt(N)){case 9:case 10:case 13:case 32:N++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=C?o.charAt(N):o[N],N++,e;case 34:for(e="@",N++;N<s;)if(i=o.charCodeAt(N),i<32)L();else if(92==i)switch(i=o.charCodeAt(++N)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=R[i],N++;break;case 117:for(t=++N,n=N+4;N<n;N++)i=o.charCodeAt(N),i>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||L();e+=I("0x"+o.slice(t,N));break;default:L()}else{if(34==i)break;for(i=o.charCodeAt(N),t=N;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++N);e+=o.slice(t,N)}if(34==o.charCodeAt(N))return N++,e;L();default:if(t=N,45==i&&(r=!0,i=o.charCodeAt(++N)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(N+1),i>=48&&i<=57)&&L(),r=!1;N<s&&(i=o.charCodeAt(N),i>=48&&i<=57);N++);if(46==o.charCodeAt(N)){for(n=++N;n<s&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==N&&L(),N=n}if(i=o.charCodeAt(N),101==i||69==i){for(i=o.charCodeAt(++N),43!=i&&45!=i||N++,n=N;n<s&&(i=o.charCodeAt(n),i>=48&&i<=57);n++);n==N&&L(),N=n}return+o.slice(t,N)}if(r&&L(),"true"==o.slice(N,N+4))return N+=4,!0;if("false"==o.slice(N,N+5))return N+=5,!1;if("null"==o.slice(N,N+4))return N+=4,null;L()}return"$"},q=function(e){var t,n;if("$"==e&&L(),"string"==typeof e){if("@"==(C?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=F(),"]"!=e;n||(n=!0))n&&(","==e?(e=F(),"]"==e&&L()):L()),","==e&&L(),t.push(q(e));return t}if("{"==e){for(t={};e=F(),"}"!=e;n||(n=!0))n&&(","==e?(e=F(),"}"==e&&L()):L()),","!=e&&"string"==typeof e&&"@"==(C?e.charAt(0):e[0])&&":"==F()||L(),t[e.slice(1)]=q(F());return t}L()}return e},U=function(e,t,n){var r=B(e,t,n);r===d?delete e[t]:e[t]=r},B=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(g.call(i)==x)for(r=i.length;r--;)U(i,r,n);else p(i,function(e){U(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return N=0,M=""+e,n=q(F()),"$"!=F()&&L(),N=M=null,t&&g.call(t)==y?B((r={},r[""]=n,r),"",t):n}}}return t.runInContext=runInContext,t}var o=n(23),s={function:!0,object:!0},a=s[typeof t]&&t&&!t.nodeType&&t,c=s[typeof window]&&window||this,u=a&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(c=u),a&&!o)runInContext(c,a);else{var l=c.JSON,f=c.JSON3,h=!1,p=runInContext(c,c.JSON3={noConflict:function(){return h||(h=!0,c.JSON=l,c.JSON3=f,l=f=null),p}});c.JSON={parse:p.parse,stringify:p.stringify}}o&&(r=function(){return p}.call(t,n,t,e),!(void 0!==r&&(e.exports=r)))}).call(this)}).call(t,n(22)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){n.off(e,on),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(26),i=n(27);t.deconstructPacket=function(e){function _deconstructPacket(e){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=_deconstructPacket(e[s]);return o}if("object"==typeof e&&!(e instanceof Date)){var o={};for(var a in e)o[a]=_deconstructPacket(e[a]);return o}return e}var t=[],n=e.data,o=e;return o.data=_deconstructPacket(n),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){function _reconstructPacket(e){if(e&&e._placeholder){var n=t[e.num];return n}if(r(e)){for(var i=0;i<e.length;i++)e[i]=_reconstructPacket(e[i]);return e}if(e&&"object"==typeof e){for(var o in e)e[o]=_reconstructPacket(e[o]);return e}return e}return e.data=_reconstructPacket(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){function _removeBlobs(t,a,c){if(!t)return t;if(e.Blob&&t instanceof Blob||e.File&&t instanceof File){o++;var u=new FileReader;u.onload=function(){c?c[a]=this.result:s=this.result,--o||n(s)},u.readAsArrayBuffer(t)}else if(r(t))for(var l=0;l<t.length;l++)_removeBlobs(t[l],l,t);else if(t&&"object"==typeof t&&!i(t))for(var f in t)_removeBlobs(t[f],f,t)}var o=0,s=t;_removeBlobs(s),o||n(s)}}).call(t,function(){return this}())},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){(function(t){function isBuf(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}e.exports=isBuf}).call(t,function(){return this}())},function(e,t,n){function Manager(e,t){return this instanceof Manager?(e&&"object"==typeof e&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=t.autoConnect!==!1,void(this.autoConnect&&this.open())):new Manager(e,t)}var r=n(29),i=n(56),o=n(57),s=n(20),a=n(59),c=n(60),u=n(17)("socket.io-client:manager"),l=n(54),f=n(63),h=Object.prototype.hasOwnProperty;e.exports=Manager,Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var e in this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},Manager.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},o(Manager.prototype),Manager.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(e,t){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",function(){i.onopen(),e&&e()}),s=a(n,"error",function(t){if(u("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()});if(!1!==this._timeout){var c=this._timeout;u("connect attempt will timeout after %d",c);var l=setTimeout(function(){u("connect attempt timed out after %d",c),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",c)},c);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},Manager.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",c(this,"ondata"))),this.subs.push(a(e,"ping",c(this,"onping"))),this.subs.push(a(e,"pong",c(this,"onpong"))),this.subs.push(a(e,"error",c(this,"onerror"))),this.subs.push(a(e,"close",c(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",c(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(e){this.decoder.add(e)},Manager.prototype.ondecoded=function(e){this.emit("packet",e)},Manager.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},Manager.prototype.socket=function(e,t){function onConnecting(){~l(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",onConnecting),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&onConnecting()}return n},Manager.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},Manager.prototype.packet=function(e){u("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},Manager.prototype.cleanup=function(){u("cleanup");for(var e=this.subs.length,t=0;t<e;t++){var n=this.subs.shift();n.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},Manager.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(30)},function(e,t,n){e.exports=n(31),e.exports.parser=n(38)},function(e,t,n){(function(t){function Socket(e,n){if(!(this instanceof Socket))return new Socket(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=c(e),n.hostname=e.host,n.secure="https"===e.protocol||"wss"===e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=c(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized;var r="object"==typeof t&&t;r.global===r&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function clone(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var r=n(32),i=n(47),o=n(17)("engine.io-client:socket"),s=n(54),a=n(38),c=n(16),u=n(55),l=n(48);e.exports=Socket,Socket.priorWebsocketSuccess=!1,i(Socket.prototype),Socket.protocol=a.protocol,Socket.Socket=Socket,Socket.Transport=n(37),Socket.transports=n(32),Socket.parser=n(38),Socket.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=clone(this.query);t.EIO=a.protocol,t.transport=e,this.id&&(t.sid=this.id);var n=new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders});return n},Socket.prototype.open=function(){var e;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},Socket.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},Socket.prototype.probe=function(e){function onTransportOpen(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Socket.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),cleanup(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,r.emit("upgradeError",s)}}))}function freezeTransport(){n||(n=!0,cleanup(),t.close(),t=null)}function onerror(n){var i=new Error("probe error: "+n);i.transport=t.name,freezeTransport(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),freezeTransport())}function cleanup(){t.removeListener("open",onTransportOpen),t.removeListener("error",onerror),t.removeListener("close",onTransportClose),r.removeListener("close",onclose),r.removeListener("upgrading",onupgrade)}o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;Socket.priorWebsocketSuccess=!1,t.once("open",onTransportOpen),t.once("error",onerror),t.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),t.open()},Socket.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},Socket.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(u(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!==t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},Socket.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},Socket.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},Socket.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){n=n||{},n.compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},Socket.prototype.close=function(){function close(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function cleanupAndClose(){e.removeListener("upgrade",cleanupAndClose),e.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){e.once("upgrade",cleanupAndClose),e.once("upgradeError",cleanupAndClose)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?waitForUpgrade():close()}):this.upgrading?waitForUpgrade():close()}return this},Socket.prototype.onError=function(e){o("socket error %j",e),Socket.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},Socket.prototype.onClose=function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){o('socket close with reason: "%s"',e);var n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}},Socket.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){function polling(t){var n,s=!1,a=!1,c=!1!==t.jsonp;if(e.location){var u="https:"===location.protocol,l=location.port;l||(l=u?443:80),s=t.hostname!==location.hostname||l!==t.port,a=t.secure!==u}if(t.xdomain=s,t.xscheme=a,n=new r(t),"open"in n&&!t.forceJSONP)return new i(t);if(!c)throw new Error("JSONP disabled");return new o(t)}var r=n(33),i=n(35),o=n(51),s=n(52);t.polling=polling,t.websocket=s}).call(t,function(){return this}())},function(e,t,n){(function(t){var r=n(34);e.exports=function(e){var n=e.xdomain,i=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&o)return new XDomainRequest}catch(e){}if(!n)try{return new(t[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}}).call(t,function(){return this}())},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function empty(){}function XHR(e){if(i.call(this,e),t.location){var n="https:"===location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!==t.location.hostname||r!==e.port,this.xs=e.secure!==n}else this.extraHeaders=e.extraHeaders}function Request(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function unloadHandler(){for(var e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}var r=n(33),i=n(36),o=n(47),s=n(49),a=n(17)("engine.io-client:polling-xhr");e.exports=XHR,e.exports.Request=Request,s(XHR,i),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(e){return e=e||{},e.uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new Request(e)},XHR.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",function(e){i.onError("xhr post error",e)}),this.sendXhr=r},XHR.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},o(Request.prototype),Request.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new r(e),i=this;try{a("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders){n.setDisableHeaderCheck(!0);for(var o in this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.hasXDR()?(n.onload=function(){i.onLoad()},n.onerror=function(){i.onError(n.responseText)}):n.onreadystatechange=function(){4===n.readyState&&(200===n.status||1223===n.status?i.onLoad():setTimeout(function(){i.onError(n.status)},0))},a("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}t.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},Request.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},Request.prototype.cleanup=function(e){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,e)try{this.xhr.abort()}catch(e){}t.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response||this.xhr.responseText;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},Request.prototype.hasXDR=function(){return"undefined"!=typeof t.XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},t.document&&(t.attachEvent?t.attachEvent("onunload",unloadHandler):t.addEventListener&&t.addEventListener("beforeunload",unloadHandler,!1))}).call(t,function(){return this}())},function(e,t,n){function Polling(e){var t=e&&e.forceBase64;u&&!t||(this.supportsBinary=!1),r.call(this,e)}var r=n(37),i=n(48),o=n(38),s=n(49),a=n(50),c=n(17)("engine.io-client:polling");e.exports=Polling;var u=function(){var e=n(33),t=new e({xdomain:!1});return null!=t.responseType}();s(Polling,r),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(e){function pause(){c("paused"),t.readyState="paused",e()}var t=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(c("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){c("pre-pause polling complete"),--n||pause()})),this.writable||(c("we are currently writing - waiting to pause"),n++,this.once("drain",function(){c("pre-pause writing complete"),--n||pause()}))}else pause()},Polling.prototype.poll=function(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(e){var t=this;c("polling got data %s",e);var n=function(e,n,r){return"opening"===t.readyState&&t.onOpen(),"close"===e.type?(t.onClose(),!1):void t.onPacket(e)};o.decodePayload(e,this.socket.binaryType,n),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():c('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){function close(){c("writing close packet"),e.write([{type:"close"}])}var e=this;"open"===this.readyState?(c("transport open - closing"),close()):(c("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},Polling.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==this.port||"http"===t&&80!==this.port)&&(n=":"+this.port),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function Transport(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,
this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var r=n(38),i=n(47);e.exports=Transport,i(Transport.prototype),Transport.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},Transport.prototype.onPacket=function(e){this.emit("packet",e)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function encodeBase64Object(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}function encodeArrayBuffer(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=h[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}function encodeBlobAsArrayBuffer(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}function encodeBlob(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(f)return encodeBlobAsArrayBuffer(e,n,r);var i=new Uint8Array(1);i[0]=h[e.type];var o=new m([i.buffer,e.data]);return r(o)}function tryDecode(e){try{e=c.decode(e)}catch(e){return!1}return e}function map(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},s=0;s<e.length;s++)o(s,e[s],i)}var r,i=n(39),o=n(40),s=n(42),a=n(43),c=n(44);e&&e.ArrayBuffer&&(r=n(45));var u="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=u||l;t.protocol=3;var h=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(h),d={type:"error",data:"parser error"},m=n(46);t.encodePacket=function(t,n,r,i){"function"==typeof n&&(i=n,n=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&o instanceof ArrayBuffer)return encodeArrayBuffer(t,n,i);if(m&&o instanceof e.Blob)return encodeBlob(t,n,i);if(o&&o.base64)return encodeBase64Object(t,i);var s=h[t.type];return void 0!==t.data&&(s+=r?c.encode(String(t.data)):String(t.data)),i(""+s)},t.encodeBase64Packet=function(n,r){var i="b"+t.packets[n.type];if(m&&n.data instanceof e.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];r(i+e)},o.readAsDataURL(n.data)}var s;try{s=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var a=new Uint8Array(n.data),c=new Array(a.length),u=0;u<a.length;u++)c[u]=a[u];s=String.fromCharCode.apply(null,c)}return i+=e.btoa(s),r(i)},t.decodePacket=function(e,n,r){if(void 0===e)return d;if("string"==typeof e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r&&(e=tryDecode(e),e===!1))return d;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:d}var o=new Uint8Array(e),i=o[0],a=s(e,1);return m&&"blob"===n&&(a=new m([a])),{type:p[i],data:a}},t.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&m&&(i=new m([i])),{type:n,data:i}},t.encodePayload=function(e,n,r){function setLengthHeader(e){return e.length+":"+e}function encodeOne(e,r){t.encodePacket(e,!!i&&n,!0,function(e){r(null,setLengthHeader(e))})}"function"==typeof n&&(r=n,n=null);var i=o(e);return n&&i?m&&!f?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void map(e,encodeOne,function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);"function"==typeof n&&(r=n,n=null);var i;if(""==e)return r(d,0,1);for(var o,s,a="",c=0,u=e.length;c<u;c++){var l=e.charAt(c);if(":"!=l)a+=l;else{if(""==a||a!=(o=Number(a)))return r(d,0,1);if(s=e.substr(c+1,o),a!=s.length)return r(d,0,1);if(s.length){if(i=t.decodePacket(s,n,!0),d.type==i.type&&d.data==i.data)return r(d,0,1);var f=r(i,c+o,u);if(!1===f)return}c+=o,a=""}}return""!=a?r(d,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){function encodeOne(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})}return e.length?void map(e,encodeOne,function(e,t){var r=t.reduce(function(e,t){var n;return n="string"==typeof t?t.length:t.byteLength,e+n.toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}t?i[o++]=0:i[o++]=1;for(var a=n.byteLength.toString(),s=0;s<a.length;s++)i[o++]=parseInt(a[s]);i[o++]=255;for(var r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]}),n(i.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){function encodeOne(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}for(var o=e instanceof ArrayBuffer?e.byteLength:e.size,s=o.toString(),a=new Uint8Array(s.length+1),i=0;i<s.length;i++)a[i]=parseInt(s[i]);if(a[s.length]=255,m){var c=new m([t.buffer,a.buffer,e]);n(null,c)}})}map(e,encodeOne,function(e,t){return n(new m(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var c=new Uint8Array(i),u=0===c[0],l="",f=1;255!=c[f];f++){if(l.length>310){a=!0;break}l+=c[f]}if(a)return r(d,0,1);i=s(i,2+l.length),l=parseInt(l);var h=s(i,0,l);if(u)try{h=String.fromCharCode.apply(null,new Uint8Array(h))}catch(e){var p=new Uint8Array(h);h="";for(var f=0;f<p.length;f++)h+=String.fromCharCode(p[f])}o.push(h),i=s(i,l)}var m=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,m)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){function hasBinary(e){function _hasBinary(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(_hasBinary(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&_hasBinary(e[i]))return!0}return!1}return _hasBinary(e)}var r=n(41);e.exports=hasBinary}).call(t,function(){return this}())},26,function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},function(e,t){function after(e,t,n){function proxy(e,i){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,e?(r=!0,t(e),t=n):0!==proxy.count||r||t(null,i)}var r=!1;return n=n||noop,proxy.count=e,0===e?t():proxy}function noop(){}e.exports=after},function(e,t,n){var r;(function(e,i){!function(o){function ucs2decode(e){for(var t,n,r=[],i=0,o=e.length;i<o;)t=e.charCodeAt(i++),t>=55296&&t<=56319&&i<o?(n=e.charCodeAt(i++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--)):r.push(t);return r}function ucs2encode(e){for(var t,n=e.length,r=-1,i="";++r<n;)t=e[r],t>65535&&(t-=65536,i+=f(t>>>10&1023|55296),t=56320|1023&t),i+=f(t);return i}function createByte(e,t){return f(e>>t&63|128)}function encodeCodePoint(e){if(0==(4294967168&e))return f(e);var t="";return 0==(4294965248&e)?t=f(e>>6&31|192):0==(4294901760&e)?(t=f(e>>12&15|224),t+=createByte(e,6)):0==(4292870144&e)&&(t=f(e>>18&7|240),t+=createByte(e,12),t+=createByte(e,6)),t+=f(63&e|128)}function wtf8encode(e){for(var t,n=ucs2decode(e),r=n.length,i=-1,o="";++i<r;)t=n[i],o+=encodeCodePoint(t);return o}function readContinuationByte(){if(l>=u)throw Error("Invalid byte index");var e=255&c[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function decodeSymbol(){var e,t,n,r,i;if(l>u)throw Error("Invalid byte index");if(l==u)return!1;if(e=255&c[l],l++,0==(128&e))return e;if(192==(224&e)){var t=readContinuationByte();if(i=(31&e)<<6|t,i>=128)return i;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=readContinuationByte(),n=readContinuationByte(),i=(15&e)<<12|t<<6|n,i>=2048)return i;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=readContinuationByte(),n=readContinuationByte(),r=readContinuationByte(),i=(15&e)<<18|t<<12|n<<6|r,i>=65536&&i<=1114111))return i;throw Error("Invalid WTF-8 detected")}function wtf8decode(e){c=ucs2decode(e),u=c.length,l=0;for(var t,n=[];(t=decodeSymbol())!==!1;)n.push(t);return ucs2encode(n)}var s="object"==typeof t&&t,a=("object"==typeof e&&e&&e.exports==s&&e,"object"==typeof i&&i);a.global!==a&&a.window!==a||(o=a);var c,u,l,f=String.fromCharCode,h={version:"1.0.0",encode:wtf8encode,decode:wtf8decode};r=function(){return h}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(22)(e),function(){return this}())},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3===2?o=o.substring(0,o.length-1)+"=":i%3===1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,s,a=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),f=new Uint8Array(l);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],f[u++]=r<<2|i>>4,f[u++]=(15&i)<<4|o>>2,f[u++]=(3&o)<<6|63&s;return l}}()},function(e,t){(function(t){function mapArrayBufferViews(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function BlobBuilderConstructor(e,t){t=t||{};var r=new n;mapArrayBufferViews(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function BlobConstructor(e,t){return mapArrayBufferViews(e),new Blob(e,t||{})}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{var e=new Blob(["hi"]);return 2===e.size}catch(e){return!1}}(),i=r&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;e.exports=function(){return r?i?t.Blob:BlobConstructor:o?BlobBuilderConstructor:void 0}()}).call(t,function(){return this}())},24,function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function encode(e){var t="";do t=r[e%i]+t,e=Math.floor(e/i);while(e>0);return t}function decode(e){var t=0;for(a=0;a<e.length;a++)t=t*i+o[e.charAt(a)];return t}function yeast(){var e=encode(+new Date);return e!==n?(s=0,n=e):e+"."+encode(s++)}for(var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},s=0,a=0;a<i;a++)o[r[a]]=a;yeast.encode=encode,yeast.decode=decode,e.exports=yeast},function(e,t,n){(function(t){function empty(){}function JSONPPolling(e){r.call(this,e),this.query=this.query||{},o||(t.___eio||(t.___eio=[]),o=t.___eio),this.index=o.length;var n=this;o.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=empty)},!1)}var r=n(36),i=n(49);e.exports=JSONPPolling;var o,s=/\n/g,a=/\\n/g;i(JSONPPolling,r),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),r.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;var r="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},JSONPPolling.prototype.doWrite=function(e,t){function complete(){initIframe(),t()}function initIframe(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){r=document.createElement("iframe"),r.name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),c=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=c,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}this.form.action=this.uri(),initIframe(),e=e.replace(a,"\\\n"),this.area.value=e.replace(s,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&complete()}:this.iframe.onload=complete}}).call(t,function(){return this}())},function(e,t,n){(function(t){function WS(e){var t=e&&e.forceBase64;t&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,r.call(this,e)}var r=n(37),i=n(38),o=n(48),s=n(49),a=n(50),c=n(17)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket,l=u;if(!l&&"undefined"==typeof window)try{l=n(53)}catch(e){}e.exports=WS,s(WS,r),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=void 0,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders);try{this.ws=u?new l(e):new l(e,t,n)}catch(e){return this.emit("error",e)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},WS.prototype.write=function(e){function done(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}var n=this;this.writable=!1;for(var r=e.length,o=0,s=r;o<s;o++)!function(e){i.encodePacket(e,n.supportsBinary,function(i){if(!u){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate){var s="string"==typeof i?t.Buffer.byteLength(i):i.length;s<n.perMessageDeflate.threshold&&(o.compress=!1)}}try{u?n.ws.send(i):n.ws.send(i,o)}catch(e){c("websocket closed before onclose event")}--r||done()})}(e[o])},WS.prototype.onClose=function(){r.prototype.onClose.call(this)},WS.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},WS.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";this.port&&("wss"===t&&443!==this.port||"ws"===t&&80!==this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||(e.b64=1),e=o.encode(e),e.length&&(e="?"+e);var r=this.hostname.indexOf(":")!==-1;return t+"://"+(r?"["+this.hostname+"]":this.hostname)+n+this.path+e},WS.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===WS.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,s=/^\s+/,a=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(s,"").replace(a,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){function Socket(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}var r=n(20),i=n(57),o=n(58),s=n(59),a=n(60),c=n(17)("socket.io-client:socket"),u=n(61);e.exports=t=Socket;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},f=i.prototype.emit;i(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},Socket.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},Socket.prototype.emit=function(e){if(l.hasOwnProperty(e))return f.apply(this,arguments),this;var t=o(arguments),n=r.EVENT;u(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t};return i.options={},i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(c("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},Socket.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},Socket.prototype.onopen=function(){c("transport is open - connecting"),"/"!==this.nsp&&(this.query?this.packet({type:r.CONNECT,query:this.query}):this.packet({type:r.CONNECT}))},Socket.prototype.onclose=function(e){c("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},Socket.prototype.onpacket=function(e){if(e.nsp===this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:this.onevent(e);break;case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:this.onack(e);break;case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},Socket.prototype.onevent=function(e){var t=e.data||[];c("emitting event %j",t),null!=e.id&&(c("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?f.apply(this,t):this.receiveBuffer.push(t)},Socket.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);c("sending ack %j",i);var s=u(i)?r.BINARY_ACK:r.ACK;t.packet({type:s,id:e,data:i})}}},Socket.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(c("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):c("bad ack %s",e.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)f.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){c("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(c("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}e.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function on(){this.off(e,on),t.apply(this,arguments)}return on.fn=t,this.on(e,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===t||r.fn===t){n.splice(i,1);break}return this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,t)}return this},Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){function toArray(e,t){var n=[];t=t||0;for(var r=t||0;r<e.length;r++)n[r-t]=e[r];return n}e.exports=toArray},function(e,t){function on(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}e.exports=on},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(t){function hasBinary(e){function _hasBinary(e){if(!e)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer||t.Blob&&e instanceof Blob||t.File&&e instanceof File)return!0;if(r(e)){for(var n=0;n<e.length;n++)if(_hasBinary(e[n]))return!0}else if(e&&"object"==typeof e){e.toJSON&&"function"==typeof e.toJSON&&(e=e.toJSON());for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&_hasBinary(e[i]))return!0}return!1}return _hasBinary(e)}var r=n(62);e.exports=hasBinary}).call(t,function(){return this}())},26,function(e,t){function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=Backoff,Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(e){this.ms=e},Backoff.prototype.setMax=function(e){this.max=e},Backoff.prototype.setJitter=function(e){this.jitter=e}},,,,function(e,t,n){"use strict";String.prototype.includes||(String.prototype.includes=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),Object.setPrototypeOf||(Object.setPrototypeOf=function(e,t){return e.__proto__=t,e}),e.exports={client:n(68)}},function(e,t,n){(function(t){"use strict";var r=n(69),i=n(73),o=n(74).EventEmitter,s=n(75),a=n(76),c=n(77),u=t.WebSocket||t.MozWebSocket||n(78),l=n(71),f=function client(e){if(this instanceof client==!1)return new client(e);this.setMaxListeners(0),this.opts=l.get(e,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=l.get(this.opts.options.clientId,null),this.maxReconnectAttempts=l.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=l.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=l.get(this.opts.connection.reconnect,!1),this.reconnectDecay=l.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=l.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=l.get(this.opts.connection.secure,!1),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;var t="error";this.opts.options.debug&&(t="info"),this.log=this.opts.logger||s;try{s.setLevel(t)}catch(e){}this.opts.channels.forEach(function(e,t,n){n[t]=l.channel(e)}),o.call(this)};l.inherits(f,o),f.prototype.api=r;for(var h in i)f.prototype[h]=i[h];f.prototype.handleMessage=function(e){var t=this;if(!l.isNull(e)){var n=l.channel(l.get(e.params[0],null)),r=l.get(e.params[1],null),i=l.get(e.tags["msg-id"],null);if(e.tags=a.badges(a.emotes(e.tags)),e.tags)for(var o in e.tags)"emote-sets"!==o&&"ban-duration"!==o&&"bits"!==o&&(l.isBoolean(e.tags[o])?e.tags[o]=null:"1"===e.tags[o]?e.tags[o]=!0:"0"===e.tags[o]&&(e.tags[o]=!1));if(l.isNull(e.prefix))switch(e.command){case"PING":this.emit("ping"),l.isNull(this.ws)||2===this.ws.readyState||3===this.ws.readyState||this.ws.send("PONG");break;case"PONG":var s=new Date;this.currentLatency=(s.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency],[this.currentLatency]]),clearTimeout(this.pingTimeout);break;default:this.log.warn("Could not parse message with no prefix:\n"+JSON.stringify(e,null,4))}else if("tmi.twitch.tv"===e.prefix)switch(e.command){case"002":case"003":case"004":case"375":case"376":case"CAP":break;case"001":this.username=e.params[0];break;case"372":this.log.info("Connected to server."),this.userstate["#jtv"]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval(function(){l.isNull(t.ws)||2===t.ws.readyState||3===t.ws.readyState||t.ws.send("PING"),t.latency=new Date,t.pingTimeout=setTimeout(function(){l.isNull(t.ws)||(t.wasCloseCalled=!1,t.log.error("Ping timeout."),t.ws.close(),clearInterval(t.pingLoop),clearTimeout(t.pingTimeout))},l.get(t.opts.connection.timeout,9999))},6e4);var u=new c.queue(2e3),f=l.union(this.opts.channels,this.channels);this.channels=[];for(var h=0;h<f.length;h++){var p=this;u.add(function(e){l.isNull(p.ws)||2===p.ws.readyState||3===p.ws.readyState||p.ws.send("JOIN "+l.channel(f[e]))}.bind(this,h))}u.run();break;case"NOTICE":switch(i){case"subs_on":this.log.info("["+n+"] This room is now in subscribers-only mode."),this.emits(["subscriber","subscribers","_promiseSubscribers"],[[n,!0],[n,!0],[null]]);break;case"subs_off":this.log.info("["+n+"] This room is no longer in subscribers-only mode."),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[[n,!1],[n,!1],[null]]);break;case"emote_only_on":this.log.info("["+n+"] This room is now in emote-only mode."),this.emits(["emoteonly","_promiseEmoteonly"],[[n,!0],[null]]);break;case"emote_only_off":this.log.info("["+n+"] This room is no longer in emote-only mode."),this.emits(["emoteonly","_promiseEmoteonlyoff"],[[n,!1],[null]]);break;case"slow_on":case"slow_off":break;case"r9k_on":this.log.info("["+n+"] This room is now in r9k mode."),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[[n,!0],[n,!0],[null]]);break;case"r9k_off":this.log.info("["+n+"] This room is no longer in r9k mode."),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[[n,!1],[n,!1],[null]]);break;case"room_mods":for(var d=r.split(":"),m=d[1].replace(/,/g,"").split(":").toString().toLowerCase().split(" "),h=m.length-1;h>=0;h--)""===m[h]&&m.splice(h,1);this.emits(["_promiseMods","mods"],[[null,m],[n,m]]);break;case"no_mods":this.emit("_promiseMods",null,[]);break;case"msg_channel_suspended":this.emits(["notice","_promiseJoin"],[[n,i,r],[i]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseBan"],[[n,i,r],[i]]);break;case"ban_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseBan"],[[n,i,r],[null]]);break;case"usage_clear":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseClear"],[[n,i,r],[i]]);break;case"usage_mods":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseMods"],[[n,i,r],[i,[]]]);break;case"mod_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseMod"],[[n,i,r],[null]]);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseMod"],[[n,i,r],[i]]);break;case"unmod_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnmod"],[[n,i,r],[null]]);break;case"usage_unmod":case"bad_unmod_mod":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnmod"],[[n,i,r],[i]]);break;case"color_changed":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseColor"],[[n,i,r],[null]]);break;case"usage_color":case"turbo_only_color":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseColor"],[[n,i,r],[i]]);break;case"commercial_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseCommercial"],[[n,i,r],[null]]);break;case"usage_commercial":case"bad_commercial_error":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseCommercial"],[[n,i,r],[i]]);break;case"hosts_remaining":this.log.info("["+n+"] "+r);var g=isNaN(r.charAt(0))?0:r.charAt(0);this.emits(["notice","_promiseHost"],[[n,i,r],[null,~~g]]);break;case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseHost"],[[n,i,r],[i,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseR9kbeta"],[[n,i,r],[i]]);break;case"already_r9k_off":case"usage_r9k_off":this.log.info("["+n+"] "+r),
this.emits(["notice","_promiseR9kbetaoff"],[[n,i,r],[i]]);break;case"timeout_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseTimeout"],[[n,i,r],[null]]);break;case"already_subs_off":case"usage_subs_off":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSubscribersoff"],[[n,i,r],[i]]);break;case"already_subs_on":case"usage_subs_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSubscribers"],[[n,i,r],[i]]);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseEmoteonlyoff"],[[n,i,r],[i]]);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseEmoteonly"],[[n,i,r],[i]]);break;case"usage_slow_on":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSlow"],[[n,i,r],[i]]);break;case"usage_slow_off":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseSlowoff"],[[n,i,r],[i]]);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseTimeout"],[[n,i,r],[i]]);break;case"unban_success":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnban"],[[n,i,r],[null]]);break;case"usage_unban":case"bad_unban_no_ban":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnban"],[[n,i,r],[i]]);break;case"usage_unhost":case"not_hosting":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseUnhost"],[[n,i,r],[i]]);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted_recipient":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseWhisper"],[[n,i,r],[i]]);break;case"no_permission":case"msg_banned":this.log.info("["+n+"] "+r),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseMod","_promiseUnmod","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff"],[[n,i,r],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i],[i]]);break;case"unrecognized_cmd":this.log.info("["+n+"] "+r),this.emit("notice",n,i,r),"/w"===r.split(" ").splice(-1)[0]&&this.log.warn("You must be connected to a group server to send or receive whispers.");break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":this.log.info("["+n+"] "+r),this.emit("notice",n,i,r);break;case"host_on":case"host_off":break;default:r.includes("Login unsuccessful")||r.includes("Login authentication failed")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=r,this.log.error(this.reason),this.ws.close()):r.includes("Error logging in")||r.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=r,this.log.error(this.reason),this.ws.close()):r.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):this.log.warn("Could not parse NOTICE from tmi.twitch.tv:\n"+JSON.stringify(e,null,4))}break;case"USERNOTICE":if("resub"===i){var v=e.tags["display-name"]||e.tags.login,y=l.get(~~e.tags["msg-param-months"],null);this.emits(["resub","subanniversary"],[[n,v,y,r],[n,v,y,r]])}break;case"HOSTTARGET":if("-"===r.split(" ")[0])this.log.info("["+n+"] Exited host mode."),this.emits(["unhost","_promiseUnhost"],[[n,~~r.split(" ")[1]||0],[null]]);else{var $=~~r.split(" ")[1]||0;this.log.info("["+n+"] Now hosting "+r.split(" ")[0]+" for "+$+" viewer(s)."),this.emit("hosting",n,r.split(" ")[0],$)}break;case"CLEARCHAT":if(e.params.length>1){var b=l.get(e.tags["ban-duration"],null),w=l.replaceAll(l.get(e.tags["ban-reason"],null),{"\\\\s":" ","\\\\:":";","\\\\\\\\":"\\","\\r":"\r","\\n":"\n"});l.isNull(b)?(this.log.info("["+n+"] "+r+" has been banned. Reason: "+(w||"n/a")),this.emit("ban",n,r,w)):(this.log.info("["+n+"] "+r+" has been timed out for "+b+" seconds. Reason: "+(w||"n/a")),this.emit("timeout",n,r,w,~~b))}else this.log.info("["+n+"] Chat was cleared by a moderator."),this.emits(["clearchat","_promiseClear"],[[n],[null]]);break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info("Disconnecting and reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.disconnect(),setTimeout(function(){t.connect()},this.reconnectTimer);break;case"SERVERCHANGE":break;case"USERSTATE":e.tags.username=this.username,"mod"===e.tags["user-type"]&&(this.moderators[this.lastJoined]||(this.moderators[this.lastJoined]=[]),this.moderators[this.lastJoined].indexOf(this.username)<0&&this.moderators[this.lastJoined].push(this.username)),l.isJustinfan(this.getUsername())||this.userstate[n]||(this.userstate[n]=e.tags,this.lastJoined=n,this.channels.push(n),this.log.info("Joined "+n),this.emit("join",n,l.username(this.getUsername()),!0)),e.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(e.tags["emote-sets"]),this.userstate[n]=e.tags;break;case"GLOBALUSERSTATE":this.globaluserstate=e.tags,"undefined"!=typeof e.tags["emote-sets"]&&this._updateEmoteset(e.tags["emote-sets"]);break;case"ROOMSTATE":l.channel(this.lastJoined)===l.channel(e.params[0])&&this.emit("_promiseJoin",null),e.tags.channel=l.channel(e.params[0]),this.emit("roomstate",l.channel(e.params[0]),e.tags),e.tags.hasOwnProperty("slow")&&!e.tags.hasOwnProperty("subs-only")&&("boolean"==typeof e.tags.slow?(this.log.info("["+n+"] This room is no longer in slow mode."),this.emits(["slow","slowmode","_promiseSlowoff"],[[n,!1,0],[n,!1,0],[null]])):(this.log.info("["+n+"] This room is now in slow mode."),this.emits(["slow","slowmode","_promiseSlow"],[[n,!0,~~e.tags.slow],[n,!0,~~e.tags.slow],[null]])));break;default:this.log.warn("Could not parse message from tmi.twitch.tv:\n"+JSON.stringify(e,null,4))}else if("jtv"===e.prefix)switch(e.command){case"MODE":"+o"===r?(this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].indexOf(e.params[2])<0&&this.moderators[n].push(e.params[2]),this.emit("mod",n,e.params[2])):"-o"===r&&(this.moderators[n]||(this.moderators[n]=[]),this.moderators[n].filter(function(t){return t!=e.params[2]}),this.emit("unmod",n,e.params[2]));break;default:this.log.warn("Could not parse message from jtv:\n"+JSON.stringify(e,null,4))}else switch(e.command){case"353":this.emit("names",e.params[2],e.params[3].split(" "));break;case"366":break;case"JOIN":l.isJustinfan(this.getUsername())&&this.username===e.prefix.split("!")[0]&&(this.lastJoined=n,this.channels.push(n),this.log.info("Joined "+n),this.emit("join",n,e.prefix.split("!")[0],!0)),this.username!==e.prefix.split("!")[0]&&this.emit("join",n,e.prefix.split("!")[0],!1);break;case"PART":var x=!1;if(this.username===e.prefix.split("!")[0]){x=!0,this.userstate[n]&&delete this.userstate[n];var S=this.channels.indexOf(n);S!==-1&&this.channels.splice(S,1);var S=this.opts.channels.indexOf(n);S!==-1&&this.opts.channels.splice(S,1),this.log.info("Left "+n),this.emit("_promisePart",null)}this.emit("part",n,e.prefix.split("!")[0],x);break;case"WHISPER":this.log.info("[WHISPER] <"+e.prefix.split("!")[0]+">: "+r),e.tags.hasOwnProperty("username")||(e.tags.username=e.prefix.split("!")[0]),e.tags["message-type"]="whisper";var C=l.channel(e.tags.username);this.emits(["whisper","message"],[[C,e.tags,r,!1],[C,e.tags,r,!1]]);break;case"PRIVMSG":if(e.tags.username=e.prefix.split("!")[0],"twitchnotify"===e.tags.username)r.includes("subscribed to")||r.includes("just subscribed")&&this.emit("subscription",n,r.split(" ")[0],{prime:r.includes("Twitch Prime!")});else if("jtv"===e.tags.username)if(r.includes("is now hosting you for")){var k=l.extractNumber(r);this.emit("hosted",n,l.username(r.split(" ")[0]),k)}else r.includes("is now hosting you")&&this.emit("hosted",n,l.username(r.split(" ")[0]),0);else r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)?(e.tags["message-type"]="action",this.log.info("["+n+"] *<"+e.tags.username+">: "+r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1]),this.emits(["action","message"],[[n,e.tags,r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!1],[n,e.tags,r.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!1]])):e.tags.hasOwnProperty("bits")?this.emit("cheer",n,e.tags,r):(e.tags["message-type"]="chat",this.log.info("["+n+"] <"+e.tags.username+">: "+r),this.emits(["chat","message"],[[n,e.tags,r,!1],[n,e.tags,r,!1]]));break;default:this.log.warn("Could not parse message:\n"+JSON.stringify(e,null,4))}}},f.prototype.connect=function(){var e=this;return new Promise(function(t,n){e.server=l.get(e.opts.connection.server,"irc-ws.chat.twitch.tv"),e.port=l.get(e.opts.connection.port,80),e.secure&&(e.port=443),443===e.port&&(e.secure=!0),e.reconnectTimer=e.reconnectTimer*e.reconnectDecay,e.reconnectTimer>=e.maxReconnectInterval&&(e.reconnectTimer=e.maxReconnectInterval),e._openConnection(),e.once("_promiseConnect",function(r){r?n(r):t([e.server,~~e.port])})})},f.prototype._openConnection=function(){this.ws=new u((this.secure?"wss":"ws")+"://"+this.server+":"+this.port+"/","irc"),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},f.prototype._onOpen=function(){l.isNull(this.ws)||1!==this.ws.readyState||(this.log.info("Connecting to "+this.server+" on port "+this.port+".."),this.emit("connecting",this.server,~~this.port),this.username=l.get(this.opts.identity.username,l.justinfan()),this.password=l.password(l.get(this.opts.identity.password,"SCHMOOPIIE")),this.log.info("Sending authentication to server.."),this.emit("logon"),this.ws.send("CAP REQ :twitch.tv/tags twitch.tv/commands twitch.tv/membership"),this.ws.send("PASS "+this.password),this.ws.send("NICK "+this.username),this.ws.send("USER "+this.username+" 8 * :"+this.username))},f.prototype._onMessage=function(e){var t=this,n=e.data.split("\r\n");n.forEach(function(e){l.isNull(e)||t.handleMessage(a.msg(e))})},f.prototype._onError=function(){var e=this;this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.reason=l.isNull(this.ws)?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason],[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error("Reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.emit("reconnect"),setTimeout(function(){e.reconnecting=!1,e.connect()},this.reconnectTimer)),this.ws=null},f.prototype._onClose=function(){var e=this;this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason],[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error("Could not connect to server. Reconnecting in "+Math.round(this.reconnectTimer/1e3)+" seconds.."),this.emit("reconnect"),setTimeout(function(){e.reconnecting=!1,e.connect()},this.reconnectTimer))),this.ws=null},f.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},f.prototype._sendCommand=function(e,t,n,r){var i=this;return new Promise(function(o,s){l.promiseDelay(e).then(function(){s("No response from Twitch.")}),l.isNull(i.ws)||2===i.ws.readyState||3===i.ws.readyState?s("Not connected to server."):(l.isNull(t)?(i.log.info("Executing command: "+n),i.ws.send(n)):(i.log.info("["+l.channel(t)+"] Executing command: "+n),i.ws.send("PRIVMSG "+l.channel(t)+" :"+n)),r(o,s))})},f.prototype._sendMessage=function(e,t,n,r){var i=this;return new Promise(function(o,s){if(l.isNull(i.ws)||2===i.ws.readyState||3===i.ws.readyState||l.isJustinfan(i.getUsername()))s("Not connected to server.");else{if(i.userstate[l.channel(t)]||(i.userstate[l.channel(t)]={}),n.length>=500){var c=l.splitLine(n,500);n=c[0],setTimeout(function(){i._sendMessage(e,t,c[1])},350)}i.ws.send("PRIVMSG "+l.channel(t)+" :"+n);var u={};Object.keys(i.emotesets).forEach(function(e){i.emotesets[e].forEach(function(e){return l.isRegex(e.code)?a.emoteRegex(n,e.code,e.id,u):void a.emoteString(n,e.code,e.id,u)})});var f=l.merge(i.userstate[l.channel(t)],a.emotes({emotes:a.transformEmotes(u)||null}));n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)?(f["message-type"]="action",i.log.info("["+l.channel(t)+"] *<"+i.getUsername()+">: "+n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1]),i.emits(["action","message"],[[l.channel(t),f,n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!0],[l.channel(t),f,n.match(/^\u0001ACTION ([^\u0001]+)\u0001$/)[1],!0]])):(f["message-type"]="chat",i.log.info("["+l.channel(t)+"] <"+i.getUsername()+">: "+n),i.emits(["chat","message"],[[l.channel(t),f,n,!0],[l.channel(t),f,n,!0]])),r(o,s)}})},f.prototype._updateEmoteset=function(e){var t=this;this.emotes=e,this.api({url:"/chat/emoticon_images?emotesets="+e,headers:{Authorization:"OAuth "+l.password(l.get(this.opts.identity.password,"")).replace("oauth:",""),"Client-ID":this.clientId}},function(n,r,i){return n?void setTimeout(function(){t._updateEmoteset(e)},6e4):(t.emotesets=i.emoticon_sets||{},t.emit("emotesets",e,t.emotesets))})},f.prototype.getUsername=function(){return this.username},f.prototype.getOptions=function(){return this.opts},f.prototype.getChannels=function(){return this.channels},f.prototype.isMod=function(e,t){return this.moderators[l.channel(e)]||(this.moderators[l.channel(e)]=[]),this.moderators[l.channel(e)].indexOf(l.username(t))>=0},f.prototype.readyState=function(){return l.isNull(this.ws)?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},f.prototype.disconnect=function(){var e=this;return new Promise(function(t,n){l.isNull(e.ws)||3===e.ws.readyState?(e.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),n("Cannot disconnect from server. Socket is not opened or connection is already closing.")):(e.wasCloseCalled=!0,e.log.info("Disconnecting from server.."),e.ws.close(),e.once("_promiseDisconnect",function(){t([e.server,~~e.port])}))})},f.prototype.utils={levenshtein:function(e,t,n){var r=1,i=1,o=1;if(n=l.get(n,!1),n||(e=e.toLowerCase(),t=t.toLowerCase()),e==t)return 0;var s=e.length,a=t.length;if(0===s)return a*r;if(0===a)return s*o;var c=!1;try{c=!"0"[0]}catch(e){c=!0}c&&(e=e.split(""),t=t.split(""));var u,f,h,p,d,m,g=new Array(a+1),v=new Array(a+1);for(f=0;f<=a;f++)g[f]=f*r;for(u=0;u<s;u++){for(v[0]=g[0]+o,f=0;f<a;f++)h=g[f]+(e[u]==t[f]?0:i),p=g[f+1]+o,p<h&&(h=p),d=v[f]+r,d<h&&(h=d),v[f+1]=h;m=g,g=v,v=m}return h=g[a]},raffle:{init:function(e){this.raffleChannels||(this.raffleChannels={}),this.raffleChannels[l.channel(e)]||(this.raffleChannels[l.channel(e)]=[])},enter:function(e,t){this.init(e),this.raffleChannels[l.channel(e)].push(t.toLowerCase())},leave:function(e,t){this.init(e);var n=this.raffleChannels[l.channel(e)].indexOf(l.username(t));return n>=0&&(this.raffleChannels[l.channel(e)].splice(n,1),!0)},pick:function(e){this.init(e);var t=this.raffleChannels[l.channel(e)].length;return t>=1?this.raffleChannels[l.channel(e)][Math.floor(Math.random()*t)]:null},reset:function(e){this.init(e),this.raffleChannels[l.channel(e)]=[]},count:function(e){return this.init(e),this.raffleChannels[l.channel(e)]?this.raffleChannels[l.channel(e)].length:0},isParticipating:function(e,t){return this.init(e),this.raffleChannels[l.channel(e)].indexOf(l.username(t))>=0}},symbols:function(e){for(var t=0,n=0;n<e.length;n++){var r=e.substring(n,n+1).charCodeAt(0);(r<=30||r>=127||65533===r)&&t++}return Math.ceil(t/e.length*100)/100},uppercase:function(e){var t=e.length,n=e.match(/[A-Z]/g);return l.isNull(n)?0:n.length/t}},"undefined"!=typeof e&&e.exports&&(e.exports=f),"undefined"!=typeof window&&(window.tmi={},window.tmi.client=f)}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(70),i=n(71),o=function(e,t){var n=null===i.get(e.url,null)?i.get(e.uri,null):i.get(e.url,null);if(i.isURL(n)||(n="/"===n.charAt(0)?"https://api.twitch.tv/kraken"+n:"https://api.twitch.tv/kraken/"+n),i.isNode())r(i.merge(e,{url:n,method:"GET",json:!0}),function(e,n,r){t(e,n,r)});else if(i.isExtension()){e=i.merge(e,{url:n,method:"GET",headers:{}});var o=new XMLHttpRequest;o.open(e.method,e.url,!0);for(var s in e.headers)o.setRequestHeader(s,e.headers[s]);o.responseType="json",o.addEventListener("load",function(e){4==o.readyState&&(200!=o.status?t(o.status,null,null):t(null,null,o.response))}),o.send()}else{var a="jsonp_callback_"+Math.round(1e5*Math.random());window[a]=function(e){delete window[a],document.body.removeChild(c),t(null,null,e)};var c=document.createElement("script");c.src=""+n+(n.indexOf("?")>=0?"&":"?")+"callback="+a,document.body.appendChild(c)}};e.exports=o},53,function(e,t,n){(function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e.exports={get:function(e,t){return"undefined"==typeof e?t:e},isBoolean:function(e){return"boolean"==typeof e},isFinite:function(e){function isFinite(t){return e.apply(this,arguments)}return isFinite.toString=function(){return e.toString()},isFinite}(function(e){return isFinite(e)&&!isNaN(parseFloat(e))}),isInteger:function(e){return!isNaN(r.toNumber(e,0))},isJustinfan:function(e){return RegExp("^(justinfan)(\\d+$)","g").test(e)},isNull:function(e){return null===e},isRegex:function(e){return/[\|\\\^\$\*\+\?\:\#]/.test(e)},isString:function(e){return"string"==typeof e},isURL:function(e){return RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i").test(e)},justinfan:function(){return"justinfan"+Math.floor(8e4*Math.random()+1e3)},password:function(e){return"SCHMOOPIIE"===e?"SCHMOOPIIE":"oauth:"+e.toLowerCase().replace("oauth:","")},promiseDelay:function(e){return new Promise(function(t){setTimeout(t,e)})},replaceAll:function(e,t){if(null===e||"undefined"==typeof e)return null;for(var n in t)e=e.replace(new RegExp(n,"g"),t[n]);return e},unescapeHtml:function(e){return e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'")},addWord:function(e,t){return 0!=e.length&&(e+=" "),e+=t},channel:function channel(e){var channel="undefined"==typeof e||null===e?"":e;return"#"===channel.charAt(0)?channel.toLowerCase():"#"+channel.toLowerCase()},extractNumber:function(e){for(var t=e.split(" "),n=0;n<t.length;n++)if(r.isInteger(t[n]))return~~t[n];return 0},formatDate:function(e){var t=e.getHours(),n=e.getMinutes();return t=(t<10?"0":"")+t,n=(n<10?"0":"")+n,t+":"+n},inherits:function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e},isNode:function(){try{return e.exports="object"===("undefined"==typeof t?"undefined":n(t))&&"[object process]"===Object.prototype.toString.call(t)}catch(e){return!1}},isExtension:function(){try{return!!(window.chrome&&chrome.runtime&&chrome.runtime.id)}catch(e){return!1}},merge:function(e,t){for(var n in t)try{t[n].constructor==Object?e[n]=r.merge(e[n],t[n]):e[n]=t[n]}catch(r){e[n]=t[n]}return e},splitLine:function(e,t){var n=e.substring(0,t).lastIndexOf(" ");return[e.substring(0,n),e.substring(n+1)]},toNumber:function(e,t){if(null===e)return 0;var n=Math.pow(10,r.isFinite(t)?t:0);return Math.round(e*n)/n},union:function(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i];n[o]||(n[o]=!0,r.push(o))}for(var i=0;i<t.length;i++){var o=t[i];n[o]||(n[o]=!0,r.push(o))}return r},username:function username(e){var username="undefined"==typeof e||null===e?"":e;return"#"===username.charAt(0)?username.substring(1).toLowerCase():username.toLowerCase()}}}).call(t,n(72))},function(e,t){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(n===setTimeout)return setTimeout(e,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function runClearTimeout(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}function cleanUpNextTick(){a&&o&&(a=!1,o.length?s=o.concat(s):c=-1,s.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=s.length;t;){for(o=s,s=[];++c<t;)o&&o[c].run();c=-1,t=s.length}o=null,a=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var n,r,i=e.exports={};!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,s=[],a=!1,c=-1;i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new Item(e,t)),1!==s.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=noop,i.addListener=noop,i.once=noop,i.off=noop,i.removeListener=noop,i.removeAllListeners=noop,i.emit=noop,i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function part(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),null,"PART "+e,function(n,r){t.once("_promisePart",function(t){t?r(t):n([e])})})}function r9kbeta(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbeta",function(n,r){t.once("_promiseR9kbeta",function(t){t?r(t):n([e])})})}function r9kbetaoff(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/r9kbetaoff",function(n,r){t.once("_promiseR9kbetaoff",function(t){t?r(t):n([e])})})}function slow(e,t){var n=this;return e=r.channel(e),t=r.get(t,300),this._sendCommand(this._getPromiseDelay(),e,"/slow "+t,function(r,i){n.once("_promiseSlow",function(n){n?i(n):r([e,~~t])})})}function slowoff(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/slowoff",function(n,r){t.once("_promiseSlowoff",function(t){t?r(t):n([e])})})}var r=n(71);e.exports={action:function(e,t){return e=r.channel(e),t="ACTION "+t+"",this._sendMessage(this._getPromiseDelay(),e,t,function(n,r){n([e,t])})},ban:function(e,t,n){var i=this;return e=r.channel(e),t=r.username(t),n=r.get(n,""),this._sendCommand(this._getPromiseDelay(),e,"/ban "+t+" "+n,function(r,o){i.once("_promiseBan",function(i){i?o(i):r([e,t,n])})})},clear:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/clear",function(n,r){t.once("_promiseClear",function(t){t?r(t):n([e])})})},color:function(e,t){var n=this;return t=r.get(t,e),this._sendCommand(this._getPromiseDelay(),"#jtv","/color "+t,function(e,r){n.once("_promiseColor",function(n){n?r(n):e([t])})})},commercial:function(e,t){var n=this;return e=r.channel(e),t=r.get(t,30),this._sendCommand(this._getPromiseDelay(),e,"/commercial "+t,function(r,i){n.once("_promiseCommercial",function(n){n?i(n):r([e,~~t])})})},emoteonly:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonly",function(n,r){t.once("_promiseEmoteonly",function(t){t?r(t):n([e])})})},emoteonlyoff:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/emoteonlyoff",function(n,r){t.once("_promiseEmoteonlyoff",function(t){t?r(t):n([e])})})},host:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(2e3,e,"/host "+t,function(r,i){n.once("_promiseHost",function(n,o){n?i(n):r([e,t,~~o])})})},join:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),null,"JOIN "+e,function(n,r){t.once("_promiseJoin",function(t){t?r(t):n([e])})})},mod:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(this._getPromiseDelay(),e,"/mod "+t,function(r,i){n.once("_promiseMod",function(n){n?i(n):r([e,t])})})},mods:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/mods",function(n,r){t.once("_promiseMods",function(i,o){i?r(i):(o.forEach(function(n){t.moderators[e]||(t.moderators[e]=[]),t.moderators[e].indexOf(n)<0&&t.moderators[e].push(n)}),n(o))})})},part:part,leave:part,ping:function(){var e=this;return this._sendCommand(this._getPromiseDelay(),null,"PING",function(t,n){e.latency=new Date,e.pingTimeout=setTimeout(function(){null!==e.ws&&(e.wasCloseCalled=!1,e.log.error("Ping timeout."),e.ws.close(),clearInterval(e.pingLoop),clearTimeout(e.pingTimeout))},r.get(e.opts.connection.timeout,9999)),e.once("_promisePing",function(e){t([parseFloat(e)])})})},r9kbeta:r9kbeta,r9kmode:r9kbeta,r9kbetaoff:r9kbetaoff,r9kmodeoff:r9kbetaoff,raw:function(e){return this._sendCommand(this._getPromiseDelay(),null,e,function(t,n){t([e])})},say:function(e,t){return e=r.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?"me "===t.substr(1,3)?this.action(e,t.substr(4)):this._sendCommand(this._getPromiseDelay(),e,t,function(n,r){n([e,t])}):this._sendMessage(this._getPromiseDelay(),e,t,function(n,r){n([e,t])})},slow:slow,slowmode:slow,slowoff:slowoff,slowmodeoff:slowoff,subscribers:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribers",function(n,r){t.once("_promiseSubscribers",function(t){t?r(t):n([e])})})},subscribersoff:function(e){var t=this;return e=r.channel(e),this._sendCommand(this._getPromiseDelay(),e,"/subscribersoff",function(n,r){t.once("_promiseSubscribersoff",function(t){t?r(t):n([e])})})},timeout:function(e,t,n,i){var o=this;return e=r.channel(e),t=r.username(t),r.isNull(n)||r.isInteger(n)||(i=n,n=300),n=r.get(n,300),i=r.get(i,""),this._sendCommand(this._getPromiseDelay(),e,"/timeout "+t+" "+n+" "+i,function(r,s){o.once("_promiseTimeout",function(o){o?s(o):r([e,t,~~n,i])})})},unban:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unban "+t,function(r,i){n.once("_promiseUnban",function(n){n?i(n):r([e,t])})})},unhost:function(e){var t=this;return e=r.channel(e),this._sendCommand(2e3,e,"/unhost",function(n,r){t.once("_promiseUnhost",function(t){t?r(t):n([e])})})},unmod:function(e,t){var n=this;return e=r.channel(e),t=r.username(t),this._sendCommand(this._getPromiseDelay(),e,"/unmod "+t,function(r,i){n.once("_promiseUnmod",function(n){n?i(n):r([e,t])})})},whisper:function(e,t){var n=this;return e=r.username(e),e===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(this._getPromiseDelay(),"#jtv","/w "+e+" "+t,function(i,o){var s=r.channel(e),a=r.merge({"message-type":"whisper","message-id":null,"thread-id":null,username:n.getUsername()},n.globaluserstate);n.emits(["whisper","message"],[[s,a,t,!0],[s,a,t,!0]]),i([e,t])})}}},function(e,t){"use strict";function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(e){return"function"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e}function isUndefined(e){return void 0===e}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),e.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(e){if(!isNumber(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},EventEmitter.prototype.emits=function(e,t){for(var n=0;n<e.length;n++)t[n].unshift(e[n]),this.emit.apply(this,t[n])},EventEmitter.prototype.emit=function(e){var t,n,r,i,o,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],isUndefined(n))return!1;if(isFunction(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(isObject(n))for(i=Array.prototype.slice.call(arguments,1),s=n.slice(),r=s.length,o=0;o<r;o++)s[o].apply(this,i);return!0},EventEmitter.prototype.addListener=function(e,t){var n;if(!isFunction(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,isFunction(t.listener)?t.listener:t),this._events[e]?isObject(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,isObject(this._events[e])&&!this._events[e].warned&&(n=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(e,t){function g(){"_"!==e.charAt(0)||isNaN(e.substr(e.length-1))||(e=e.substring(0,e.length-1)),this.removeListener(e,g),n||(n=!0,t.apply(this,arguments))}if(!isFunction(t))throw TypeError("listener must be a function");var n=!1;if(this._events.hasOwnProperty(e)&&"_"===e.charAt(0)){var r=1,i=e;for(var o in this._events)this._events.hasOwnProperty(o)&&o.startsWith(i)&&r++;e+=r}return g.listener=t,this.on(e,g),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,o;if(!isFunction(t))throw TypeError("listener must be a function");
if(!this._events||!this._events[e])return this;if(n=this._events[e],i=n.length,r=-1,n===t||isFunction(n.listener)&&n.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&"_"===e.charAt(0)){var s=e;for(var a in this._events)this._events.hasOwnProperty(a)&&a.startsWith(s)&&(isNaN(parseInt(a.substr(a.length-1)))||(this._events[e+parseInt(a.substr(a.length-1)-1)]=this._events[a],delete this._events[a]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(isObject(n)){for(o=i;o-- >0;)if(n[o]===t||n[o].listener&&n[o].listener===t){r=o;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],isFunction(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},EventEmitter.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?isFunction(this._events[e])?[this._events[e]]:this._events[e].slice():[]},EventEmitter.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(isFunction(t))return 1;if(t)return t.length}return 0},EventEmitter.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";function log(e){return function(t){o[e]>=o[i]&&console.log("["+r.formatDate(new Date)+"] "+e+": "+t)}}var r=n(71),i="info",o={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};e.exports={setLevel:function(e){i=e},trace:log("trace"),debug:log("debug"),info:log("info"),warn:log("warn"),error:log("error"),fatal:log("fatal")}},function(e,t,n){"use strict";var r=n(71);e.exports={badges:function badges(e){if(r.isString(e.badges)){for(var badges={},t=e.badges.split(","),n=0;n<t.length;n++){var i=t[n].split("/");if(!i[1])return;badges[i[0]]=i[1]}e["badges-raw"]=e.badges,e.badges=badges}return r.isBoolean(e.badges)&&(e["badges-raw"]=null),e},emotes:function emotes(e){if(r.isString(e.emotes)){for(var t=e.emotes.split("/"),emotes={},n=0;n<t.length;n++){var i=t[n].split(":");if(!i[1])return;emotes[i[0]]=i[1].split(",")}e["emotes-raw"]=e.emotes,e.emotes=emotes}return r.isBoolean(e.emotes)&&(e["emotes-raw"]=null),e},emoteRegex:function(e,t,n,i){for(var o,s=/\S+/g,a=new RegExp("(\\b|^|s)"+r.unescapeHtml(t)+"(\\b|$|s)");null!==(o=s.exec(e));)a.test(o[0])&&(i[n]=i[n]||[],i[n].push([o.index,s.lastIndex-1]))},emoteString:function(e,t,n,i){for(var o,s=/\S+/g;null!==(o=s.exec(e));)o[0]===r.unescapeHtml(t)&&(i[n]=i[n]||[],i[n].push([o.index,s.lastIndex-1]))},transformEmotes:function(e){var t="";return Object.keys(e).forEach(function(n){t=t+n+":",e[n].forEach(function(e){t=t+e.join("-")+","}),t=t.slice(0,-1)+"/"}),t.slice(0,-1)},msg:function(e){var t={raw:e,tags:{},prefix:null,command:null,params:[]},n=0,r=0;if(64===e.charCodeAt(0)){var r=e.indexOf(" ");if(r===-1)return null;for(var i=e.slice(1,r).split(";"),o=0;o<i.length;o++){var s=i[o],a=s.split("=");t.tags[a[0]]=s.substring(s.indexOf("=")+1)||!0}n=r+1}for(;32===e.charCodeAt(n);)n++;if(58===e.charCodeAt(n)){if(r=e.indexOf(" ",n),r===-1)return null;for(t.prefix=e.slice(n+1,r),n=r+1;32===e.charCodeAt(n);)n++}if(r=e.indexOf(" ",n),r===-1)return e.length>n?(t.command=e.slice(n),t):null;for(t.command=e.slice(n,r),n=r+1;32===e.charCodeAt(n);)n++;for(;n<e.length;){if(r=e.indexOf(" ",n),58===e.charCodeAt(n)){t.params.push(e.slice(n+1));break}if(r===-1){if(r===-1){t.params.push(e.slice(n));break}}else for(t.params.push(e.slice(n,r)),n=r+1;32===e.charCodeAt(n);)n++}return t}}},function(e,t){"use strict";function queue(e){this.queue=[],this.index=0,this.defaultDelay=e||3e3}queue.prototype.add=function(e,t){this.queue.push({fn:e,delay:t})},queue.prototype.run=function(e){(e||0===e)&&(this.index=e),this.next()},queue.prototype.next=function next(){var e=this,t=this.index++,n=this.queue[t],next=this.queue[this.index];n&&(n.fn(),next&&setTimeout(function(){e.next()},next.delay||this.defaultDelay))},queue.prototype.reset=function(){this.index=0},queue.prototype.clear=function(){this.index=0,this.queue=[]},t.queue=queue},53]));